(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function d0(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var wm={exports:{}},Bl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iE;function S1(){if(iE)return Bl;iE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Bl.Fragment=e,Bl.jsx=t,Bl.jsxs=t,Bl}var rE;function R1(){return rE||(rE=1,wm.exports=S1()),wm.exports}var S=R1(),Sm={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sE;function I1(){if(sE)return Re;sE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.iterator;function w(x){return x===null||typeof x!="object"?null:(x=b&&x[b]||x["@@iterator"],typeof x=="function"?x:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,K={};function U(x,ne,oe){this.props=x,this.context=ne,this.refs=K,this.updater=oe||D}U.prototype.isReactComponent={},U.prototype.setState=function(x,ne){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,ne,"setState")},U.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function Q(){}Q.prototype=U.prototype;function ie(x,ne,oe){this.props=x,this.context=ne,this.refs=K,this.updater=oe||D}var W=ie.prototype=new Q;W.constructor=ie,N(W,U.prototype),W.isPureReactComponent=!0;var le=Array.isArray,ce={H:null,A:null,T:null,S:null,V:null},Ae=Object.prototype.hasOwnProperty;function P(x,ne,oe,re,ge,De){return oe=De.ref,{$$typeof:i,type:x,key:ne,ref:oe!==void 0?oe:null,props:De}}function R(x,ne){return P(x.type,ne,void 0,void 0,void 0,x.props)}function I(x){return typeof x=="object"&&x!==null&&x.$$typeof===i}function M(x){var ne={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(oe){return ne[oe]})}var V=/\/+/g;function j(x,ne){return typeof x=="object"&&x!==null&&x.key!=null?M(""+x.key):ne.toString(36)}function O(){}function Lt(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(O,O):(x.status="pending",x.then(function(ne){x.status==="pending"&&(x.status="fulfilled",x.value=ne)},function(ne){x.status==="pending"&&(x.status="rejected",x.reason=ne)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function ot(x,ne,oe,re,ge){var De=typeof x;(De==="undefined"||De==="boolean")&&(x=null);var be=!1;if(x===null)be=!0;else switch(De){case"bigint":case"string":case"number":be=!0;break;case"object":switch(x.$$typeof){case i:case e:be=!0;break;case E:return be=x._init,ot(be(x._payload),ne,oe,re,ge)}}if(be)return ge=ge(x),be=re===""?"."+j(x,0):re,le(ge)?(oe="",be!=null&&(oe=be.replace(V,"$&/")+"/"),ot(ge,ne,oe,"",function(ni){return ni})):ge!=null&&(I(ge)&&(ge=R(ge,oe+(ge.key==null||x&&x.key===ge.key?"":(""+ge.key).replace(V,"$&/")+"/")+be)),ne.push(ge)),1;be=0;var Ot=re===""?".":re+":";if(le(x))for(var Ze=0;Ze<x.length;Ze++)re=x[Ze],De=Ot+j(re,Ze),be+=ot(re,ne,oe,De,ge);else if(Ze=w(x),typeof Ze=="function")for(x=Ze.call(x),Ze=0;!(re=x.next()).done;)re=re.value,De=Ot+j(re,Ze++),be+=ot(re,ne,oe,De,ge);else if(De==="object"){if(typeof x.then=="function")return ot(Lt(x),ne,oe,re,ge);throw ne=String(x),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return be}function Y(x,ne,oe){if(x==null)return x;var re=[],ge=0;return ot(x,re,"","",function(De){return ne.call(oe,De,ge++)}),re}function ae(x){if(x._status===-1){var ne=x._result;ne=ne(),ne.then(function(oe){(x._status===0||x._status===-1)&&(x._status=1,x._result=oe)},function(oe){(x._status===0||x._status===-1)&&(x._status=2,x._result=oe)}),x._status===-1&&(x._status=0,x._result=ne)}if(x._status===1)return x._result.default;throw x._result}var me=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function Be(){}return Re.Children={map:Y,forEach:function(x,ne,oe){Y(x,function(){ne.apply(this,arguments)},oe)},count:function(x){var ne=0;return Y(x,function(){ne++}),ne},toArray:function(x){return Y(x,function(ne){return ne})||[]},only:function(x){if(!I(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},Re.Component=U,Re.Fragment=t,Re.Profiler=o,Re.PureComponent=ie,Re.StrictMode=s,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ce,Re.__COMPILER_RUNTIME={__proto__:null,c:function(x){return ce.H.useMemoCache(x)}},Re.cache=function(x){return function(){return x.apply(null,arguments)}},Re.cloneElement=function(x,ne,oe){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var re=N({},x.props),ge=x.key,De=void 0;if(ne!=null)for(be in ne.ref!==void 0&&(De=void 0),ne.key!==void 0&&(ge=""+ne.key),ne)!Ae.call(ne,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&ne.ref===void 0||(re[be]=ne[be]);var be=arguments.length-2;if(be===1)re.children=oe;else if(1<be){for(var Ot=Array(be),Ze=0;Ze<be;Ze++)Ot[Ze]=arguments[Ze+2];re.children=Ot}return P(x.type,ge,void 0,void 0,De,re)},Re.createContext=function(x){return x={$$typeof:h,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},Re.createElement=function(x,ne,oe){var re,ge={},De=null;if(ne!=null)for(re in ne.key!==void 0&&(De=""+ne.key),ne)Ae.call(ne,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(ge[re]=ne[re]);var be=arguments.length-2;if(be===1)ge.children=oe;else if(1<be){for(var Ot=Array(be),Ze=0;Ze<be;Ze++)Ot[Ze]=arguments[Ze+2];ge.children=Ot}if(x&&x.defaultProps)for(re in be=x.defaultProps,be)ge[re]===void 0&&(ge[re]=be[re]);return P(x,De,void 0,void 0,null,ge)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(x){return{$$typeof:m,render:x}},Re.isValidElement=I,Re.lazy=function(x){return{$$typeof:E,_payload:{_status:-1,_result:x},_init:ae}},Re.memo=function(x,ne){return{$$typeof:g,type:x,compare:ne===void 0?null:ne}},Re.startTransition=function(x){var ne=ce.T,oe={};ce.T=oe;try{var re=x(),ge=ce.S;ge!==null&&ge(oe,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(Be,me)}catch(De){me(De)}finally{ce.T=ne}},Re.unstable_useCacheRefresh=function(){return ce.H.useCacheRefresh()},Re.use=function(x){return ce.H.use(x)},Re.useActionState=function(x,ne,oe){return ce.H.useActionState(x,ne,oe)},Re.useCallback=function(x,ne){return ce.H.useCallback(x,ne)},Re.useContext=function(x){return ce.H.useContext(x)},Re.useDebugValue=function(){},Re.useDeferredValue=function(x,ne){return ce.H.useDeferredValue(x,ne)},Re.useEffect=function(x,ne,oe){var re=ce.H;if(typeof oe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return re.useEffect(x,ne)},Re.useId=function(){return ce.H.useId()},Re.useImperativeHandle=function(x,ne,oe){return ce.H.useImperativeHandle(x,ne,oe)},Re.useInsertionEffect=function(x,ne){return ce.H.useInsertionEffect(x,ne)},Re.useLayoutEffect=function(x,ne){return ce.H.useLayoutEffect(x,ne)},Re.useMemo=function(x,ne){return ce.H.useMemo(x,ne)},Re.useOptimistic=function(x,ne){return ce.H.useOptimistic(x,ne)},Re.useReducer=function(x,ne,oe){return ce.H.useReducer(x,ne,oe)},Re.useRef=function(x){return ce.H.useRef(x)},Re.useState=function(x){return ce.H.useState(x)},Re.useSyncExternalStore=function(x,ne,oe){return ce.H.useSyncExternalStore(x,ne,oe)},Re.useTransition=function(){return ce.H.useTransition()},Re.version="19.1.0",Re}var aE;function wp(){return aE||(aE=1,Sm.exports=I1()),Sm.exports}var G=wp();const C1=d0(G);var Rm={exports:{}},zl={},Im={exports:{}},Cm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oE;function D1(){return oE||(oE=1,function(i){function e(Y,ae){var me=Y.length;Y.push(ae);e:for(;0<me;){var Be=me-1>>>1,x=Y[Be];if(0<o(x,ae))Y[Be]=ae,Y[me]=x,me=Be;else break e}}function t(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var ae=Y[0],me=Y.pop();if(me!==ae){Y[0]=me;e:for(var Be=0,x=Y.length,ne=x>>>1;Be<ne;){var oe=2*(Be+1)-1,re=Y[oe],ge=oe+1,De=Y[ge];if(0>o(re,me))ge<x&&0>o(De,re)?(Y[Be]=De,Y[ge]=me,Be=ge):(Y[Be]=re,Y[oe]=me,Be=oe);else if(ge<x&&0>o(De,me))Y[Be]=De,Y[ge]=me,Be=ge;else break e}}return ae}function o(Y,ae){var me=Y.sortIndex-ae.sortIndex;return me!==0?me:Y.id-ae.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var p=[],g=[],E=1,b=null,w=3,D=!1,N=!1,K=!1,U=!1,Q=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function le(Y){for(var ae=t(g);ae!==null;){if(ae.callback===null)s(g);else if(ae.startTime<=Y)s(g),ae.sortIndex=ae.expirationTime,e(p,ae);else break;ae=t(g)}}function ce(Y){if(K=!1,le(Y),!N)if(t(p)!==null)N=!0,Ae||(Ae=!0,j());else{var ae=t(g);ae!==null&&ot(ce,ae.startTime-Y)}}var Ae=!1,P=-1,R=5,I=-1;function M(){return U?!0:!(i.unstable_now()-I<R)}function V(){if(U=!1,Ae){var Y=i.unstable_now();I=Y;var ae=!0;try{e:{N=!1,K&&(K=!1,ie(P),P=-1),D=!0;var me=w;try{t:{for(le(Y),b=t(p);b!==null&&!(b.expirationTime>Y&&M());){var Be=b.callback;if(typeof Be=="function"){b.callback=null,w=b.priorityLevel;var x=Be(b.expirationTime<=Y);if(Y=i.unstable_now(),typeof x=="function"){b.callback=x,le(Y),ae=!0;break t}b===t(p)&&s(p),le(Y)}else s(p);b=t(p)}if(b!==null)ae=!0;else{var ne=t(g);ne!==null&&ot(ce,ne.startTime-Y),ae=!1}}break e}finally{b=null,w=me,D=!1}ae=void 0}}finally{ae?j():Ae=!1}}}var j;if(typeof W=="function")j=function(){W(V)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,Lt=O.port2;O.port1.onmessage=V,j=function(){Lt.postMessage(null)}}else j=function(){Q(V,0)};function ot(Y,ae){P=Q(function(){Y(i.unstable_now())},ae)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Y){Y.callback=null},i.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Y?Math.floor(1e3/Y):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_next=function(Y){switch(w){case 1:case 2:case 3:var ae=3;break;default:ae=w}var me=w;w=ae;try{return Y()}finally{w=me}},i.unstable_requestPaint=function(){U=!0},i.unstable_runWithPriority=function(Y,ae){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var me=w;w=Y;try{return ae()}finally{w=me}},i.unstable_scheduleCallback=function(Y,ae,me){var Be=i.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Be+me:Be):me=Be,Y){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=me+x,Y={id:E++,callback:ae,priorityLevel:Y,startTime:me,expirationTime:x,sortIndex:-1},me>Be?(Y.sortIndex=me,e(g,Y),t(p)===null&&Y===t(g)&&(K?(ie(P),P=-1):K=!0,ot(ce,me-Be))):(Y.sortIndex=x,e(p,Y),N||D||(N=!0,Ae||(Ae=!0,j()))),Y},i.unstable_shouldYield=M,i.unstable_wrapCallback=function(Y){var ae=w;return function(){var me=w;w=ae;try{return Y.apply(this,arguments)}finally{w=me}}}}(Cm)),Cm}var lE;function O1(){return lE||(lE=1,Im.exports=D1()),Im.exports}var Dm={exports:{}},Yt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uE;function N1(){if(uE)return Yt;uE=1;var i=wp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:g,implementation:E}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Yt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Yt.flushSync=function(p){var g=h.T,E=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=E,s.d.f()}},Yt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Yt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Yt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,b=m(E,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,D=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:D}):E==="script"&&s.d.X(p,{crossOrigin:b,integrity:w,fetchPriority:D,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Yt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Yt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,b=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Yt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Yt.requestFormReset=function(p){s.d.r(p)},Yt.unstable_batchedUpdates=function(p,g){return p(g)},Yt.useFormState=function(p,g,E){return h.H.useFormState(p,g,E)},Yt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Yt.version="19.1.0",Yt}var cE;function x1(){if(cE)return Dm.exports;cE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Dm.exports=N1(),Dm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hE;function M1(){if(hE)return zl;hE=1;var i=O1(),e=wp(),t=x1();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function h(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function m(n){if(u(n)!==n)throw Error(s(188))}function p(n){var r=n.alternate;if(!r){if(r=u(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,l=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return m(f),n;if(d===l)return m(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var v=!1,T=f.child;T;){if(T===a){v=!0,a=f,l=d;break}if(T===l){v=!0,l=f,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=f;break}if(T===l){v=!0,l=d,a=f;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function g(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=g(n),r!==null)return r;n=n.sibling}return null}var E=Object.assign,b=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),Q=Symbol.for("react.provider"),ie=Symbol.for("react.consumer"),W=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),Ae=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function j(n){return n===null||typeof n!="object"?null:(n=V&&n[V]||n["@@iterator"],typeof n=="function"?n:null)}var O=Symbol.for("react.client.reference");function Lt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===O?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case N:return"Fragment";case U:return"Profiler";case K:return"StrictMode";case ce:return"Suspense";case Ae:return"SuspenseList";case I:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case D:return"Portal";case W:return(n.displayName||"Context")+".Provider";case ie:return(n._context.displayName||"Context")+".Consumer";case le:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case P:return r=n.displayName||null,r!==null?r:Lt(n.type)||"Memo";case R:r=n._payload,n=n._init;try{return Lt(n(r))}catch{}}return null}var ot=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Be=[],x=-1;function ne(n){return{current:n}}function oe(n){0>x||(n.current=Be[x],Be[x]=null,x--)}function re(n,r){x++,Be[x]=n.current,n.current=r}var ge=ne(null),De=ne(null),be=ne(null),Ot=ne(null);function Ze(n,r){switch(re(be,r),re(De,n),re(ge,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?Nv(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=Nv(r),n=xv(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}oe(ge),re(ge,n)}function ni(){oe(ge),oe(De),oe(be)}function lr(n){n.memoizedState!==null&&re(Ot,n);var r=ge.current,a=xv(r,n.type);r!==a&&(re(De,n),re(ge,a))}function Ii(n){De.current===n&&(oe(ge),oe(De)),Ot.current===n&&(oe(Ot),Pl._currentValue=me)}var us=Object.prototype.hasOwnProperty,cs=i.unstable_scheduleCallback,hs=i.unstable_cancelCallback,xo=i.unstable_shouldYield,Ou=i.unstable_requestPaint,Rn=i.unstable_now,wf=i.unstable_getCurrentPriorityLevel,Mo=i.unstable_ImmediatePriority,ha=i.unstable_UserBlockingPriority,fs=i.unstable_NormalPriority,Sf=i.unstable_LowPriority,fa=i.unstable_IdlePriority,ko=i.log,Nu=i.unstable_setDisableYieldValue,lt=null,Fe=null;function dn(n){if(typeof ko=="function"&&Nu(n),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(lt,n)}catch{}}var $t=Math.clz32?Math.clz32:ds,xu=Math.log,Rf=Math.LN2;function ds(n){return n>>>=0,n===0?32:31-(xu(n)/Rf|0)|0}var ms=256,ps=4194304;function Fn(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function da(n,r,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,d=n.suspendedLanes,v=n.pingedLanes;n=n.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?f=Fn(l):(v&=T,v!==0?f=Fn(v):a||(a=T&~n,a!==0&&(f=Fn(a))))):(T=l&~d,T!==0?f=Fn(T):v!==0?f=Fn(v):a||(a=l&~n,a!==0&&(f=Fn(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function gs(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function Po(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vo(){var n=ms;return ms<<=1,(ms&4194048)===0&&(ms=256),n}function Lo(){var n=ps;return ps<<=1,(ps&62914560)===0&&(ps=4194304),n}function Ci(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function Di(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Uo(n,r,a,l,f,d){var v=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var T=n.entanglements,C=n.expirationTimes,q=n.hiddenUpdates;for(a=v&~a;0<a;){var X=31-$t(a),J=1<<X;T[X]=0,C[X]=-1;var H=q[X];if(H!==null)for(q[X]=null,X=0;X<H.length;X++){var F=H[X];F!==null&&(F.lane&=-536870913)}a&=~J}l!==0&&ii(n,l,0),d!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=d&~(v&~r))}function ii(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var l=31-$t(r);n.entangledLanes|=r,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function jo(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var l=31-$t(a),f=1<<l;f&r|n[l]&r&&(n[l]|=r),a&=~f}}function ur(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function ma(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function cr(){var n=ae.p;return n!==0?n:(n=window.event,n===void 0?32:Wv(n.type))}function Mu(n,r){var a=ae.p;try{return ae.p=n,r()}finally{ae.p=a}}var tt=Math.random().toString(36).slice(2),bt="__reactFiber$"+tt,yt="__reactProps$"+tt,In="__reactContainer$"+tt,Bo="__reactEvents$"+tt,If="__reactListeners$"+tt,hr="__reactHandles$"+tt,ku="__reactResources$"+tt,ys="__reactMarker$"+tt;function fr(n){delete n[bt],delete n[yt],delete n[Bo],delete n[If],delete n[hr]}function Oi(n){var r=n[bt];if(r)return r;for(var a=n.parentNode;a;){if(r=a[In]||a[bt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=Vv(n);n!==null;){if(a=n[bt])return a;n=Vv(n)}return r}n=a,a=n.parentNode}return null}function ri(n){if(n=n[bt]||n[In]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function si(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function en(n){var r=n[ku];return r||(r=n[ku]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function dt(n){n[ys]=!0}var zo=new Set,pa={};function Gn(n,r){Ni(n,r),Ni(n+"Capture",r)}function Ni(n,r){for(pa[n]=r,n=0;n<r.length;n++)zo.add(r[n])}var Pu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vu={},_s={};function Lu(n){return us.call(_s,n)?!0:us.call(Vu,n)?!1:Pu.test(n)?_s[n]=!0:(Vu[n]=!0,!1)}function dr(n,r,a){if(Lu(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function ai(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function Ut(n,r,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+l)}}var vs,Uu;function xi(n){if(vs===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);vs=r&&r[1]||"",Uu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vs+n+Uu}var ga=!1;function ya(n,r){if(!n||ga)return"";ga=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(F){var H=F}Reflect.construct(n,[],J)}else{try{J.call()}catch(F){H=F}n.call(J.prototype)}}else{try{throw Error()}catch(F){H=F}(J=n())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(F){if(F&&H&&typeof F.stack=="string")return[F.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var C=v.split(`
`),q=T.split(`
`);for(f=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;f<q.length&&!q[f].includes("DetermineComponentFrameRoot");)f++;if(l===C.length||f===q.length)for(l=C.length-1,f=q.length-1;1<=l&&0<=f&&C[l]!==q[f];)f--;for(;1<=l&&0<=f;l--,f--)if(C[l]!==q[f]){if(l!==1||f!==1)do if(l--,f--,0>f||C[l]!==q[f]){var X=`
`+C[l].replace(" at new "," at ");return n.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",n.displayName)),X}while(1<=l&&0<=f);break}}}finally{ga=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?xi(a):""}function qo(n){switch(n.tag){case 26:case 27:case 5:return xi(n.type);case 16:return xi("Lazy");case 13:return xi("Suspense");case 19:return xi("SuspenseList");case 0:case 15:return ya(n.type,!1);case 11:return ya(n.type.render,!1);case 1:return ya(n.type,!0);case 31:return xi("Activity");default:return""}}function _a(n){try{var r="";do r+=qo(n),n=n.return;while(n);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function tn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ho(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Cf(n){var r=Ho(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),l=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,d=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function va(n){n._valueTracker||(n._valueTracker=Cf(n))}function Fo(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return n&&(l=Ho(n)?n.checked?"true":"false":n.value),n=l,n!==a?(r.setValue(n),!0):!1}function Es(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Df=/[\n"\\]/g;function _t(n){return n.replace(Df,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function mn(n,r,a,l,f,d,v,T){n.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?n.type=v:n.removeAttribute("type"),r!=null?v==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+tn(r)):n.value!==""+tn(r)&&(n.value=""+tn(r)):v!=="submit"&&v!=="reset"||n.removeAttribute("value"),r!=null?mr(n,v,tn(r)):a!=null?mr(n,v,tn(a)):l!=null&&n.removeAttribute("value"),f==null&&d!=null&&(n.defaultChecked=!!d),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.name=""+tn(T):n.removeAttribute("name")}function Ts(n,r,a,l,f,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+tn(a):"",r=r!=null?""+tn(r):a,T||r===n.value||(n.value=r),n.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=T?n.checked:!!l,n.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(n.name=v)}function mr(n,r,a){r==="number"&&Es(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Mi(n,r,a,l){if(n=n.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=r.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+tn(a),r=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function $e(n,r,a){if(r!=null&&(r=""+tn(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+tn(a):""}function As(n,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(ot(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=tn(r),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function Cn(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var bs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ju(n,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":l?n.setProperty(r,a):typeof a!="number"||a===0||bs.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function Go(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&ju(n,f,l)}else for(var d in r)r.hasOwnProperty(d)&&ju(n,d,r[d])}function Ko(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Of=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Nf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ea(n){return Nf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var ki=null;function Dn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Pi=null,Vi=null;function $o(n){var r=ri(n);if(r&&(n=r.stateNode)){var a=n[yt]||null;e:switch(n=r.stateNode,r.type){case"input":if(mn(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+_t(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==n&&l.form===n.form){var f=l[yt]||null;if(!f)throw Error(s(90));mn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===n.form&&Fo(l)}break e;case"textarea":$e(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Mi(n,!!a.multiple,r,!1)}}}var oi=!1;function Bu(n,r,a){if(oi)return n(r,a);oi=!0;try{var l=n(r);return l}finally{if(oi=!1,(Pi!==null||Vi!==null)&&(Mc(),Pi&&(r=Pi,n=Vi,Vi=Pi=null,$o(r),n)))for(r=0;r<n.length;r++)$o(n[r])}}function ws(n,r){var a=n.stateNode;if(a===null)return null;var l=a[yt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),On=!1;if(Kn)try{var Ss={};Object.defineProperty(Ss,"passive",{get:function(){On=!0}}),window.addEventListener("test",Ss,Ss),window.removeEventListener("test",Ss,Ss)}catch{On=!1}var li=null,pr=null,Li=null;function Qo(){if(Li)return Li;var n,r=pr,a=r.length,l,f="value"in li?li.value:li.textContent,d=f.length;for(n=0;n<a&&r[n]===f[n];n++);var v=a-n;for(l=1;l<=v&&r[a-l]===f[d-l];l++);return Li=f.slice(n,1<l?1-l:void 0)}function ui(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function ci(){return!0}function Yo(){return!1}function Nt(n){function r(a,l,f,d,v){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(a=n[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ci:Yo,this.isPropagationStopped=Yo,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ci)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ci)},persist:function(){},isPersistent:ci}),r}var qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ta=Nt(qe),Rs=E({},qe,{view:0,detail:0}),zu=Nt(Rs),Aa,ba,hi,Is=E({},Rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Os,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==hi&&(hi&&n.type==="mousemove"?(Aa=n.screenX-hi.screenX,ba=n.screenY-hi.screenY):ba=Aa=0,hi=n),Aa)},movementY:function(n){return"movementY"in n?n.movementY:ba}}),Nn=Nt(Is),qu=E({},Is,{dataTransfer:0}),xf=Nt(qu),Cs=E({},Rs,{relatedTarget:0}),wa=Nt(Cs),Xo=E({},qe,{animationName:0,elapsedTime:0,pseudoElement:0}),Sa=Nt(Xo),Hu=E({},qe,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ra=Nt(Hu),Mf=E({},qe,{data:0}),Wo=Nt(Mf),Ds={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zo(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=Gu[n])?!!r[n]:!1}function Os(){return Zo}var Ku=E({},Rs,{key:function(n){if(n.key){var r=Ds[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=ui(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Fu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Os,charCode:function(n){return n.type==="keypress"?ui(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ui(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Ia=Nt(Ku),$u=E({},Is,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jo=Nt($u),Ui=E({},Rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Os}),Qu=Nt(Ui),Yu=E({},qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xu=Nt(Yu),Wu=E({},Is,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ca=Nt(Wu),nn=E({},qe,{newState:0,oldState:0}),Zu=Nt(nn),Ju=[9,13,27,32],fi=Kn&&"CompositionEvent"in window,c=null;Kn&&"documentMode"in document&&(c=document.documentMode);var y=Kn&&"TextEvent"in window&&!c,_=Kn&&(!fi||c&&8<c&&11>=c),A=" ",B=!1;function $(n,r){switch(n){case"keyup":return Ju.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function se(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Pe=!1;function wt(n,r){switch(n){case"compositionend":return se(r);case"keypress":return r.which!==32?null:(B=!0,A);case"textInput":return n=r.data,n===A&&B?null:n;default:return null}}function Ve(n,r){if(Pe)return n==="compositionend"||!fi&&$(n,r)?(n=Qo(),Li=pr=li=null,Pe=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var xt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function St(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!xt[n.type]:r==="textarea"}function ji(n,r,a,l){Pi?Vi?Vi.push(l):Vi=[l]:Pi=l,r=jc(r,"onChange"),0<r.length&&(a=new Ta("onChange","change",null,a,l),n.push({event:a,listeners:r}))}var jt=null,di=null;function el(n){Rv(n,0)}function ec(n){var r=si(n);if(Fo(r))return n}function $g(n,r){if(n==="change")return r}var Qg=!1;if(Kn){var kf;if(Kn){var Pf="oninput"in document;if(!Pf){var Yg=document.createElement("div");Yg.setAttribute("oninput","return;"),Pf=typeof Yg.oninput=="function"}kf=Pf}else kf=!1;Qg=kf&&(!document.documentMode||9<document.documentMode)}function Xg(){jt&&(jt.detachEvent("onpropertychange",Wg),di=jt=null)}function Wg(n){if(n.propertyName==="value"&&ec(di)){var r=[];ji(r,di,n,Dn(n)),Bu(el,r)}}function tS(n,r,a){n==="focusin"?(Xg(),jt=r,di=a,jt.attachEvent("onpropertychange",Wg)):n==="focusout"&&Xg()}function nS(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ec(di)}function iS(n,r){if(n==="click")return ec(r)}function rS(n,r){if(n==="input"||n==="change")return ec(r)}function sS(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var pn=typeof Object.is=="function"?Object.is:sS;function tl(n,r){if(pn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!us.call(r,f)||!pn(n[f],r[f]))return!1}return!0}function Zg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Jg(n,r){var a=Zg(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=r&&l>=r)return{node:a,offset:r-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Zg(a)}}function ey(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?ey(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function ty(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=Es(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=Es(n.document)}return r}function Vf(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var aS=Kn&&"documentMode"in document&&11>=document.documentMode,Da=null,Lf=null,nl=null,Uf=!1;function ny(n,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Uf||Da==null||Da!==Es(l)||(l=Da,"selectionStart"in l&&Vf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),nl&&tl(nl,l)||(nl=l,l=jc(Lf,"onSelect"),0<l.length&&(r=new Ta("onSelect","select",null,r,a),n.push({event:r,listeners:l}),r.target=Da)))}function Ns(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var Oa={animationend:Ns("Animation","AnimationEnd"),animationiteration:Ns("Animation","AnimationIteration"),animationstart:Ns("Animation","AnimationStart"),transitionrun:Ns("Transition","TransitionRun"),transitionstart:Ns("Transition","TransitionStart"),transitioncancel:Ns("Transition","TransitionCancel"),transitionend:Ns("Transition","TransitionEnd")},jf={},iy={};Kn&&(iy=document.createElement("div").style,"AnimationEvent"in window||(delete Oa.animationend.animation,delete Oa.animationiteration.animation,delete Oa.animationstart.animation),"TransitionEvent"in window||delete Oa.transitionend.transition);function xs(n){if(jf[n])return jf[n];if(!Oa[n])return n;var r=Oa[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in iy)return jf[n]=r[a];return n}var ry=xs("animationend"),sy=xs("animationiteration"),ay=xs("animationstart"),oS=xs("transitionrun"),lS=xs("transitionstart"),uS=xs("transitioncancel"),oy=xs("transitionend"),ly=new Map,Bf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bf.push("scrollEnd");function $n(n,r){ly.set(n,r),Gn(r,[n])}var uy=new WeakMap;function xn(n,r){if(typeof n=="object"&&n!==null){var a=uy.get(n);return a!==void 0?a:(r={value:n,source:r,stack:_a(r)},uy.set(n,r),r)}return{value:n,source:r,stack:_a(r)}}var Mn=[],Na=0,zf=0;function tc(){for(var n=Na,r=zf=Na=0;r<n;){var a=Mn[r];Mn[r++]=null;var l=Mn[r];Mn[r++]=null;var f=Mn[r];Mn[r++]=null;var d=Mn[r];if(Mn[r++]=null,l!==null&&f!==null){var v=l.pending;v===null?f.next=f:(f.next=v.next,v.next=f),l.pending=f}d!==0&&cy(a,f,d)}}function nc(n,r,a,l){Mn[Na++]=n,Mn[Na++]=r,Mn[Na++]=a,Mn[Na++]=l,zf|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function qf(n,r,a,l){return nc(n,r,a,l),ic(n)}function xa(n,r){return nc(n,null,null,r),ic(n)}function cy(n,r,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=n.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(f=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,f&&r!==null&&(f=31-$t(a),n=d.hiddenUpdates,l=n[f],l===null?n[f]=[r]:l.push(r),r.lane=a|536870912),d):null}function ic(n){if(50<Il)throw Il=0,Qd=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Ma={};function cS(n,r,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(n,r,a,l){return new cS(n,r,a,l)}function Hf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Bi(n,r){var a=n.alternate;return a===null?(a=gn(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function hy(n,r){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function rc(n,r,a,l,f,d){var v=0;if(l=n,typeof n=="function")Hf(n)&&(v=1);else if(typeof n=="string")v=f1(n,a,ge.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case I:return n=gn(31,a,r,f),n.elementType=I,n.lanes=d,n;case N:return Ms(a.children,f,d,r);case K:v=8,f|=24;break;case U:return n=gn(12,a,r,f|2),n.elementType=U,n.lanes=d,n;case ce:return n=gn(13,a,r,f),n.elementType=ce,n.lanes=d,n;case Ae:return n=gn(19,a,r,f),n.elementType=Ae,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Q:case W:v=10;break e;case ie:v=9;break e;case le:v=11;break e;case P:v=14;break e;case R:v=16,l=null;break e}v=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return r=gn(v,a,r,f),r.elementType=n,r.type=l,r.lanes=d,r}function Ms(n,r,a,l){return n=gn(7,n,l,r),n.lanes=a,n}function Ff(n,r,a){return n=gn(6,n,null,r),n.lanes=a,n}function Gf(n,r,a){return r=gn(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var ka=[],Pa=0,sc=null,ac=0,kn=[],Pn=0,ks=null,zi=1,qi="";function Ps(n,r){ka[Pa++]=ac,ka[Pa++]=sc,sc=n,ac=r}function fy(n,r,a){kn[Pn++]=zi,kn[Pn++]=qi,kn[Pn++]=ks,ks=n;var l=zi;n=qi;var f=32-$t(l)-1;l&=~(1<<f),a+=1;var d=32-$t(r)+f;if(30<d){var v=f-f%5;d=(l&(1<<v)-1).toString(32),l>>=v,f-=v,zi=1<<32-$t(r)+f|a<<f|l,qi=d+n}else zi=1<<d|a<<f|l,qi=n}function Kf(n){n.return!==null&&(Ps(n,1),fy(n,1,0))}function $f(n){for(;n===sc;)sc=ka[--Pa],ka[Pa]=null,ac=ka[--Pa],ka[Pa]=null;for(;n===ks;)ks=kn[--Pn],kn[Pn]=null,qi=kn[--Pn],kn[Pn]=null,zi=kn[--Pn],kn[Pn]=null}var rn=null,ut=null,ze=!1,Vs=null,mi=!1,Qf=Error(s(519));function Ls(n){var r=Error(s(418,""));throw sl(xn(r,n)),Qf}function dy(n){var r=n.stateNode,a=n.type,l=n.memoizedProps;switch(r[bt]=n,r[yt]=l,a){case"dialog":xe("cancel",r),xe("close",r);break;case"iframe":case"object":case"embed":xe("load",r);break;case"video":case"audio":for(a=0;a<Dl.length;a++)xe(Dl[a],r);break;case"source":xe("error",r);break;case"img":case"image":case"link":xe("error",r),xe("load",r);break;case"details":xe("toggle",r);break;case"input":xe("invalid",r),Ts(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),va(r);break;case"select":xe("invalid",r);break;case"textarea":xe("invalid",r),As(r,l.value,l.defaultValue,l.children),va(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||Ov(r.textContent,a)?(l.popover!=null&&(xe("beforetoggle",r),xe("toggle",r)),l.onScroll!=null&&xe("scroll",r),l.onScrollEnd!=null&&xe("scrollend",r),l.onClick!=null&&(r.onclick=Bc),r=!0):r=!1,r||Ls(n)}function my(n){for(rn=n.return;rn;)switch(rn.tag){case 5:case 13:mi=!1;return;case 27:case 3:mi=!0;return;default:rn=rn.return}}function il(n){if(n!==rn)return!1;if(!ze)return my(n),ze=!0,!1;var r=n.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||cm(n.type,n.memoizedProps)),a=!a),a&&ut&&Ls(n),my(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(r===0){ut=Yn(n.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;n=n.nextSibling}ut=null}}else r===27?(r=ut,Nr(n.type)?(n=mm,mm=null,ut=n):ut=r):ut=rn?Yn(n.stateNode.nextSibling):null;return!0}function rl(){ut=rn=null,ze=!1}function py(){var n=Vs;return n!==null&&(ln===null?ln=n:ln.push.apply(ln,n),Vs=null),n}function sl(n){Vs===null?Vs=[n]:Vs.push(n)}var Yf=ne(null),Us=null,Hi=null;function gr(n,r,a){re(Yf,r._currentValue),r._currentValue=a}function Fi(n){n._currentValue=Yf.current,oe(Yf)}function Xf(n,r,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),n===a)break;n=n.return}}function Wf(n,r,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var d=f.dependencies;if(d!==null){var v=f.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=f;for(var C=0;C<r.length;C++)if(T.context===r[C]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Xf(d.return,a,n),l||(v=null);break e}d=T.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Xf(v,a,n),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===n){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function al(n,r,a,l){n=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=f.type;pn(f.pendingProps.value,v.value)||(n!==null?n.push(T):n=[T])}}else if(f===Ot.current){if(v=f.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Pl):n=[Pl])}f=f.return}n!==null&&Wf(r,n,a,l),r.flags|=262144}function oc(n){for(n=n.firstContext;n!==null;){if(!pn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function js(n){Us=n,Hi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Qt(n){return gy(Us,n)}function lc(n,r){return Us===null&&js(n),gy(n,r)}function gy(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Hi===null){if(n===null)throw Error(s(308));Hi=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else Hi=Hi.next=r;return a}var hS=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},fS=i.unstable_scheduleCallback,dS=i.unstable_NormalPriority,Rt={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zf(){return{controller:new hS,data:new Map,refCount:0}}function ol(n){n.refCount--,n.refCount===0&&fS(dS,function(){n.controller.abort()})}var ll=null,Jf=0,Va=0,La=null;function mS(n,r){if(ll===null){var a=ll=[];Jf=0,Va=tm(),La={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Jf++,r.then(yy,yy),r}function yy(){if(--Jf===0&&ll!==null){La!==null&&(La.status="fulfilled");var n=ll;ll=null,Va=0,La=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function pS(n,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var _y=Y.S;Y.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&mS(n,r),_y!==null&&_y(n,r)};var Bs=ne(null);function ed(){var n=Bs.current;return n!==null?n:Je.pooledCache}function uc(n,r){r===null?re(Bs,Bs.current):re(Bs,r.pool)}function vy(){var n=ed();return n===null?null:{parent:Rt._currentValue,pool:n}}var ul=Error(s(460)),Ey=Error(s(474)),cc=Error(s(542)),td={then:function(){}};function Ty(n){return n=n.status,n==="fulfilled"||n==="rejected"}function hc(){}function Ay(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(hc,hc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,wy(n),n;default:if(typeof r.status=="string")r.then(hc,hc);else{if(n=Je,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,wy(n),n}throw cl=r,ul}}var cl=null;function by(){if(cl===null)throw Error(s(459));var n=cl;return cl=null,n}function wy(n){if(n===ul||n===cc)throw Error(s(483))}var yr=!1;function nd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function id(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function _r(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function vr(n,r,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=ic(n),cy(n,null,a),r}return nc(n,l,r,a),ic(n)}function hl(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,jo(n,a)}}function rd(n,r){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var sd=!1;function fl(){if(sd){var n=La;if(n!==null)throw n}}function dl(n,r,a,l){sd=!1;var f=n.updateQueue;yr=!1;var d=f.firstBaseUpdate,v=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var C=T,q=C.next;C.next=null,v===null?d=q:v.next=q,v=C;var X=n.alternate;X!==null&&(X=X.updateQueue,T=X.lastBaseUpdate,T!==v&&(T===null?X.firstBaseUpdate=q:T.next=q,X.lastBaseUpdate=C))}if(d!==null){var J=f.baseState;v=0,X=q=C=null,T=d;do{var H=T.lane&-536870913,F=H!==T.lane;if(F?(Le&H)===H:(l&H)===H){H!==0&&H===Va&&(sd=!0),X!==null&&(X=X.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Te=n,ye=T;H=r;var Xe=a;switch(ye.tag){case 1:if(Te=ye.payload,typeof Te=="function"){J=Te.call(Xe,J,H);break e}J=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=ye.payload,H=typeof Te=="function"?Te.call(Xe,J,H):Te,H==null)break e;J=E({},J,H);break e;case 2:yr=!0}}H=T.callback,H!==null&&(n.flags|=64,F&&(n.flags|=8192),F=f.callbacks,F===null?f.callbacks=[H]:F.push(H))}else F={lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},X===null?(q=X=F,C=J):X=X.next=F,v|=H;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;F=T,T=F.next,F.next=null,f.lastBaseUpdate=F,f.shared.pending=null}}while(!0);X===null&&(C=J),f.baseState=C,f.firstBaseUpdate=q,f.lastBaseUpdate=X,d===null&&(f.shared.lanes=0),Ir|=v,n.lanes=v,n.memoizedState=J}}function Sy(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function Ry(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Sy(a[n],r)}var Ua=ne(null),fc=ne(0);function Iy(n,r){n=Wi,re(fc,n),re(Ua,r),Wi=n|r.baseLanes}function ad(){re(fc,Wi),re(Ua,Ua.current)}function od(){Wi=fc.current,oe(Ua),oe(fc)}var Er=0,Ie=null,Qe=null,vt=null,dc=!1,ja=!1,zs=!1,mc=0,ml=0,Ba=null,gS=0;function mt(){throw Error(s(321))}function ld(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!pn(n[a],r[a]))return!1;return!0}function ud(n,r,a,l,f,d){return Er=d,Ie=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Y.H=n===null||n.memoizedState===null?c_:h_,zs=!1,d=a(l,f),zs=!1,ja&&(d=Dy(r,a,l,f)),Cy(n),d}function Cy(n){Y.H=Ec;var r=Qe!==null&&Qe.next!==null;if(Er=0,vt=Qe=Ie=null,dc=!1,ml=0,Ba=null,r)throw Error(s(300));n===null||Mt||(n=n.dependencies,n!==null&&oc(n)&&(Mt=!0))}function Dy(n,r,a,l){Ie=n;var f=0;do{if(ja&&(Ba=null),ml=0,ja=!1,25<=f)throw Error(s(301));if(f+=1,vt=Qe=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=bS,d=r(a,l)}while(ja);return d}function yS(){var n=Y.H,r=n.useState()[0];return r=typeof r.then=="function"?pl(r):r,n=n.useState()[0],(Qe!==null?Qe.memoizedState:null)!==n&&(Ie.flags|=1024),r}function cd(){var n=mc!==0;return mc=0,n}function hd(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function fd(n){if(dc){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}dc=!1}Er=0,vt=Qe=Ie=null,ja=!1,ml=mc=0,Ba=null}function an(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Ie.memoizedState=vt=n:vt=vt.next=n,vt}function Et(){if(Qe===null){var n=Ie.alternate;n=n!==null?n.memoizedState:null}else n=Qe.next;var r=vt===null?Ie.memoizedState:vt.next;if(r!==null)vt=r,Qe=n;else{if(n===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));Qe=n,n={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},vt===null?Ie.memoizedState=vt=n:vt=vt.next=n}return vt}function dd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pl(n){var r=ml;return ml+=1,Ba===null&&(Ba=[]),n=Ay(Ba,n,r),r=Ie,(vt===null?r.memoizedState:vt.next)===null&&(r=r.alternate,Y.H=r===null||r.memoizedState===null?c_:h_),n}function pc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return pl(n);if(n.$$typeof===W)return Qt(n)}throw Error(s(438,String(n)))}function md(n){var r=null,a=Ie.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=dd(),Ie.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),l=0;l<n;l++)a[l]=M;return r.index++,a}function Gi(n,r){return typeof r=="function"?r(n):r}function gc(n){var r=Et();return pd(r,Qe,n)}function pd(n,r,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=n.baseQueue,d=l.pending;if(d!==null){if(f!==null){var v=f.next;f.next=d.next,d.next=v}r.baseQueue=f=d,l.pending=null}if(d=n.baseState,f===null)n.memoizedState=d;else{r=f.next;var T=v=null,C=null,q=r,X=!1;do{var J=q.lane&-536870913;if(J!==q.lane?(Le&J)===J:(Er&J)===J){var H=q.revertLane;if(H===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),J===Va&&(X=!0);else if((Er&H)===H){q=q.next,H===Va&&(X=!0);continue}else J={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},C===null?(T=C=J,v=d):C=C.next=J,Ie.lanes|=H,Ir|=H;J=q.action,zs&&a(d,J),d=q.hasEagerState?q.eagerState:a(d,J)}else H={lane:J,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},C===null?(T=C=H,v=d):C=C.next=H,Ie.lanes|=J,Ir|=J;q=q.next}while(q!==null&&q!==r);if(C===null?v=d:C.next=T,!pn(d,n.memoizedState)&&(Mt=!0,X&&(a=La,a!==null)))throw a;n.memoizedState=d,n.baseState=v,n.baseQueue=C,l.lastRenderedState=d}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function gd(n){var r=Et(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do d=n(d,v.action),v=v.next;while(v!==f);pn(d,r.memoizedState)||(Mt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function Oy(n,r,a){var l=Ie,f=Et(),d=ze;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!pn((Qe||f).memoizedState,a);v&&(f.memoizedState=a,Mt=!0),f=f.queue;var T=My.bind(null,l,f,n);if(gl(2048,8,T,[n]),f.getSnapshot!==r||v||vt!==null&&vt.memoizedState.tag&1){if(l.flags|=2048,za(9,yc(),xy.bind(null,l,f,a,r),null),Je===null)throw Error(s(349));d||(Er&124)!==0||Ny(l,r,a)}return a}function Ny(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=Ie.updateQueue,r===null?(r=dd(),Ie.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function xy(n,r,a,l){r.value=a,r.getSnapshot=l,ky(r)&&Py(n)}function My(n,r,a){return a(function(){ky(r)&&Py(n)})}function ky(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!pn(n,a)}catch{return!0}}function Py(n){var r=xa(n,2);r!==null&&Tn(r,n,2)}function yd(n){var r=an();if(typeof n=="function"){var a=n;if(n=a(),zs){dn(!0);try{a()}finally{dn(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:n},r}function Vy(n,r,a,l){return n.baseState=a,pd(n,Qe,typeof l=="function"?l:Gi)}function _S(n,r,a,l,f){if(vc(n))throw Error(s(485));if(n=r.action,n!==null){var d={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};Y.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,Ly(r,d)):(d.next=a.next,r.pending=a.next=d)}}function Ly(n,r){var a=r.action,l=r.payload,f=n.state;if(r.isTransition){var d=Y.T,v={};Y.T=v;try{var T=a(f,l),C=Y.S;C!==null&&C(v,T),Uy(n,r,T)}catch(q){_d(n,r,q)}finally{Y.T=d}}else try{d=a(f,l),Uy(n,r,d)}catch(q){_d(n,r,q)}}function Uy(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){jy(n,r,l)},function(l){return _d(n,r,l)}):jy(n,r,a)}function jy(n,r,a){r.status="fulfilled",r.value=a,By(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,Ly(n,a)))}function _d(n,r,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,By(r),r=r.next;while(r!==l)}n.action=null}function By(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function zy(n,r){return r}function qy(n,r){if(ze){var a=Je.formState;if(a!==null){e:{var l=Ie;if(ze){if(ut){t:{for(var f=ut,d=mi;f.nodeType!==8;){if(!d){f=null;break t}if(f=Yn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){ut=Yn(f.nextSibling),l=f.data==="F!";break e}}Ls(l)}l=!1}l&&(r=a[0])}}return a=an(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zy,lastRenderedState:r},a.queue=l,a=o_.bind(null,Ie,l),l.dispatch=a,l=yd(!1),d=bd.bind(null,Ie,!1,l.queue),l=an(),f={state:r,dispatch:null,action:n,pending:null},l.queue=f,a=_S.bind(null,Ie,f,d,a),f.dispatch=a,l.memoizedState=n,[r,a,!1]}function Hy(n){var r=Et();return Fy(r,Qe,n)}function Fy(n,r,a){if(r=pd(n,r,zy)[0],n=gc(Gi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=pl(r)}catch(v){throw v===ul?cc:v}else l=r;r=Et();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(Ie.flags|=2048,za(9,yc(),vS.bind(null,f,a),null)),[l,d,n]}function vS(n,r){n.action=r}function Gy(n){var r=Et(),a=Qe;if(a!==null)return Fy(r,a,n);Et(),r=r.memoizedState,a=Et();var l=a.queue.dispatch;return a.memoizedState=n,[r,l,!1]}function za(n,r,a,l){return n={tag:n,create:a,deps:l,inst:r,next:null},r=Ie.updateQueue,r===null&&(r=dd(),Ie.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,r.lastEffect=n),n}function yc(){return{destroy:void 0,resource:void 0}}function Ky(){return Et().memoizedState}function _c(n,r,a,l){var f=an();l=l===void 0?null:l,Ie.flags|=n,f.memoizedState=za(1|r,yc(),a,l)}function gl(n,r,a,l){var f=Et();l=l===void 0?null:l;var d=f.memoizedState.inst;Qe!==null&&l!==null&&ld(l,Qe.memoizedState.deps)?f.memoizedState=za(r,d,a,l):(Ie.flags|=n,f.memoizedState=za(1|r,d,a,l))}function $y(n,r){_c(8390656,8,n,r)}function Qy(n,r){gl(2048,8,n,r)}function Yy(n,r){return gl(4,2,n,r)}function Xy(n,r){return gl(4,4,n,r)}function Wy(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function Zy(n,r,a){a=a!=null?a.concat([n]):null,gl(4,4,Wy.bind(null,r,n),a)}function vd(){}function Jy(n,r){var a=Et();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&ld(r,l[1])?l[0]:(a.memoizedState=[n,r],n)}function e_(n,r){var a=Et();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&ld(r,l[1]))return l[0];if(l=n(),zs){dn(!0);try{n()}finally{dn(!1)}}return a.memoizedState=[l,r],l}function Ed(n,r,a){return a===void 0||(Er&1073741824)!==0?n.memoizedState=r:(n.memoizedState=a,n=iv(),Ie.lanes|=n,Ir|=n,a)}function t_(n,r,a,l){return pn(a,r)?a:Ua.current!==null?(n=Ed(n,a,l),pn(n,r)||(Mt=!0),n):(Er&42)===0?(Mt=!0,n.memoizedState=a):(n=iv(),Ie.lanes|=n,Ir|=n,r)}function n_(n,r,a,l,f){var d=ae.p;ae.p=d!==0&&8>d?d:8;var v=Y.T,T={};Y.T=T,bd(n,!1,r,a);try{var C=f(),q=Y.S;if(q!==null&&q(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var X=pS(C,l);yl(n,r,X,En(n))}else yl(n,r,l,En(n))}catch(J){yl(n,r,{then:function(){},status:"rejected",reason:J},En())}finally{ae.p=d,Y.T=v}}function ES(){}function Td(n,r,a,l){if(n.tag!==5)throw Error(s(476));var f=i_(n).queue;n_(n,f,r,me,a===null?ES:function(){return r_(n),a(l)})}function i_(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:me},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function r_(n){var r=i_(n).next.queue;yl(n,r,{},En())}function Ad(){return Qt(Pl)}function s_(){return Et().memoizedState}function a_(){return Et().memoizedState}function TS(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=En();n=_r(a);var l=vr(r,n,a);l!==null&&(Tn(l,r,a),hl(l,r,a)),r={cache:Zf()},n.payload=r;return}r=r.return}}function AS(n,r,a){var l=En();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},vc(n)?l_(r,a):(a=qf(n,r,a,l),a!==null&&(Tn(a,n,l),u_(a,r,l)))}function o_(n,r,a){var l=En();yl(n,r,a,l)}function yl(n,r,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(vc(n))l_(r,f);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var v=r.lastRenderedState,T=d(v,a);if(f.hasEagerState=!0,f.eagerState=T,pn(T,v))return nc(n,r,f,0),Je===null&&tc(),!1}catch{}finally{}if(a=qf(n,r,f,l),a!==null)return Tn(a,n,l),u_(a,r,l),!0}return!1}function bd(n,r,a,l){if(l={lane:2,revertLane:tm(),action:l,hasEagerState:!1,eagerState:null,next:null},vc(n)){if(r)throw Error(s(479))}else r=qf(n,a,l,2),r!==null&&Tn(r,n,2)}function vc(n){var r=n.alternate;return n===Ie||r!==null&&r===Ie}function l_(n,r){ja=dc=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function u_(n,r,a){if((a&4194048)!==0){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,jo(n,a)}}var Ec={readContext:Qt,use:pc,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt,useHostTransitionStatus:mt,useFormState:mt,useActionState:mt,useOptimistic:mt,useMemoCache:mt,useCacheRefresh:mt},c_={readContext:Qt,use:pc,useCallback:function(n,r){return an().memoizedState=[n,r===void 0?null:r],n},useContext:Qt,useEffect:$y,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,_c(4194308,4,Wy.bind(null,r,n),a)},useLayoutEffect:function(n,r){return _c(4194308,4,n,r)},useInsertionEffect:function(n,r){_c(4,2,n,r)},useMemo:function(n,r){var a=an();r=r===void 0?null:r;var l=n();if(zs){dn(!0);try{n()}finally{dn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(n,r,a){var l=an();if(a!==void 0){var f=a(r);if(zs){dn(!0);try{a(r)}finally{dn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=AS.bind(null,Ie,n),[l.memoizedState,n]},useRef:function(n){var r=an();return n={current:n},r.memoizedState=n},useState:function(n){n=yd(n);var r=n.queue,a=o_.bind(null,Ie,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:vd,useDeferredValue:function(n,r){var a=an();return Ed(a,n,r)},useTransition:function(){var n=yd(!1);return n=n_.bind(null,Ie,n.queue,!0,!1),an().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var l=Ie,f=an();if(ze){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),Je===null)throw Error(s(349));(Le&124)!==0||Ny(l,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,$y(My.bind(null,l,d,n),[n]),l.flags|=2048,za(9,yc(),xy.bind(null,l,d,a,r),null),a},useId:function(){var n=an(),r=Je.identifierPrefix;if(ze){var a=qi,l=zi;a=(l&~(1<<32-$t(l)-1)).toString(32)+a,r="«"+r+"R"+a,a=mc++,0<a&&(r+="H"+a.toString(32)),r+="»"}else a=gS++,r="«"+r+"r"+a.toString(32)+"»";return n.memoizedState=r},useHostTransitionStatus:Ad,useFormState:qy,useActionState:qy,useOptimistic:function(n){var r=an();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=bd.bind(null,Ie,!0,a),a.dispatch=r,[n,r]},useMemoCache:md,useCacheRefresh:function(){return an().memoizedState=TS.bind(null,Ie)}},h_={readContext:Qt,use:pc,useCallback:Jy,useContext:Qt,useEffect:Qy,useImperativeHandle:Zy,useInsertionEffect:Yy,useLayoutEffect:Xy,useMemo:e_,useReducer:gc,useRef:Ky,useState:function(){return gc(Gi)},useDebugValue:vd,useDeferredValue:function(n,r){var a=Et();return t_(a,Qe.memoizedState,n,r)},useTransition:function(){var n=gc(Gi)[0],r=Et().memoizedState;return[typeof n=="boolean"?n:pl(n),r]},useSyncExternalStore:Oy,useId:s_,useHostTransitionStatus:Ad,useFormState:Hy,useActionState:Hy,useOptimistic:function(n,r){var a=Et();return Vy(a,Qe,n,r)},useMemoCache:md,useCacheRefresh:a_},bS={readContext:Qt,use:pc,useCallback:Jy,useContext:Qt,useEffect:Qy,useImperativeHandle:Zy,useInsertionEffect:Yy,useLayoutEffect:Xy,useMemo:e_,useReducer:gd,useRef:Ky,useState:function(){return gd(Gi)},useDebugValue:vd,useDeferredValue:function(n,r){var a=Et();return Qe===null?Ed(a,n,r):t_(a,Qe.memoizedState,n,r)},useTransition:function(){var n=gd(Gi)[0],r=Et().memoizedState;return[typeof n=="boolean"?n:pl(n),r]},useSyncExternalStore:Oy,useId:s_,useHostTransitionStatus:Ad,useFormState:Gy,useActionState:Gy,useOptimistic:function(n,r){var a=Et();return Qe!==null?Vy(a,Qe,n,r):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:md,useCacheRefresh:a_},qa=null,_l=0;function Tc(n){var r=_l;return _l+=1,qa===null&&(qa=[]),Ay(qa,n,r)}function vl(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function Ac(n,r){throw r.$$typeof===b?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function f_(n){var r=n._init;return r(n._payload)}function d_(n){function r(L,k){if(n){var z=L.deletions;z===null?(L.deletions=[k],L.flags|=16):z.push(k)}}function a(L,k){if(!n)return null;for(;k!==null;)r(L,k),k=k.sibling;return null}function l(L){for(var k=new Map;L!==null;)L.key!==null?k.set(L.key,L):k.set(L.index,L),L=L.sibling;return k}function f(L,k){return L=Bi(L,k),L.index=0,L.sibling=null,L}function d(L,k,z){return L.index=z,n?(z=L.alternate,z!==null?(z=z.index,z<k?(L.flags|=67108866,k):z):(L.flags|=67108866,k)):(L.flags|=1048576,k)}function v(L){return n&&L.alternate===null&&(L.flags|=67108866),L}function T(L,k,z,Z){return k===null||k.tag!==6?(k=Ff(z,L.mode,Z),k.return=L,k):(k=f(k,z),k.return=L,k)}function C(L,k,z,Z){var fe=z.type;return fe===N?X(L,k,z.props.children,Z,z.key):k!==null&&(k.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===R&&f_(fe)===k.type)?(k=f(k,z.props),vl(k,z),k.return=L,k):(k=rc(z.type,z.key,z.props,null,L.mode,Z),vl(k,z),k.return=L,k)}function q(L,k,z,Z){return k===null||k.tag!==4||k.stateNode.containerInfo!==z.containerInfo||k.stateNode.implementation!==z.implementation?(k=Gf(z,L.mode,Z),k.return=L,k):(k=f(k,z.children||[]),k.return=L,k)}function X(L,k,z,Z,fe){return k===null||k.tag!==7?(k=Ms(z,L.mode,Z,fe),k.return=L,k):(k=f(k,z),k.return=L,k)}function J(L,k,z){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Ff(""+k,L.mode,z),k.return=L,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case w:return z=rc(k.type,k.key,k.props,null,L.mode,z),vl(z,k),z.return=L,z;case D:return k=Gf(k,L.mode,z),k.return=L,k;case R:var Z=k._init;return k=Z(k._payload),J(L,k,z)}if(ot(k)||j(k))return k=Ms(k,L.mode,z,null),k.return=L,k;if(typeof k.then=="function")return J(L,Tc(k),z);if(k.$$typeof===W)return J(L,lc(L,k),z);Ac(L,k)}return null}function H(L,k,z,Z){var fe=k!==null?k.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return fe!==null?null:T(L,k,""+z,Z);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case w:return z.key===fe?C(L,k,z,Z):null;case D:return z.key===fe?q(L,k,z,Z):null;case R:return fe=z._init,z=fe(z._payload),H(L,k,z,Z)}if(ot(z)||j(z))return fe!==null?null:X(L,k,z,Z,null);if(typeof z.then=="function")return H(L,k,Tc(z),Z);if(z.$$typeof===W)return H(L,k,lc(L,z),Z);Ac(L,z)}return null}function F(L,k,z,Z,fe){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return L=L.get(z)||null,T(k,L,""+Z,fe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case w:return L=L.get(Z.key===null?z:Z.key)||null,C(k,L,Z,fe);case D:return L=L.get(Z.key===null?z:Z.key)||null,q(k,L,Z,fe);case R:var Oe=Z._init;return Z=Oe(Z._payload),F(L,k,z,Z,fe)}if(ot(Z)||j(Z))return L=L.get(z)||null,X(k,L,Z,fe,null);if(typeof Z.then=="function")return F(L,k,z,Tc(Z),fe);if(Z.$$typeof===W)return F(L,k,z,lc(k,Z),fe);Ac(k,Z)}return null}function Te(L,k,z,Z){for(var fe=null,Oe=null,de=k,_e=k=0,Pt=null;de!==null&&_e<z.length;_e++){de.index>_e?(Pt=de,de=null):Pt=de.sibling;var je=H(L,de,z[_e],Z);if(je===null){de===null&&(de=Pt);break}n&&de&&je.alternate===null&&r(L,de),k=d(je,k,_e),Oe===null?fe=je:Oe.sibling=je,Oe=je,de=Pt}if(_e===z.length)return a(L,de),ze&&Ps(L,_e),fe;if(de===null){for(;_e<z.length;_e++)de=J(L,z[_e],Z),de!==null&&(k=d(de,k,_e),Oe===null?fe=de:Oe.sibling=de,Oe=de);return ze&&Ps(L,_e),fe}for(de=l(de);_e<z.length;_e++)Pt=F(de,L,_e,z[_e],Z),Pt!==null&&(n&&Pt.alternate!==null&&de.delete(Pt.key===null?_e:Pt.key),k=d(Pt,k,_e),Oe===null?fe=Pt:Oe.sibling=Pt,Oe=Pt);return n&&de.forEach(function(Vr){return r(L,Vr)}),ze&&Ps(L,_e),fe}function ye(L,k,z,Z){if(z==null)throw Error(s(151));for(var fe=null,Oe=null,de=k,_e=k=0,Pt=null,je=z.next();de!==null&&!je.done;_e++,je=z.next()){de.index>_e?(Pt=de,de=null):Pt=de.sibling;var Vr=H(L,de,je.value,Z);if(Vr===null){de===null&&(de=Pt);break}n&&de&&Vr.alternate===null&&r(L,de),k=d(Vr,k,_e),Oe===null?fe=Vr:Oe.sibling=Vr,Oe=Vr,de=Pt}if(je.done)return a(L,de),ze&&Ps(L,_e),fe;if(de===null){for(;!je.done;_e++,je=z.next())je=J(L,je.value,Z),je!==null&&(k=d(je,k,_e),Oe===null?fe=je:Oe.sibling=je,Oe=je);return ze&&Ps(L,_e),fe}for(de=l(de);!je.done;_e++,je=z.next())je=F(de,L,_e,je.value,Z),je!==null&&(n&&je.alternate!==null&&de.delete(je.key===null?_e:je.key),k=d(je,k,_e),Oe===null?fe=je:Oe.sibling=je,Oe=je);return n&&de.forEach(function(w1){return r(L,w1)}),ze&&Ps(L,_e),fe}function Xe(L,k,z,Z){if(typeof z=="object"&&z!==null&&z.type===N&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case w:e:{for(var fe=z.key;k!==null;){if(k.key===fe){if(fe=z.type,fe===N){if(k.tag===7){a(L,k.sibling),Z=f(k,z.props.children),Z.return=L,L=Z;break e}}else if(k.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===R&&f_(fe)===k.type){a(L,k.sibling),Z=f(k,z.props),vl(Z,z),Z.return=L,L=Z;break e}a(L,k);break}else r(L,k);k=k.sibling}z.type===N?(Z=Ms(z.props.children,L.mode,Z,z.key),Z.return=L,L=Z):(Z=rc(z.type,z.key,z.props,null,L.mode,Z),vl(Z,z),Z.return=L,L=Z)}return v(L);case D:e:{for(fe=z.key;k!==null;){if(k.key===fe)if(k.tag===4&&k.stateNode.containerInfo===z.containerInfo&&k.stateNode.implementation===z.implementation){a(L,k.sibling),Z=f(k,z.children||[]),Z.return=L,L=Z;break e}else{a(L,k);break}else r(L,k);k=k.sibling}Z=Gf(z,L.mode,Z),Z.return=L,L=Z}return v(L);case R:return fe=z._init,z=fe(z._payload),Xe(L,k,z,Z)}if(ot(z))return Te(L,k,z,Z);if(j(z)){if(fe=j(z),typeof fe!="function")throw Error(s(150));return z=fe.call(z),ye(L,k,z,Z)}if(typeof z.then=="function")return Xe(L,k,Tc(z),Z);if(z.$$typeof===W)return Xe(L,k,lc(L,z),Z);Ac(L,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,k!==null&&k.tag===6?(a(L,k.sibling),Z=f(k,z),Z.return=L,L=Z):(a(L,k),Z=Ff(z,L.mode,Z),Z.return=L,L=Z),v(L)):a(L,k)}return function(L,k,z,Z){try{_l=0;var fe=Xe(L,k,z,Z);return qa=null,fe}catch(de){if(de===ul||de===cc)throw de;var Oe=gn(29,de,null,L.mode);return Oe.lanes=Z,Oe.return=L,Oe}finally{}}}var Ha=d_(!0),m_=d_(!1),Vn=ne(null),pi=null;function Tr(n){var r=n.alternate;re(It,It.current&1),re(Vn,n),pi===null&&(r===null||Ua.current!==null||r.memoizedState!==null)&&(pi=n)}function p_(n){if(n.tag===22){if(re(It,It.current),re(Vn,n),pi===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(pi=n)}}else Ar()}function Ar(){re(It,It.current),re(Vn,Vn.current)}function Ki(n){oe(Vn),pi===n&&(pi=null),oe(It)}var It=ne(0);function bc(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||dm(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function wd(n,r,a,l){r=n.memoizedState,a=a(l,r),a=a==null?r:E({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Sd={enqueueSetState:function(n,r,a){n=n._reactInternals;var l=En(),f=_r(l);f.payload=r,a!=null&&(f.callback=a),r=vr(n,f,l),r!==null&&(Tn(r,n,l),hl(r,n,l))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var l=En(),f=_r(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=vr(n,f,l),r!==null&&(Tn(r,n,l),hl(r,n,l))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=En(),l=_r(a);l.tag=2,r!=null&&(l.callback=r),r=vr(n,l,a),r!==null&&(Tn(r,n,a),hl(r,n,a))}};function g_(n,r,a,l,f,d,v){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,v):r.prototype&&r.prototype.isPureReactComponent?!tl(a,l)||!tl(f,d):!0}function y_(n,r,a,l){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==n&&Sd.enqueueReplaceState(r,r.state,null)}function qs(n,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(n=n.defaultProps){a===r&&(a=E({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var wc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function __(n){wc(n)}function v_(n){console.error(n)}function E_(n){wc(n)}function Sc(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function T_(n,r,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Rd(n,r,a){return a=_r(a),a.tag=3,a.payload={element:null},a.callback=function(){Sc(n,r)},a}function A_(n){return n=_r(n),n.tag=3,n}function b_(n,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;n.payload=function(){return f(d)},n.callback=function(){T_(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(n.callback=function(){T_(r,a,l),typeof f!="function"&&(Cr===null?Cr=new Set([this]):Cr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function wS(n,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&al(r,a,f,!0),a=Vn.current,a!==null){switch(a.tag){case 13:return pi===null?Xd():a.alternate===null&&ct===0&&(ct=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===td?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Zd(n,l,f)),!1;case 22:return a.flags|=65536,l===td?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Zd(n,l,f)),!1}throw Error(s(435,a.tag))}return Zd(n,l,f),Xd(),!1}if(ze)return r=Vn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==Qf&&(n=Error(s(422),{cause:l}),sl(xn(n,a)))):(l!==Qf&&(r=Error(s(423),{cause:l}),sl(xn(r,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=xn(l,a),f=Rd(n.stateNode,l,f),rd(n,f),ct!==4&&(ct=2)),!1;var d=Error(s(520),{cause:l});if(d=xn(d,a),Rl===null?Rl=[d]:Rl.push(d),ct!==4&&(ct=2),r===null)return!0;l=xn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=Rd(a.stateNode,l,n),rd(a,n),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Cr===null||!Cr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=A_(f),b_(f,n,a,l),rd(a,f),!1}a=a.return}while(a!==null);return!1}var w_=Error(s(461)),Mt=!1;function Bt(n,r,a,l){r.child=n===null?m_(r,null,a,l):Ha(r,n.child,a,l)}function S_(n,r,a,l,f){a=a.render;var d=r.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return js(r),l=ud(n,r,a,v,d,f),T=cd(),n!==null&&!Mt?(hd(n,r,f),$i(n,r,f)):(ze&&T&&Kf(r),r.flags|=1,Bt(n,r,l,f),r.child)}function R_(n,r,a,l,f){if(n===null){var d=a.type;return typeof d=="function"&&!Hf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,I_(n,r,d,l,f)):(n=rc(a.type,null,l,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(d=n.child,!kd(n,f)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:tl,a(v,l)&&n.ref===r.ref)return $i(n,r,f)}return r.flags|=1,n=Bi(d,l),n.ref=r.ref,n.return=r,r.child=n}function I_(n,r,a,l,f){if(n!==null){var d=n.memoizedProps;if(tl(d,l)&&n.ref===r.ref)if(Mt=!1,r.pendingProps=l=d,kd(n,f))(n.flags&131072)!==0&&(Mt=!0);else return r.lanes=n.lanes,$i(n,r,f)}return Id(n,r,a,l,f)}function C_(n,r,a){var l=r.pendingProps,f=l.children,d=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,n!==null){for(f=r.child=n.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return D_(n,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&uc(r,d!==null?d.cachePool:null),d!==null?Iy(r,d):ad(),p_(r);else return r.lanes=r.childLanes=536870912,D_(n,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(uc(r,d.cachePool),Iy(r,d),Ar(),r.memoizedState=null):(n!==null&&uc(r,null),ad(),Ar());return Bt(n,r,f,a),r.child}function D_(n,r,a,l){var f=ed();return f=f===null?null:{parent:Rt._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},n!==null&&uc(r,null),ad(),p_(r),n!==null&&al(n,r,l,!0),null}function Rc(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=4194816)}}function Id(n,r,a,l,f){return js(r),a=ud(n,r,a,l,void 0,f),l=cd(),n!==null&&!Mt?(hd(n,r,f),$i(n,r,f)):(ze&&l&&Kf(r),r.flags|=1,Bt(n,r,a,f),r.child)}function O_(n,r,a,l,f,d){return js(r),r.updateQueue=null,a=Dy(r,l,a,f),Cy(n),l=cd(),n!==null&&!Mt?(hd(n,r,d),$i(n,r,d)):(ze&&l&&Kf(r),r.flags|=1,Bt(n,r,a,d),r.child)}function N_(n,r,a,l,f){if(js(r),r.stateNode===null){var d=Ma,v=a.contextType;typeof v=="object"&&v!==null&&(d=Qt(v)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Sd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},nd(r),v=a.contextType,d.context=typeof v=="object"&&v!==null?Qt(v):Ma,d.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(wd(r,a,v,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Sd.enqueueReplaceState(d,d.state,null),dl(r,l,d,f),fl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(n===null){d=r.stateNode;var T=r.memoizedProps,C=qs(a,T);d.props=C;var q=d.context,X=a.contextType;v=Ma,typeof X=="object"&&X!==null&&(v=Qt(X));var J=a.getDerivedStateFromProps;X=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||q!==v)&&y_(r,d,l,v),yr=!1;var H=r.memoizedState;d.state=H,dl(r,l,d,f),fl(),q=r.memoizedState,T||H!==q||yr?(typeof J=="function"&&(wd(r,a,J,l),q=r.memoizedState),(C=yr||g_(r,a,C,l,H,q,v))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=q),d.props=l,d.state=q,d.context=v,l=C):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,id(n,r),v=r.memoizedProps,X=qs(a,v),d.props=X,J=r.pendingProps,H=d.context,q=a.contextType,C=Ma,typeof q=="object"&&q!==null&&(C=Qt(q)),T=a.getDerivedStateFromProps,(q=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==J||H!==C)&&y_(r,d,l,C),yr=!1,H=r.memoizedState,d.state=H,dl(r,l,d,f),fl();var F=r.memoizedState;v!==J||H!==F||yr||n!==null&&n.dependencies!==null&&oc(n.dependencies)?(typeof T=="function"&&(wd(r,a,T,l),F=r.memoizedState),(X=yr||g_(r,a,X,l,H,F,C)||n!==null&&n.dependencies!==null&&oc(n.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,F,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,F,C)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===n.memoizedProps&&H===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&H===n.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=F),d.props=l,d.state=F,d.context=C,l=X):(typeof d.componentDidUpdate!="function"||v===n.memoizedProps&&H===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&H===n.memoizedState||(r.flags|=1024),l=!1)}return d=l,Rc(n,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,n!==null&&l?(r.child=Ha(r,n.child,null,f),r.child=Ha(r,null,a,f)):Bt(n,r,a,f),r.memoizedState=d.state,n=r.child):n=$i(n,r,f),n}function x_(n,r,a,l){return rl(),r.flags|=256,Bt(n,r,a,l),r.child}var Cd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Dd(n){return{baseLanes:n,cachePool:vy()}}function Od(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=Ln),n}function M_(n,r,a){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,v;if((v=d)||(v=n!==null&&n.memoizedState===null?!1:(It.current&2)!==0),v&&(f=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,n===null){if(ze){if(f?Tr(r):Ar(),ze){var T=ut,C;if(C=T){e:{for(C=T,T=mi;C.nodeType!==8;){if(!T){T=null;break e}if(C=Yn(C.nextSibling),C===null){T=null;break e}}T=C}T!==null?(r.memoizedState={dehydrated:T,treeContext:ks!==null?{id:zi,overflow:qi}:null,retryLane:536870912,hydrationErrors:null},C=gn(18,null,null,0),C.stateNode=T,C.return=r,r.child=C,rn=r,ut=null,C=!0):C=!1}C||Ls(r)}if(T=r.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return dm(T)?r.lanes=32:r.lanes=536870912,null;Ki(r)}return T=l.children,l=l.fallback,f?(Ar(),f=r.mode,T=Ic({mode:"hidden",children:T},f),l=Ms(l,f,a,null),T.return=r,l.return=r,T.sibling=l,r.child=T,f=r.child,f.memoizedState=Dd(a),f.childLanes=Od(n,v,a),r.memoizedState=Cd,l):(Tr(r),Nd(r,T))}if(C=n.memoizedState,C!==null&&(T=C.dehydrated,T!==null)){if(d)r.flags&256?(Tr(r),r.flags&=-257,r=xd(n,r,a)):r.memoizedState!==null?(Ar(),r.child=n.child,r.flags|=128,r=null):(Ar(),f=l.fallback,T=r.mode,l=Ic({mode:"visible",children:l.children},T),f=Ms(f,T,a,null),f.flags|=2,l.return=r,f.return=r,l.sibling=f,r.child=l,Ha(r,n.child,null,a),l=r.child,l.memoizedState=Dd(a),l.childLanes=Od(n,v,a),r.memoizedState=Cd,r=f);else if(Tr(r),dm(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var q=v.dgst;v=q,l=Error(s(419)),l.stack="",l.digest=v,sl({value:l,source:null,stack:null}),r=xd(n,r,a)}else if(Mt||al(n,r,a,!1),v=(a&n.childLanes)!==0,Mt||v){if(v=Je,v!==null&&(l=a&-a,l=(l&42)!==0?1:ur(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,xa(n,l),Tn(v,n,l),w_;T.data==="$?"||Xd(),r=xd(n,r,a)}else T.data==="$?"?(r.flags|=192,r.child=n.child,r=null):(n=C.treeContext,ut=Yn(T.nextSibling),rn=r,ze=!0,Vs=null,mi=!1,n!==null&&(kn[Pn++]=zi,kn[Pn++]=qi,kn[Pn++]=ks,zi=n.id,qi=n.overflow,ks=r),r=Nd(r,l.children),r.flags|=4096);return r}return f?(Ar(),f=l.fallback,T=r.mode,C=n.child,q=C.sibling,l=Bi(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,q!==null?f=Bi(q,f):(f=Ms(f,T,a,null),f.flags|=2),f.return=r,l.return=r,l.sibling=f,r.child=l,l=f,f=r.child,T=n.child.memoizedState,T===null?T=Dd(a):(C=T.cachePool,C!==null?(q=Rt._currentValue,C=C.parent!==q?{parent:q,pool:q}:C):C=vy(),T={baseLanes:T.baseLanes|a,cachePool:C}),f.memoizedState=T,f.childLanes=Od(n,v,a),r.memoizedState=Cd,l):(Tr(r),a=n.child,n=a.sibling,a=Bi(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,n!==null&&(v=r.deletions,v===null?(r.deletions=[n],r.flags|=16):v.push(n)),r.child=a,r.memoizedState=null,a)}function Nd(n,r){return r=Ic({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Ic(n,r){return n=gn(22,n,null,r),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function xd(n,r,a){return Ha(r,n.child,null,a),n=Nd(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function k_(n,r,a){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r),Xf(n.return,r,a)}function Md(n,r,a,l,f){var d=n.memoizedState;d===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=f)}function P_(n,r,a){var l=r.pendingProps,f=l.revealOrder,d=l.tail;if(Bt(n,r,l.children,a),l=It.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&k_(n,a,r);else if(n.tag===19)k_(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(re(It,l),f){case"forwards":for(a=r.child,f=null;a!==null;)n=a.alternate,n!==null&&bc(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Md(r,!1,f,a,d);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&bc(n)===null){r.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}Md(r,!0,a,null,d);break;case"together":Md(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function $i(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),Ir|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(al(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=Bi(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=Bi(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function kd(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&oc(n)))}function SS(n,r,a){switch(r.tag){case 3:Ze(r,r.stateNode.containerInfo),gr(r,Rt,n.memoizedState.cache),rl();break;case 27:case 5:lr(r);break;case 4:Ze(r,r.stateNode.containerInfo);break;case 10:gr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Tr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?M_(n,r,a):(Tr(r),n=$i(n,r,a),n!==null?n.sibling:null);Tr(r);break;case 19:var f=(n.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(al(n,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return P_(n,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),re(It,It.current),l)break;return null;case 22:case 23:return r.lanes=0,C_(n,r,a);case 24:gr(r,Rt,n.memoizedState.cache)}return $i(n,r,a)}function V_(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)Mt=!0;else{if(!kd(n,a)&&(r.flags&128)===0)return Mt=!1,SS(n,r,a);Mt=(n.flags&131072)!==0}else Mt=!1,ze&&(r.flags&1048576)!==0&&fy(r,ac,r.index);switch(r.lanes=0,r.tag){case 16:e:{n=r.pendingProps;var l=r.elementType,f=l._init;if(l=f(l._payload),r.type=l,typeof l=="function")Hf(l)?(n=qs(l,n),r.tag=1,r=N_(null,r,l,n,a)):(r.tag=0,r=Id(null,r,l,n,a));else{if(l!=null){if(f=l.$$typeof,f===le){r.tag=11,r=S_(null,r,l,n,a);break e}else if(f===P){r.tag=14,r=R_(null,r,l,n,a);break e}}throw r=Lt(l)||l,Error(s(306,r,""))}}return r;case 0:return Id(n,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=qs(l,r.pendingProps),N_(n,r,l,f,a);case 3:e:{if(Ze(r,r.stateNode.containerInfo),n===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;f=d.element,id(n,r),dl(r,l,null,a);var v=r.memoizedState;if(l=v.cache,gr(r,Rt,l),l!==d.cache&&Wf(r,[Rt],a,!0),fl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=x_(n,r,l,a);break e}else if(l!==f){f=xn(Error(s(424)),r),sl(f),r=x_(n,r,l,a);break e}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ut=Yn(n.firstChild),rn=r,ze=!0,Vs=null,mi=!0,a=m_(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(rl(),l===f){r=$i(n,r,a);break e}Bt(n,r,l,a)}r=r.child}return r;case 26:return Rc(n,r),n===null?(a=Bv(r.type,null,r.pendingProps,null))?r.memoizedState=a:ze||(a=r.type,n=r.pendingProps,l=zc(be.current).createElement(a),l[bt]=r,l[yt]=n,qt(l,a,n),dt(l),r.stateNode=l):r.memoizedState=Bv(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return lr(r),n===null&&ze&&(l=r.stateNode=Lv(r.type,r.pendingProps,be.current),rn=r,mi=!0,f=ut,Nr(r.type)?(mm=f,ut=Yn(l.firstChild)):ut=f),Bt(n,r,r.pendingProps.children,a),Rc(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&ze&&((f=l=ut)&&(l=JS(l,r.type,r.pendingProps,mi),l!==null?(r.stateNode=l,rn=r,ut=Yn(l.firstChild),mi=!1,f=!0):f=!1),f||Ls(r)),lr(r),f=r.type,d=r.pendingProps,v=n!==null?n.memoizedProps:null,l=d.children,cm(f,d)?l=null:v!==null&&cm(f,v)&&(r.flags|=32),r.memoizedState!==null&&(f=ud(n,r,yS,null,null,a),Pl._currentValue=f),Rc(n,r),Bt(n,r,l,a),r.child;case 6:return n===null&&ze&&((n=a=ut)&&(a=e1(a,r.pendingProps,mi),a!==null?(r.stateNode=a,rn=r,ut=null,n=!0):n=!1),n||Ls(r)),null;case 13:return M_(n,r,a);case 4:return Ze(r,r.stateNode.containerInfo),l=r.pendingProps,n===null?r.child=Ha(r,null,l,a):Bt(n,r,l,a),r.child;case 11:return S_(n,r,r.type,r.pendingProps,a);case 7:return Bt(n,r,r.pendingProps,a),r.child;case 8:return Bt(n,r,r.pendingProps.children,a),r.child;case 12:return Bt(n,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,gr(r,r.type,l.value),Bt(n,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,js(r),f=Qt(f),l=l(f),r.flags|=1,Bt(n,r,l,a),r.child;case 14:return R_(n,r,r.type,r.pendingProps,a);case 15:return I_(n,r,r.type,r.pendingProps,a);case 19:return P_(n,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},n===null?(a=Ic(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Bi(n.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return C_(n,r,a);case 24:return js(r),l=Qt(Rt),n===null?(f=ed(),f===null&&(f=Je,d=Zf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:l,cache:f},nd(r),gr(r,Rt,f)):((n.lanes&a)!==0&&(id(n,r),dl(r,null,null,a),fl()),f=n.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),gr(r,Rt,l)):(l=d.cache,gr(r,Rt,l),l!==f.cache&&Wf(r,[Rt],a,!0))),Bt(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Qi(n){n.flags|=4}function L_(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Gv(r)){if(r=Vn.current,r!==null&&((Le&4194048)===Le?pi!==null:(Le&62914560)!==Le&&(Le&536870912)===0||r!==pi))throw cl=td,Ey;n.flags|=8192}}function Cc(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?Lo():536870912,n.lanes|=r,$a|=r)}function El(n,r){if(!ze)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function st(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(r)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,r}function RS(n,r,a){var l=r.pendingProps;switch($f(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(r),null;case 1:return st(r),null;case 3:return a=r.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Fi(Rt),ni(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(il(r)?Qi(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,py())),st(r),null;case 26:return a=r.memoizedState,n===null?(Qi(r),a!==null?(st(r),L_(r,a)):(st(r),r.flags&=-16777217)):a?a!==n.memoizedState?(Qi(r),st(r),L_(r,a)):(st(r),r.flags&=-16777217):(n.memoizedProps!==l&&Qi(r),st(r),r.flags&=-16777217),null;case 27:Ii(r),a=be.current;var f=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==l&&Qi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return st(r),null}n=ge.current,il(r)?dy(r):(n=Lv(f,l,a),r.stateNode=n,Qi(r))}return st(r),null;case 5:if(Ii(r),a=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&Qi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return st(r),null}if(n=ge.current,il(r))dy(r);else{switch(f=zc(be.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}n[bt]=r,n[yt]=l;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=n;e:switch(qt(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Qi(r)}}return st(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==l&&Qi(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(n=be.current,il(r)){if(n=r.stateNode,a=r.memoizedProps,l=null,f=rn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[bt]=r,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Ov(n.nodeValue,a)),n||Ls(r)}else n=zc(n).createTextNode(l),n[bt]=r,r.stateNode=n}return st(r),null;case 13:if(l=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=il(r),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[bt]=r}else rl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;st(r),f=!1}else f=py(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Ki(r),r):(Ki(r),null)}if(Ki(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)}return a!==n&&a&&(r.child.flags|=8192),Cc(r,r.updateQueue),st(r),null;case 4:return ni(),n===null&&sm(r.stateNode.containerInfo),st(r),null;case 10:return Fi(r.type),st(r),null;case 19:if(oe(It),f=r.memoizedState,f===null)return st(r),null;if(l=(r.flags&128)!==0,d=f.rendering,d===null)if(l)El(f,!1);else{if(ct!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(d=bc(n),d!==null){for(r.flags|=128,El(f,!1),n=d.updateQueue,r.updateQueue=n,Cc(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)hy(a,n),a=a.sibling;return re(It,It.current&1|2),r.child}n=n.sibling}f.tail!==null&&Rn()>Nc&&(r.flags|=128,l=!0,El(f,!1),r.lanes=4194304)}else{if(!l)if(n=bc(d),n!==null){if(r.flags|=128,l=!0,n=n.updateQueue,r.updateQueue=n,Cc(r,n),El(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!ze)return st(r),null}else 2*Rn()-f.renderingStartTime>Nc&&a!==536870912&&(r.flags|=128,l=!0,El(f,!1),r.lanes=4194304);f.isBackwards?(d.sibling=r.child,r.child=d):(n=f.last,n!==null?n.sibling=d:r.child=d,f.last=d)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=Rn(),r.sibling=null,n=It.current,re(It,l?n&1|2:n&1),r):(st(r),null);case 22:case 23:return Ki(r),od(),l=r.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(st(r),r.subtreeFlags&6&&(r.flags|=8192)):st(r),a=r.updateQueue,a!==null&&Cc(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),n!==null&&oe(Bs),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Fi(Rt),st(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function IS(n,r){switch($f(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Fi(Rt),ni(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return Ii(r),null;case 13:if(Ki(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));rl()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return oe(It),null;case 4:return ni(),null;case 10:return Fi(r.type),null;case 22:case 23:return Ki(r),od(),n!==null&&oe(Bs),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return Fi(Rt),null;case 25:return null;default:return null}}function U_(n,r){switch($f(r),r.tag){case 3:Fi(Rt),ni();break;case 26:case 27:case 5:Ii(r);break;case 4:ni();break;case 13:Ki(r);break;case 19:oe(It);break;case 10:Fi(r.type);break;case 22:case 23:Ki(r),od(),n!==null&&oe(Bs);break;case 24:Fi(Rt)}}function Tl(n,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==f)}}catch(T){We(r,r.return,T)}}function br(n,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&n)===n){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,f=r;var C=a,q=T;try{q()}catch(X){We(f,C,X)}}}l=l.next}while(l!==d)}}catch(X){We(r,r.return,X)}}function j_(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{Ry(r,a)}catch(l){We(n,n.return,l)}}}function B_(n,r,a){a.props=qs(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){We(n,r,l)}}function Al(n,r){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){We(n,r,f)}}function gi(n,r){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){We(n,r,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){We(n,r,f)}else a.current=null}function z_(n){var r=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){We(n,n.return,f)}}function Pd(n,r,a){try{var l=n.stateNode;QS(l,n.type,a,r),l[yt]=r}catch(f){We(n,n.return,f)}}function q_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Nr(n.type)||n.tag===4}function Vd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||q_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Nr(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Ld(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(n),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Bc));else if(l!==4&&(l===27&&Nr(n.type)&&(a=n.stateNode,r=null),n=n.child,n!==null))for(Ld(n,r,a),n=n.sibling;n!==null;)Ld(n,r,a),n=n.sibling}function Dc(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(l!==4&&(l===27&&Nr(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Dc(n,r,a),n=n.sibling;n!==null;)Dc(n,r,a),n=n.sibling}function H_(n){var r=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);qt(r,l,a),r[bt]=n,r[yt]=a}catch(d){We(n,n.return,d)}}var Yi=!1,pt=!1,Ud=!1,F_=typeof WeakSet=="function"?WeakSet:Set,kt=null;function CS(n,r){if(n=n.containerInfo,lm=$c,n=ty(n),Vf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,T=-1,C=-1,q=0,X=0,J=n,H=null;t:for(;;){for(var F;J!==a||f!==0&&J.nodeType!==3||(T=v+f),J!==d||l!==0&&J.nodeType!==3||(C=v+l),J.nodeType===3&&(v+=J.nodeValue.length),(F=J.firstChild)!==null;)H=J,J=F;for(;;){if(J===n)break t;if(H===a&&++q===f&&(T=v),H===d&&++X===l&&(C=v),(F=J.nextSibling)!==null)break;J=H,H=J.parentNode}J=F}a=T===-1||C===-1?null:{start:T,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(um={focusedElem:n,selectionRange:a},$c=!1,kt=r;kt!==null;)if(r=kt,n=r.child,(r.subtreeFlags&1024)!==0&&n!==null)n.return=r,kt=n;else for(;kt!==null;){switch(r=kt,d=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Te=qs(a.type,f,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(Te,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(ye){We(a,a.return,ye)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)fm(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":fm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,kt=n;break}kt=r.return}}function G_(n,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:wr(n,a),l&4&&Tl(5,a);break;case 1:if(wr(n,a),l&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(v){We(a,a.return,v)}else{var f=qs(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(f,r,n.__reactInternalSnapshotBeforeUpdate)}catch(v){We(a,a.return,v)}}l&64&&j_(a),l&512&&Al(a,a.return);break;case 3:if(wr(n,a),l&64&&(n=a.updateQueue,n!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Ry(n,r)}catch(v){We(a,a.return,v)}}break;case 27:r===null&&l&4&&H_(a);case 26:case 5:wr(n,a),r===null&&l&4&&z_(a),l&512&&Al(a,a.return);break;case 12:wr(n,a);break;case 13:wr(n,a),l&4&&Q_(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=LS.bind(null,a),t1(n,a))));break;case 22:if(l=a.memoizedState!==null||Yi,!l){r=r!==null&&r.memoizedState!==null||pt,f=Yi;var d=pt;Yi=l,(pt=r)&&!d?Sr(n,a,(a.subtreeFlags&8772)!==0):wr(n,a),Yi=f,pt=d}break;case 30:break;default:wr(n,a)}}function K_(n){var r=n.alternate;r!==null&&(n.alternate=null,K_(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&fr(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var nt=null,on=!1;function Xi(n,r,a){for(a=a.child;a!==null;)$_(n,r,a),a=a.sibling}function $_(n,r,a){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(lt,a)}catch{}switch(a.tag){case 26:pt||gi(a,r),Xi(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:pt||gi(a,r);var l=nt,f=on;Nr(a.type)&&(nt=a.stateNode,on=!1),Xi(n,r,a),Nl(a.stateNode),nt=l,on=f;break;case 5:pt||gi(a,r);case 6:if(l=nt,f=on,nt=null,Xi(n,r,a),nt=l,on=f,nt!==null)if(on)try{(nt.nodeType===9?nt.body:nt.nodeName==="HTML"?nt.ownerDocument.body:nt).removeChild(a.stateNode)}catch(d){We(a,r,d)}else try{nt.removeChild(a.stateNode)}catch(d){We(a,r,d)}break;case 18:nt!==null&&(on?(n=nt,Pv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),jl(n)):Pv(nt,a.stateNode));break;case 4:l=nt,f=on,nt=a.stateNode.containerInfo,on=!0,Xi(n,r,a),nt=l,on=f;break;case 0:case 11:case 14:case 15:pt||br(2,a,r),pt||br(4,a,r),Xi(n,r,a);break;case 1:pt||(gi(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&B_(a,r,l)),Xi(n,r,a);break;case 21:Xi(n,r,a);break;case 22:pt=(l=pt)||a.memoizedState!==null,Xi(n,r,a),pt=l;break;default:Xi(n,r,a)}}function Q_(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{jl(n)}catch(a){We(r,r.return,a)}}function DS(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new F_),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new F_),r;default:throw Error(s(435,n.tag))}}function jd(n,r){var a=DS(n);r.forEach(function(l){var f=US.bind(null,n,l);a.has(l)||(a.add(l),l.then(f,f))})}function yn(n,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=n,v=r,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(Nr(T.type)){nt=T.stateNode,on=!1;break e}break;case 5:nt=T.stateNode,on=!1;break e;case 3:case 4:nt=T.stateNode.containerInfo,on=!0;break e}T=T.return}if(nt===null)throw Error(s(160));$_(d,v,f),nt=null,on=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Y_(r,n),r=r.sibling}var Qn=null;function Y_(n,r){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:yn(r,n),_n(n),l&4&&(br(3,n,n.return),Tl(3,n),br(5,n,n.return));break;case 1:yn(r,n),_n(n),l&512&&(pt||a===null||gi(a,a.return)),l&64&&Yi&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Qn;if(yn(r,n),_n(n),l&512&&(pt||a===null||gi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[ys]||d[bt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),qt(d,l,a),d[bt]=n,dt(d),l=d;break e;case"link":var v=Hv("link","href",f).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}d=f.createElement(l),qt(d,l,a),f.head.appendChild(d);break;case"meta":if(v=Hv("meta","content",f).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}d=f.createElement(l),qt(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[bt]=n,dt(d),l=d}n.stateNode=l}else Fv(f,n.type,n.stateNode);else n.stateNode=qv(f,l,n.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Fv(f,n.type,n.stateNode):qv(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Pd(n,n.memoizedProps,a.memoizedProps)}break;case 27:yn(r,n),_n(n),l&512&&(pt||a===null||gi(a,a.return)),a!==null&&l&4&&Pd(n,n.memoizedProps,a.memoizedProps);break;case 5:if(yn(r,n),_n(n),l&512&&(pt||a===null||gi(a,a.return)),n.flags&32){f=n.stateNode;try{Cn(f,"")}catch(F){We(n,n.return,F)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,Pd(n,f,a!==null?a.memoizedProps:f)),l&1024&&(Ud=!0);break;case 6:if(yn(r,n),_n(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(F){We(n,n.return,F)}}break;case 3:if(Fc=null,f=Qn,Qn=qc(r.containerInfo),yn(r,n),Qn=f,_n(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{jl(r.containerInfo)}catch(F){We(n,n.return,F)}Ud&&(Ud=!1,X_(n));break;case 4:l=Qn,Qn=qc(n.stateNode.containerInfo),yn(r,n),_n(n),Qn=l;break;case 12:yn(r,n),_n(n);break;case 13:yn(r,n),_n(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Gd=Rn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,jd(n,l)));break;case 22:f=n.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,q=Yi,X=pt;if(Yi=q||f,pt=X||C,yn(r,n),pt=X,Yi=q,_n(n),l&8192)e:for(r=n.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||C||Yi||pt||Hs(n)),a=null,r=n;;){if(r.tag===5||r.tag===26){if(a===null){C=a=r;try{if(d=C.stateNode,f)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=C.stateNode;var J=C.memoizedProps.style,H=J!=null&&J.hasOwnProperty("display")?J.display:null;T.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(F){We(C,C.return,F)}}}else if(r.tag===6){if(a===null){C=r;try{C.stateNode.nodeValue=f?"":C.memoizedProps}catch(F){We(C,C.return,F)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,jd(n,a))));break;case 19:yn(r,n),_n(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,jd(n,l)));break;case 30:break;case 21:break;default:yn(r,n),_n(n)}}function _n(n){var r=n.flags;if(r&2){try{for(var a,l=n.return;l!==null;){if(q_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Vd(n);Dc(n,d,f);break;case 5:var v=a.stateNode;a.flags&32&&(Cn(v,""),a.flags&=-33);var T=Vd(n);Dc(n,T,v);break;case 3:case 4:var C=a.stateNode.containerInfo,q=Vd(n);Ld(n,q,C);break;default:throw Error(s(161))}}catch(X){We(n,n.return,X)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function X_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;X_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function wr(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)G_(n,r.alternate,r),r=r.sibling}function Hs(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:br(4,r,r.return),Hs(r);break;case 1:gi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&B_(r,r.return,a),Hs(r);break;case 27:Nl(r.stateNode);case 26:case 5:gi(r,r.return),Hs(r);break;case 22:r.memoizedState===null&&Hs(r);break;case 30:Hs(r);break;default:Hs(r)}n=n.sibling}}function Sr(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=n,d=r,v=d.flags;switch(d.tag){case 0:case 11:case 15:Sr(f,d,a),Tl(4,d);break;case 1:if(Sr(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(q){We(l,l.return,q)}if(l=d,f=l.updateQueue,f!==null){var T=l.stateNode;try{var C=f.shared.hiddenCallbacks;if(C!==null)for(f.shared.hiddenCallbacks=null,f=0;f<C.length;f++)Sy(C[f],T)}catch(q){We(l,l.return,q)}}a&&v&64&&j_(d),Al(d,d.return);break;case 27:H_(d);case 26:case 5:Sr(f,d,a),a&&l===null&&v&4&&z_(d),Al(d,d.return);break;case 12:Sr(f,d,a);break;case 13:Sr(f,d,a),a&&v&4&&Q_(f,d);break;case 22:d.memoizedState===null&&Sr(f,d,a),Al(d,d.return);break;case 30:break;default:Sr(f,d,a)}r=r.sibling}}function Bd(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&ol(a))}function zd(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&ol(n))}function yi(n,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)W_(n,r,a,l),r=r.sibling}function W_(n,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:yi(n,r,a,l),f&2048&&Tl(9,r);break;case 1:yi(n,r,a,l);break;case 3:yi(n,r,a,l),f&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&ol(n)));break;case 12:if(f&2048){yi(n,r,a,l),n=r.stateNode;try{var d=r.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(C){We(r,r.return,C)}}else yi(n,r,a,l);break;case 13:yi(n,r,a,l);break;case 23:break;case 22:d=r.stateNode,v=r.alternate,r.memoizedState!==null?d._visibility&2?yi(n,r,a,l):bl(n,r):d._visibility&2?yi(n,r,a,l):(d._visibility|=2,Fa(n,r,a,l,(r.subtreeFlags&10256)!==0)),f&2048&&Bd(v,r);break;case 24:yi(n,r,a,l),f&2048&&zd(r.alternate,r);break;default:yi(n,r,a,l)}}function Fa(n,r,a,l,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=n,v=r,T=a,C=l,q=v.flags;switch(v.tag){case 0:case 11:case 15:Fa(d,v,T,C,f),Tl(8,v);break;case 23:break;case 22:var X=v.stateNode;v.memoizedState!==null?X._visibility&2?Fa(d,v,T,C,f):bl(d,v):(X._visibility|=2,Fa(d,v,T,C,f)),f&&q&2048&&Bd(v.alternate,v);break;case 24:Fa(d,v,T,C,f),f&&q&2048&&zd(v.alternate,v);break;default:Fa(d,v,T,C,f)}r=r.sibling}}function bl(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,l=r,f=l.flags;switch(l.tag){case 22:bl(a,l),f&2048&&Bd(l.alternate,l);break;case 24:bl(a,l),f&2048&&zd(l.alternate,l);break;default:bl(a,l)}r=r.sibling}}var wl=8192;function Ga(n){if(n.subtreeFlags&wl)for(n=n.child;n!==null;)Z_(n),n=n.sibling}function Z_(n){switch(n.tag){case 26:Ga(n),n.flags&wl&&n.memoizedState!==null&&m1(Qn,n.memoizedState,n.memoizedProps);break;case 5:Ga(n);break;case 3:case 4:var r=Qn;Qn=qc(n.stateNode.containerInfo),Ga(n),Qn=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=wl,wl=16777216,Ga(n),wl=r):Ga(n));break;default:Ga(n)}}function J_(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Sl(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];kt=l,tv(l,n)}J_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ev(n),n=n.sibling}function ev(n){switch(n.tag){case 0:case 11:case 15:Sl(n),n.flags&2048&&br(9,n,n.return);break;case 3:Sl(n);break;case 12:Sl(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,Oc(n)):Sl(n);break;default:Sl(n)}}function Oc(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];kt=l,tv(l,n)}J_(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:br(8,r,r.return),Oc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Oc(r));break;default:Oc(r)}n=n.sibling}}function tv(n,r){for(;kt!==null;){var a=kt;switch(a.tag){case 0:case 11:case 15:br(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ol(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,kt=l;else e:for(a=n;kt!==null;){l=kt;var f=l.sibling,d=l.return;if(K_(l),l===a){kt=null;break e}if(f!==null){f.return=d,kt=f;break e}kt=d}}}var OS={getCacheForType:function(n){var r=Qt(Rt),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a}},NS=typeof WeakMap=="function"?WeakMap:Map,Ge=0,Je=null,Ne=null,Le=0,Ke=0,vn=null,Rr=!1,Ka=!1,qd=!1,Wi=0,ct=0,Ir=0,Fs=0,Hd=0,Ln=0,$a=0,Rl=null,ln=null,Fd=!1,Gd=0,Nc=1/0,xc=null,Cr=null,zt=0,Dr=null,Qa=null,Ya=0,Kd=0,$d=null,nv=null,Il=0,Qd=null;function En(){if((Ge&2)!==0&&Le!==0)return Le&-Le;if(Y.T!==null){var n=Va;return n!==0?n:tm()}return cr()}function iv(){Ln===0&&(Ln=(Le&536870912)===0||ze?Vo():536870912);var n=Vn.current;return n!==null&&(n.flags|=32),Ln}function Tn(n,r,a){(n===Je&&(Ke===2||Ke===9)||n.cancelPendingCommit!==null)&&(Xa(n,0),Or(n,Le,Ln,!1)),Di(n,a),((Ge&2)===0||n!==Je)&&(n===Je&&((Ge&2)===0&&(Fs|=a),ct===4&&Or(n,Le,Ln,!1)),_i(n))}function rv(n,r,a){if((Ge&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&n.expiredLanes)===0||gs(n,r),f=l?kS(n,r):Wd(n,r,!0),d=l;do{if(f===0){Ka&&!l&&Or(n,r,0,!1);break}else{if(a=n.current.alternate,d&&!xS(a)){f=Wd(n,r,!1),d=!1;continue}if(f===2){if(d=r,n.errorRecoveryDisabledLanes&d)var v=0;else v=n.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var T=n;f=Rl;var C=T.current.memoizedState.isDehydrated;if(C&&(Xa(T,v).flags|=256),v=Wd(T,v,!1),v!==2){if(qd&&!C){T.errorRecoveryDisabledLanes|=d,Fs|=d,f=4;break e}d=ln,ln=f,d!==null&&(ln===null?ln=d:ln.push.apply(ln,d))}f=v}if(d=!1,f!==2)continue}}if(f===1){Xa(n,0),Or(n,r,0,!0);break}e:{switch(l=n,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Or(l,r,Ln,!Rr);break e;case 2:ln=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Gd+300-Rn(),10<f)){if(Or(l,r,Ln,!Rr),da(l,0,!0)!==0)break e;l.timeoutHandle=Mv(sv.bind(null,l,a,ln,xc,Fd,r,Ln,Fs,$a,Rr,d,2,-0,0),f);break e}sv(l,a,ln,xc,Fd,r,Ln,Fs,$a,Rr,d,0,-0,0)}}break}while(!0);_i(n)}function sv(n,r,a,l,f,d,v,T,C,q,X,J,H,F){if(n.timeoutHandle=-1,J=r.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(kl={stylesheets:null,count:0,unsuspend:d1},Z_(r),J=p1(),J!==null)){n.cancelPendingCommit=J(fv.bind(null,n,r,d,a,l,f,v,T,C,X,1,H,F)),Or(n,d,v,!q);return}fv(n,r,d,a,l,f,v,T,C)}function xS(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!pn(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Or(n,r,a,l){r&=~Hd,r&=~Fs,n.suspendedLanes|=r,n.pingedLanes&=~r,l&&(n.warmLanes|=r),l=n.expirationTimes;for(var f=r;0<f;){var d=31-$t(f),v=1<<d;l[d]=-1,f&=~v}a!==0&&ii(n,a,r)}function Mc(){return(Ge&6)===0?(Cl(0),!1):!0}function Yd(){if(Ne!==null){if(Ke===0)var n=Ne.return;else n=Ne,Hi=Us=null,fd(n),qa=null,_l=0,n=Ne;for(;n!==null;)U_(n.alternate,n),n=n.return;Ne=null}}function Xa(n,r){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,XS(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Yd(),Je=n,Ne=a=Bi(n.current,null),Le=r,Ke=0,vn=null,Rr=!1,Ka=gs(n,r),qd=!1,$a=Ln=Hd=Fs=Ir=ct=0,ln=Rl=null,Fd=!1,(r&8)!==0&&(r|=r&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=r;0<l;){var f=31-$t(l),d=1<<f;r|=n[f],l&=~d}return Wi=r,tc(),a}function av(n,r){Ie=null,Y.H=Ec,r===ul||r===cc?(r=by(),Ke=3):r===Ey?(r=by(),Ke=4):Ke=r===w_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,vn=r,Ne===null&&(ct=1,Sc(n,xn(r,n.current)))}function ov(){var n=Y.H;return Y.H=Ec,n===null?Ec:n}function lv(){var n=Y.A;return Y.A=OS,n}function Xd(){ct=4,Rr||(Le&4194048)!==Le&&Vn.current!==null||(Ka=!0),(Ir&134217727)===0&&(Fs&134217727)===0||Je===null||Or(Je,Le,Ln,!1)}function Wd(n,r,a){var l=Ge;Ge|=2;var f=ov(),d=lv();(Je!==n||Le!==r)&&(xc=null,Xa(n,r)),r=!1;var v=ct;e:do try{if(Ke!==0&&Ne!==null){var T=Ne,C=vn;switch(Ke){case 8:Yd(),v=6;break e;case 3:case 2:case 9:case 6:Vn.current===null&&(r=!0);var q=Ke;if(Ke=0,vn=null,Wa(n,T,C,q),a&&Ka){v=0;break e}break;default:q=Ke,Ke=0,vn=null,Wa(n,T,C,q)}}MS(),v=ct;break}catch(X){av(n,X)}while(!0);return r&&n.shellSuspendCounter++,Hi=Us=null,Ge=l,Y.H=f,Y.A=d,Ne===null&&(Je=null,Le=0,tc()),v}function MS(){for(;Ne!==null;)uv(Ne)}function kS(n,r){var a=Ge;Ge|=2;var l=ov(),f=lv();Je!==n||Le!==r?(xc=null,Nc=Rn()+500,Xa(n,r)):Ka=gs(n,r);e:do try{if(Ke!==0&&Ne!==null){r=Ne;var d=vn;t:switch(Ke){case 1:Ke=0,vn=null,Wa(n,r,d,1);break;case 2:case 9:if(Ty(d)){Ke=0,vn=null,cv(r);break}r=function(){Ke!==2&&Ke!==9||Je!==n||(Ke=7),_i(n)},d.then(r,r);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:Ty(d)?(Ke=0,vn=null,cv(r)):(Ke=0,vn=null,Wa(n,r,d,7));break;case 5:var v=null;switch(Ne.tag){case 26:v=Ne.memoizedState;case 5:case 27:var T=Ne;if(!v||Gv(v)){Ke=0,vn=null;var C=T.sibling;if(C!==null)Ne=C;else{var q=T.return;q!==null?(Ne=q,kc(q)):Ne=null}break t}}Ke=0,vn=null,Wa(n,r,d,5);break;case 6:Ke=0,vn=null,Wa(n,r,d,6);break;case 8:Yd(),ct=6;break e;default:throw Error(s(462))}}PS();break}catch(X){av(n,X)}while(!0);return Hi=Us=null,Y.H=l,Y.A=f,Ge=a,Ne!==null?0:(Je=null,Le=0,tc(),ct)}function PS(){for(;Ne!==null&&!xo();)uv(Ne)}function uv(n){var r=V_(n.alternate,n,Wi);n.memoizedProps=n.pendingProps,r===null?kc(n):Ne=r}function cv(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=O_(a,r,r.pendingProps,r.type,void 0,Le);break;case 11:r=O_(a,r,r.pendingProps,r.type.render,r.ref,Le);break;case 5:fd(r);default:U_(a,r),r=Ne=hy(r,Wi),r=V_(a,r,Wi)}n.memoizedProps=n.pendingProps,r===null?kc(n):Ne=r}function Wa(n,r,a,l){Hi=Us=null,fd(r),qa=null,_l=0;var f=r.return;try{if(wS(n,f,r,a,Le)){ct=1,Sc(n,xn(a,n.current)),Ne=null;return}}catch(d){if(f!==null)throw Ne=f,d;ct=1,Sc(n,xn(a,n.current)),Ne=null;return}r.flags&32768?(ze||l===1?n=!0:Ka||(Le&536870912)!==0?n=!1:(Rr=n=!0,(l===2||l===9||l===3||l===6)&&(l=Vn.current,l!==null&&l.tag===13&&(l.flags|=16384))),hv(r,n)):kc(r)}function kc(n){var r=n;do{if((r.flags&32768)!==0){hv(r,Rr);return}n=r.return;var a=RS(r.alternate,r,Wi);if(a!==null){Ne=a;return}if(r=r.sibling,r!==null){Ne=r;return}Ne=r=n}while(r!==null);ct===0&&(ct=5)}function hv(n,r){do{var a=IS(n.alternate,n);if(a!==null){a.flags&=32767,Ne=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){Ne=n;return}Ne=n=a}while(n!==null);ct=6,Ne=null}function fv(n,r,a,l,f,d,v,T,C){n.cancelPendingCommit=null;do Pc();while(zt!==0);if((Ge&6)!==0)throw Error(s(327));if(r!==null){if(r===n.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=zf,Uo(n,a,d,v,T,C),n===Je&&(Ne=Je=null,Le=0),Qa=r,Dr=n,Ya=a,Kd=d,$d=f,nv=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,jS(fs,function(){return yv(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,f=ae.p,ae.p=2,v=Ge,Ge|=4;try{CS(n,r,a)}finally{Ge=v,ae.p=f,Y.T=l}}zt=1,dv(),mv(),pv()}}function dv(){if(zt===1){zt=0;var n=Dr,r=Qa,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=ae.p;ae.p=2;var f=Ge;Ge|=4;try{Y_(r,n);var d=um,v=ty(n.containerInfo),T=d.focusedElem,C=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&ey(T.ownerDocument.documentElement,T)){if(C!==null&&Vf(T)){var q=C.start,X=C.end;if(X===void 0&&(X=q),"selectionStart"in T)T.selectionStart=q,T.selectionEnd=Math.min(X,T.value.length);else{var J=T.ownerDocument||document,H=J&&J.defaultView||window;if(H.getSelection){var F=H.getSelection(),Te=T.textContent.length,ye=Math.min(C.start,Te),Xe=C.end===void 0?ye:Math.min(C.end,Te);!F.extend&&ye>Xe&&(v=Xe,Xe=ye,ye=v);var L=Jg(T,ye),k=Jg(T,Xe);if(L&&k&&(F.rangeCount!==1||F.anchorNode!==L.node||F.anchorOffset!==L.offset||F.focusNode!==k.node||F.focusOffset!==k.offset)){var z=J.createRange();z.setStart(L.node,L.offset),F.removeAllRanges(),ye>Xe?(F.addRange(z),F.extend(k.node,k.offset)):(z.setEnd(k.node,k.offset),F.addRange(z))}}}}for(J=[],F=T;F=F.parentNode;)F.nodeType===1&&J.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<J.length;T++){var Z=J[T];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}$c=!!lm,um=lm=null}finally{Ge=f,ae.p=l,Y.T=a}}n.current=r,zt=2}}function mv(){if(zt===2){zt=0;var n=Dr,r=Qa,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=ae.p;ae.p=2;var f=Ge;Ge|=4;try{G_(n,r.alternate,r)}finally{Ge=f,ae.p=l,Y.T=a}}zt=3}}function pv(){if(zt===4||zt===3){zt=0,Ou();var n=Dr,r=Qa,a=Ya,l=nv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?zt=5:(zt=0,Qa=Dr=null,gv(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Cr=null),ma(a),r=r.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(lt,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=Y.T,f=ae.p,ae.p=2,Y.T=null;try{for(var d=n.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{Y.T=r,ae.p=f}}(Ya&3)!==0&&Pc(),_i(n),f=n.pendingLanes,(a&4194090)!==0&&(f&42)!==0?n===Qd?Il++:(Il=0,Qd=n):Il=0,Cl(0)}}function gv(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,ol(r)))}function Pc(n){return dv(),mv(),pv(),yv()}function yv(){if(zt!==5)return!1;var n=Dr,r=Kd;Kd=0;var a=ma(Ya),l=Y.T,f=ae.p;try{ae.p=32>a?32:a,Y.T=null,a=$d,$d=null;var d=Dr,v=Ya;if(zt=0,Qa=Dr=null,Ya=0,(Ge&6)!==0)throw Error(s(331));var T=Ge;if(Ge|=4,ev(d.current),W_(d,d.current,v,a),Ge=T,Cl(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(lt,d)}catch{}return!0}finally{ae.p=f,Y.T=l,gv(n,r)}}function _v(n,r,a){r=xn(a,r),r=Rd(n.stateNode,r,2),n=vr(n,r,2),n!==null&&(Di(n,2),_i(n))}function We(n,r,a){if(n.tag===3)_v(n,n,a);else for(;r!==null;){if(r.tag===3){_v(r,n,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Cr===null||!Cr.has(l))){n=xn(a,n),a=A_(2),l=vr(r,a,2),l!==null&&(b_(a,l,r,n),Di(l,2),_i(l));break}}r=r.return}}function Zd(n,r,a){var l=n.pingCache;if(l===null){l=n.pingCache=new NS;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(qd=!0,f.add(a),n=VS.bind(null,n,r,a),r.then(n,n))}function VS(n,r,a){var l=n.pingCache;l!==null&&l.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,Je===n&&(Le&a)===a&&(ct===4||ct===3&&(Le&62914560)===Le&&300>Rn()-Gd?(Ge&2)===0&&Xa(n,0):Hd|=a,$a===Le&&($a=0)),_i(n)}function vv(n,r){r===0&&(r=Lo()),n=xa(n,r),n!==null&&(Di(n,r),_i(n))}function LS(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),vv(n,a)}function US(n,r){var a=0;switch(n.tag){case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),vv(n,a)}function jS(n,r){return cs(n,r)}var Vc=null,Za=null,Jd=!1,Lc=!1,em=!1,Gs=0;function _i(n){n!==Za&&n.next===null&&(Za===null?Vc=Za=n:Za=Za.next=n),Lc=!0,Jd||(Jd=!0,zS())}function Cl(n,r){if(!em&&Lc){em=!0;do for(var a=!1,l=Vc;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-$t(42|n)+1)-1,d&=f&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,bv(l,d))}else d=Le,d=da(l,l===Je?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||gs(l,d)||(a=!0,bv(l,d));l=l.next}while(a);em=!1}}function BS(){Ev()}function Ev(){Lc=Jd=!1;var n=0;Gs!==0&&(YS()&&(n=Gs),Gs=0);for(var r=Rn(),a=null,l=Vc;l!==null;){var f=l.next,d=Tv(l,r);d===0?(l.next=null,a===null?Vc=f:a.next=f,f===null&&(Za=a)):(a=l,(n!==0||(d&3)!==0)&&(Lc=!0)),l=f}Cl(n)}function Tv(n,r){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var v=31-$t(d),T=1<<v,C=f[v];C===-1?((T&a)===0||(T&l)!==0)&&(f[v]=Po(T,r)):C<=r&&(n.expiredLanes|=T),d&=~T}if(r=Je,a=Le,a=da(n,n===r?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===r&&(Ke===2||Ke===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&hs(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||gs(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(l!==null&&hs(l),ma(a)){case 2:case 8:a=ha;break;case 32:a=fs;break;case 268435456:a=fa;break;default:a=fs}return l=Av.bind(null,n),a=cs(a,l),n.callbackPriority=r,n.callbackNode=a,r}return l!==null&&l!==null&&hs(l),n.callbackPriority=2,n.callbackNode=null,2}function Av(n,r){if(zt!==0&&zt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Pc()&&n.callbackNode!==a)return null;var l=Le;return l=da(n,n===Je?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(rv(n,l,r),Tv(n,Rn()),n.callbackNode!=null&&n.callbackNode===a?Av.bind(null,n):null)}function bv(n,r){if(Pc())return null;rv(n,r,!0)}function zS(){WS(function(){(Ge&6)!==0?cs(Mo,BS):Ev()})}function tm(){return Gs===0&&(Gs=Vo()),Gs}function wv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ea(""+n)}function Sv(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function qS(n,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var d=wv((f[yt]||null).action),v=l.submitter;v&&(r=(r=v[yt]||null)?wv(r.formAction):v.getAttribute("formAction"),r!==null&&(d=r,v=null));var T=new Ta("action","action",null,l,f);n.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Gs!==0){var C=v?Sv(f,v):new FormData(f);Td(a,{pending:!0,data:C,method:f.method,action:d},null,C)}}else typeof d=="function"&&(T.preventDefault(),C=v?Sv(f,v):new FormData(f),Td(a,{pending:!0,data:C,method:f.method,action:d},d,C))},currentTarget:f}]})}}for(var nm=0;nm<Bf.length;nm++){var im=Bf[nm],HS=im.toLowerCase(),FS=im[0].toUpperCase()+im.slice(1);$n(HS,"on"+FS)}$n(ry,"onAnimationEnd"),$n(sy,"onAnimationIteration"),$n(ay,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(oS,"onTransitionRun"),$n(lS,"onTransitionStart"),$n(uS,"onTransitionCancel"),$n(oy,"onTransitionEnd"),Ni("onMouseEnter",["mouseout","mouseover"]),Ni("onMouseLeave",["mouseout","mouseover"]),Ni("onPointerEnter",["pointerout","pointerover"]),Ni("onPointerLeave",["pointerout","pointerover"]),Gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dl));function Rv(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var v=l.length-1;0<=v;v--){var T=l[v],C=T.instance,q=T.currentTarget;if(T=T.listener,C!==d&&f.isPropagationStopped())break e;d=T,f.currentTarget=q;try{d(f)}catch(X){wc(X)}f.currentTarget=null,d=C}else for(v=0;v<l.length;v++){if(T=l[v],C=T.instance,q=T.currentTarget,T=T.listener,C!==d&&f.isPropagationStopped())break e;d=T,f.currentTarget=q;try{d(f)}catch(X){wc(X)}f.currentTarget=null,d=C}}}}function xe(n,r){var a=r[Bo];a===void 0&&(a=r[Bo]=new Set);var l=n+"__bubble";a.has(l)||(Iv(r,n,2,!1),a.add(l))}function rm(n,r,a){var l=0;r&&(l|=4),Iv(a,n,l,r)}var Uc="_reactListening"+Math.random().toString(36).slice(2);function sm(n){if(!n[Uc]){n[Uc]=!0,zo.forEach(function(a){a!=="selectionchange"&&(GS.has(a)||rm(a,!1,n),rm(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[Uc]||(r[Uc]=!0,rm("selectionchange",!1,r))}}function Iv(n,r,a,l){switch(Wv(r)){case 2:var f=_1;break;case 8:f=v1;break;default:f=vm}a=f.bind(null,r,a,n),f=void 0,!On||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(r,a,{capture:!0,passive:f}):n.addEventListener(r,a,!0):f!==void 0?n.addEventListener(r,a,{passive:f}):n.addEventListener(r,a,!1)}function am(n,r,a,l,f){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===f)break;if(v===4)for(v=l.return;v!==null;){var C=v.tag;if((C===3||C===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;T!==null;){if(v=Oi(T),v===null)return;if(C=v.tag,C===5||C===6||C===26||C===27){l=d=v;continue e}T=T.parentNode}}l=l.return}Bu(function(){var q=d,X=Dn(a),J=[];e:{var H=ly.get(n);if(H!==void 0){var F=Ta,Te=n;switch(n){case"keypress":if(ui(a)===0)break e;case"keydown":case"keyup":F=Ia;break;case"focusin":Te="focus",F=wa;break;case"focusout":Te="blur",F=wa;break;case"beforeblur":case"afterblur":F=wa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Nn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=xf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=Qu;break;case ry:case sy:case ay:F=Sa;break;case oy:F=Xu;break;case"scroll":case"scrollend":F=zu;break;case"wheel":F=Ca;break;case"copy":case"cut":case"paste":F=Ra;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Jo;break;case"toggle":case"beforetoggle":F=Zu}var ye=(r&4)!==0,Xe=!ye&&(n==="scroll"||n==="scrollend"),L=ye?H!==null?H+"Capture":null:H;ye=[];for(var k=q,z;k!==null;){var Z=k;if(z=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||z===null||L===null||(Z=ws(k,L),Z!=null&&ye.push(Ol(k,Z,z))),Xe)break;k=k.return}0<ye.length&&(H=new F(H,Te,null,a,X),J.push({event:H,listeners:ye}))}}if((r&7)===0){e:{if(H=n==="mouseover"||n==="pointerover",F=n==="mouseout"||n==="pointerout",H&&a!==ki&&(Te=a.relatedTarget||a.fromElement)&&(Oi(Te)||Te[In]))break e;if((F||H)&&(H=X.window===X?X:(H=X.ownerDocument)?H.defaultView||H.parentWindow:window,F?(Te=a.relatedTarget||a.toElement,F=q,Te=Te?Oi(Te):null,Te!==null&&(Xe=u(Te),ye=Te.tag,Te!==Xe||ye!==5&&ye!==27&&ye!==6)&&(Te=null)):(F=null,Te=q),F!==Te)){if(ye=Nn,Z="onMouseLeave",L="onMouseEnter",k="mouse",(n==="pointerout"||n==="pointerover")&&(ye=Jo,Z="onPointerLeave",L="onPointerEnter",k="pointer"),Xe=F==null?H:si(F),z=Te==null?H:si(Te),H=new ye(Z,k+"leave",F,a,X),H.target=Xe,H.relatedTarget=z,Z=null,Oi(X)===q&&(ye=new ye(L,k+"enter",Te,a,X),ye.target=z,ye.relatedTarget=Xe,Z=ye),Xe=Z,F&&Te)t:{for(ye=F,L=Te,k=0,z=ye;z;z=Ja(z))k++;for(z=0,Z=L;Z;Z=Ja(Z))z++;for(;0<k-z;)ye=Ja(ye),k--;for(;0<z-k;)L=Ja(L),z--;for(;k--;){if(ye===L||L!==null&&ye===L.alternate)break t;ye=Ja(ye),L=Ja(L)}ye=null}else ye=null;F!==null&&Cv(J,H,F,ye,!1),Te!==null&&Xe!==null&&Cv(J,Xe,Te,ye,!0)}}e:{if(H=q?si(q):window,F=H.nodeName&&H.nodeName.toLowerCase(),F==="select"||F==="input"&&H.type==="file")var fe=$g;else if(St(H))if(Qg)fe=rS;else{fe=nS;var Oe=tS}else F=H.nodeName,!F||F.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?q&&Ko(q.elementType)&&(fe=$g):fe=iS;if(fe&&(fe=fe(n,q))){ji(J,fe,a,X);break e}Oe&&Oe(n,H,q),n==="focusout"&&q&&H.type==="number"&&q.memoizedProps.value!=null&&mr(H,"number",H.value)}switch(Oe=q?si(q):window,n){case"focusin":(St(Oe)||Oe.contentEditable==="true")&&(Da=Oe,Lf=q,nl=null);break;case"focusout":nl=Lf=Da=null;break;case"mousedown":Uf=!0;break;case"contextmenu":case"mouseup":case"dragend":Uf=!1,ny(J,a,X);break;case"selectionchange":if(aS)break;case"keydown":case"keyup":ny(J,a,X)}var de;if(fi)e:{switch(n){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Pe?$(n,a)&&(_e="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(_&&a.locale!=="ko"&&(Pe||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Pe&&(de=Qo()):(li=X,pr="value"in li?li.value:li.textContent,Pe=!0)),Oe=jc(q,_e),0<Oe.length&&(_e=new Wo(_e,n,null,a,X),J.push({event:_e,listeners:Oe}),de?_e.data=de:(de=se(a),de!==null&&(_e.data=de)))),(de=y?wt(n,a):Ve(n,a))&&(_e=jc(q,"onBeforeInput"),0<_e.length&&(Oe=new Wo("onBeforeInput","beforeinput",null,a,X),J.push({event:Oe,listeners:_e}),Oe.data=de)),qS(J,n,q,a,X)}Rv(J,r)})}function Ol(n,r,a){return{instance:n,listener:r,currentTarget:a}}function jc(n,r){for(var a=r+"Capture",l=[];n!==null;){var f=n,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=ws(n,a),f!=null&&l.unshift(Ol(n,f,d)),f=ws(n,r),f!=null&&l.push(Ol(n,f,d))),n.tag===3)return l;n=n.return}return[]}function Ja(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Cv(n,r,a,l,f){for(var d=r._reactName,v=[];a!==null&&a!==l;){var T=a,C=T.alternate,q=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||q===null||(C=q,f?(q=ws(a,d),q!=null&&v.unshift(Ol(a,q,C))):f||(q=ws(a,d),q!=null&&v.push(Ol(a,q,C)))),a=a.return}v.length!==0&&n.push({event:r,listeners:v})}var KS=/\r\n?/g,$S=/\u0000|\uFFFD/g;function Dv(n){return(typeof n=="string"?n:""+n).replace(KS,`
`).replace($S,"")}function Ov(n,r){return r=Dv(r),Dv(n)===r}function Bc(){}function Ye(n,r,a,l,f,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Cn(n,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Cn(n,""+l);break;case"className":ai(n,"class",l);break;case"tabIndex":ai(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ai(n,a,l);break;case"style":Go(n,l,d);break;case"data":if(r!=="object"){ai(n,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Ea(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&Ye(n,r,"name",f.name,f,null),Ye(n,r,"formEncType",f.formEncType,f,null),Ye(n,r,"formMethod",f.formMethod,f,null),Ye(n,r,"formTarget",f.formTarget,f,null)):(Ye(n,r,"encType",f.encType,f,null),Ye(n,r,"method",f.method,f,null),Ye(n,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Ea(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Bc);break;case"onScroll":l!=null&&xe("scroll",n);break;case"onScrollEnd":l!=null&&xe("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=Ea(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":xe("beforetoggle",n),xe("toggle",n),dr(n,"popover",l);break;case"xlinkActuate":Ut(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ut(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ut(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ut(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ut(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ut(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ut(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ut(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ut(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":dr(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Of.get(a)||a,dr(n,a,l))}}function om(n,r,a,l,f,d){switch(a){case"style":Go(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?Cn(n,l):(typeof l=="number"||typeof l=="bigint")&&Cn(n,""+l);break;case"onScroll":l!=null&&xe("scroll",n);break;case"onScrollEnd":l!=null&&xe("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Bc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pa.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=n[yt]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,l,f);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):dr(n,a,l)}}}function qt(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",n),xe("load",n);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ye(n,r,d,v,a,null)}}f&&Ye(n,r,"srcSet",a.srcSet,a,null),l&&Ye(n,r,"src",a.src,a,null);return;case"input":xe("invalid",n);var T=d=v=f=null,C=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":f=X;break;case"type":v=X;break;case"checked":C=X;break;case"defaultChecked":q=X;break;case"value":d=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:Ye(n,r,l,X,a,null)}}Ts(n,d,T,C,q,v,f,!1),va(n);return;case"select":xe("invalid",n),l=v=d=null;for(f in a)if(a.hasOwnProperty(f)&&(T=a[f],T!=null))switch(f){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Ye(n,r,f,T,a,null)}r=d,a=v,n.multiple=!!l,r!=null?Mi(n,!!l,r,!1):a!=null&&Mi(n,!!l,a,!0);return;case"textarea":xe("invalid",n),d=f=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":f=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Ye(n,r,v,T,a,null)}As(n,l,f,d),va(n);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ye(n,r,C,l,a,null)}return;case"dialog":xe("beforetoggle",n),xe("toggle",n),xe("cancel",n),xe("close",n);break;case"iframe":case"object":xe("load",n);break;case"video":case"audio":for(l=0;l<Dl.length;l++)xe(Dl[l],n);break;case"image":xe("error",n),xe("load",n);break;case"details":xe("toggle",n);break;case"embed":case"source":case"link":xe("error",n),xe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ye(n,r,q,l,a,null)}return;default:if(Ko(r)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&om(n,r,X,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Ye(n,r,T,l,a,null))}function QS(n,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,v=null,T=null,C=null,q=null,X=null;for(F in a){var J=a[F];if(a.hasOwnProperty(F)&&J!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":C=J;default:l.hasOwnProperty(F)||Ye(n,r,F,null,l,J)}}for(var H in l){var F=l[H];if(J=a[H],l.hasOwnProperty(H)&&(F!=null||J!=null))switch(H){case"type":d=F;break;case"name":f=F;break;case"checked":q=F;break;case"defaultChecked":X=F;break;case"value":v=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:F!==J&&Ye(n,r,H,F,l,J)}}mn(n,v,T,C,q,X,d,f);return;case"select":F=v=T=H=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":F=C;default:l.hasOwnProperty(d)||Ye(n,r,d,null,l,C)}for(f in l)if(d=l[f],C=a[f],l.hasOwnProperty(f)&&(d!=null||C!=null))switch(f){case"value":H=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==C&&Ye(n,r,f,d,l,C)}r=T,a=v,l=F,H!=null?Mi(n,!!a,H,!1):!!l!=!!a&&(r!=null?Mi(n,!!a,r,!0):Mi(n,!!a,a?[]:"",!1));return;case"textarea":F=H=null;for(T in a)if(f=a[T],a.hasOwnProperty(T)&&f!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Ye(n,r,T,null,l,f)}for(v in l)if(f=l[v],d=a[v],l.hasOwnProperty(v)&&(f!=null||d!=null))switch(v){case"value":H=f;break;case"defaultValue":F=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&Ye(n,r,v,f,l,d)}$e(n,H,F);return;case"option":for(var Te in a)if(H=a[Te],a.hasOwnProperty(Te)&&H!=null&&!l.hasOwnProperty(Te))switch(Te){case"selected":n.selected=!1;break;default:Ye(n,r,Te,null,l,H)}for(C in l)if(H=l[C],F=a[C],l.hasOwnProperty(C)&&H!==F&&(H!=null||F!=null))switch(C){case"selected":n.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Ye(n,r,C,H,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)H=a[ye],a.hasOwnProperty(ye)&&H!=null&&!l.hasOwnProperty(ye)&&Ye(n,r,ye,null,l,H);for(q in l)if(H=l[q],F=a[q],l.hasOwnProperty(q)&&H!==F&&(H!=null||F!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,r));break;default:Ye(n,r,q,H,l,F)}return;default:if(Ko(r)){for(var Xe in a)H=a[Xe],a.hasOwnProperty(Xe)&&H!==void 0&&!l.hasOwnProperty(Xe)&&om(n,r,Xe,void 0,l,H);for(X in l)H=l[X],F=a[X],!l.hasOwnProperty(X)||H===F||H===void 0&&F===void 0||om(n,r,X,H,l,F);return}}for(var L in a)H=a[L],a.hasOwnProperty(L)&&H!=null&&!l.hasOwnProperty(L)&&Ye(n,r,L,null,l,H);for(J in l)H=l[J],F=a[J],!l.hasOwnProperty(J)||H===F||H==null&&F==null||Ye(n,r,J,H,l,F)}var lm=null,um=null;function zc(n){return n.nodeType===9?n:n.ownerDocument}function Nv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xv(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function cm(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var hm=null;function YS(){var n=window.event;return n&&n.type==="popstate"?n===hm?!1:(hm=n,!0):(hm=null,!1)}var Mv=typeof setTimeout=="function"?setTimeout:void 0,XS=typeof clearTimeout=="function"?clearTimeout:void 0,kv=typeof Promise=="function"?Promise:void 0,WS=typeof queueMicrotask=="function"?queueMicrotask:typeof kv<"u"?function(n){return kv.resolve(null).then(n).catch(ZS)}:Mv;function ZS(n){setTimeout(function(){throw n})}function Nr(n){return n==="head"}function Pv(n,r){var a=r,l=0,f=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=n.ownerDocument;if(a&1&&Nl(v.documentElement),a&2&&Nl(v.body),a&4)for(a=v.head,Nl(a),v=a.firstChild;v;){var T=v.nextSibling,C=v.nodeName;v[ys]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(f===0){n.removeChild(d),jl(r);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);jl(r)}function fm(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":fm(a),fr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function JS(n,r,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[ys])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=Yn(n.nextSibling),n===null)break}return null}function e1(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Yn(n.nextSibling),n===null))return null;return n}function dm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function t1(n,r){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function Yn(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}var mm=null;function Vv(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}function Lv(n,r,a){switch(r=zc(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Nl(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);fr(n)}var Un=new Map,Uv=new Set;function qc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Zi=ae.d;ae.d={f:n1,r:i1,D:r1,C:s1,L:a1,m:o1,X:u1,S:l1,M:c1};function n1(){var n=Zi.f(),r=Mc();return n||r}function i1(n){var r=ri(n);r!==null&&r.tag===5&&r.type==="form"?r_(r):Zi.r(n)}var eo=typeof document>"u"?null:document;function jv(n,r,a){var l=eo;if(l&&typeof r=="string"&&r){var f=_t(r);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Uv.has(f)||(Uv.add(f),n={rel:n,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),qt(r,"link",n),dt(r),l.head.appendChild(r)))}}function r1(n){Zi.D(n),jv("dns-prefetch",n,null)}function s1(n,r){Zi.C(n,r),jv("preconnect",n,r)}function a1(n,r,a){Zi.L(n,r,a);var l=eo;if(l&&n&&r){var f='link[rel="preload"][as="'+_t(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+_t(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+_t(a.imageSizes)+'"]')):f+='[href="'+_t(n)+'"]';var d=f;switch(r){case"style":d=to(n);break;case"script":d=no(n)}Un.has(d)||(n=E({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),Un.set(d,n),l.querySelector(f)!==null||r==="style"&&l.querySelector(xl(d))||r==="script"&&l.querySelector(Ml(d))||(r=l.createElement("link"),qt(r,"link",n),dt(r),l.head.appendChild(r)))}}function o1(n,r){Zi.m(n,r);var a=eo;if(a&&n){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+_t(l)+'"][href="'+_t(n)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=no(n)}if(!Un.has(d)&&(n=E({rel:"modulepreload",href:n},r),Un.set(d,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ml(d)))return}l=a.createElement("link"),qt(l,"link",n),dt(l),a.head.appendChild(l)}}}function l1(n,r,a){Zi.S(n,r,a);var l=eo;if(l&&n){var f=en(l).hoistableStyles,d=to(n);r=r||"default";var v=f.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(xl(d)))T.loading=5;else{n=E({rel:"stylesheet",href:n,"data-precedence":r},a),(a=Un.get(d))&&pm(n,a);var C=v=l.createElement("link");dt(C),qt(C,"link",n),C._p=new Promise(function(q,X){C.onload=q,C.onerror=X}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Hc(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:T},f.set(d,v)}}}function u1(n,r){Zi.X(n,r);var a=eo;if(a&&n){var l=en(a).hoistableScripts,f=no(n),d=l.get(f);d||(d=a.querySelector(Ml(f)),d||(n=E({src:n,async:!0},r),(r=Un.get(f))&&gm(n,r),d=a.createElement("script"),dt(d),qt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function c1(n,r){Zi.M(n,r);var a=eo;if(a&&n){var l=en(a).hoistableScripts,f=no(n),d=l.get(f);d||(d=a.querySelector(Ml(f)),d||(n=E({src:n,async:!0,type:"module"},r),(r=Un.get(f))&&gm(n,r),d=a.createElement("script"),dt(d),qt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Bv(n,r,a,l){var f=(f=be.current)?qc(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=to(a.href),a=en(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=to(a.href);var d=en(f).hoistableStyles,v=d.get(n);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,v),(d=f.querySelector(xl(n)))&&!d._p&&(v.instance=d,v.state.loading=5),Un.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Un.set(n,a),d||h1(f,n,a,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=no(a),a=en(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function to(n){return'href="'+_t(n)+'"'}function xl(n){return'link[rel="stylesheet"]['+n+"]"}function zv(n){return E({},n,{"data-precedence":n.precedence,precedence:null})}function h1(n,r,a,l){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=n.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),qt(r,"link",a),dt(r),n.head.appendChild(r))}function no(n){return'[src="'+_t(n)+'"]'}function Ml(n){return"script[async]"+n}function qv(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=n.querySelector('style[data-href~="'+_t(a.href)+'"]');if(l)return r.instance=l,dt(l),l;var f=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),dt(l),qt(l,"style",f),Hc(l,a.precedence,n),r.instance=l;case"stylesheet":f=to(a.href);var d=n.querySelector(xl(f));if(d)return r.state.loading|=4,r.instance=d,dt(d),d;l=zv(a),(f=Un.get(f))&&pm(l,f),d=(n.ownerDocument||n).createElement("link"),dt(d);var v=d;return v._p=new Promise(function(T,C){v.onload=T,v.onerror=C}),qt(d,"link",l),r.state.loading|=4,Hc(d,a.precedence,n),r.instance=d;case"script":return d=no(a.src),(f=n.querySelector(Ml(d)))?(r.instance=f,dt(f),f):(l=a,(f=Un.get(d))&&(l=E({},a),gm(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),dt(f),qt(f,"link",l),n.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Hc(l,a.precedence,n));return r.instance}function Hc(n,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===r)d=T;else if(d!==f)break}d?d.parentNode.insertBefore(n,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function pm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function gm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var Fc=null;function Hv(n,r,a){if(Fc===null){var l=new Map,f=Fc=new Map;f.set(a,l)}else f=Fc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var d=a[f];if(!(d[ys]||d[bt]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(r)||"";v=n+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function Fv(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function f1(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Gv(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var kl=null;function d1(){}function m1(n,r,a){if(kl===null)throw Error(s(475));var l=kl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=to(a.href),d=n.querySelector(xl(f));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=Gc.bind(l),n.then(l,l)),r.state.loading|=4,r.instance=d,dt(d);return}d=n.ownerDocument||n,a=zv(a),(f=Un.get(f))&&pm(a,f),d=d.createElement("link"),dt(d);var v=d;v._p=new Promise(function(T,C){v.onload=T,v.onerror=C}),qt(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Gc.bind(l),n.addEventListener("load",r),n.addEventListener("error",r))}}function p1(){if(kl===null)throw Error(s(475));var n=kl;return n.stylesheets&&n.count===0&&ym(n,n.stylesheets),0<n.count?function(r){var a=setTimeout(function(){if(n.stylesheets&&ym(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Gc(){if(this.count--,this.count===0){if(this.stylesheets)ym(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Kc=null;function ym(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Kc=new Map,r.forEach(g1,n),Kc=null,Gc.call(n))}function g1(n,r){if(!(r.state.loading&4)){var a=Kc.get(n);if(a)var l=a.get(null);else{a=new Map,Kc.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var v=f[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}f=r.instance,v=f.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,f),a.set(v,f),this.count++,l=Gc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),r.state.loading|=4}}var Pl={$$typeof:W,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function y1(n,r,a,l,f,d,v,T){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ci(0),this.hiddenUpdates=Ci(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Kv(n,r,a,l,f,d,v,T,C,q,X,J){return n=new y1(n,r,a,v,T,C,q,J),r=1,d===!0&&(r|=24),d=gn(3,null,null,r),n.current=d,d.stateNode=n,r=Zf(),r.refCount++,n.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},nd(d),n}function $v(n){return n?(n=Ma,n):Ma}function Qv(n,r,a,l,f,d){f=$v(f),l.context===null?l.context=f:l.pendingContext=f,l=_r(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=vr(n,l,r),a!==null&&(Tn(a,n,r),hl(a,n,r))}function Yv(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function _m(n,r){Yv(n,r),(n=n.alternate)&&Yv(n,r)}function Xv(n){if(n.tag===13){var r=xa(n,67108864);r!==null&&Tn(r,n,67108864),_m(n,67108864)}}var $c=!0;function _1(n,r,a,l){var f=Y.T;Y.T=null;var d=ae.p;try{ae.p=2,vm(n,r,a,l)}finally{ae.p=d,Y.T=f}}function v1(n,r,a,l){var f=Y.T;Y.T=null;var d=ae.p;try{ae.p=8,vm(n,r,a,l)}finally{ae.p=d,Y.T=f}}function vm(n,r,a,l){if($c){var f=Em(l);if(f===null)am(n,r,l,Qc,a),Zv(n,l);else if(T1(f,n,r,a,l))l.stopPropagation();else if(Zv(n,l),r&4&&-1<E1.indexOf(n)){for(;f!==null;){var d=ri(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Fn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var C=1<<31-$t(v);T.entanglements[1]|=C,v&=~C}_i(d),(Ge&6)===0&&(Nc=Rn()+500,Cl(0))}}break;case 13:T=xa(d,2),T!==null&&Tn(T,d,2),Mc(),_m(d,2)}if(d=Em(l),d===null&&am(n,r,l,Qc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else am(n,r,l,null,a)}}function Em(n){return n=Dn(n),Tm(n)}var Qc=null;function Tm(n){if(Qc=null,n=Oi(n),n!==null){var r=u(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=h(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return Qc=n,null}function Wv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(wf()){case Mo:return 2;case ha:return 8;case fs:case Sf:return 32;case fa:return 268435456;default:return 32}default:return 32}}var Am=!1,xr=null,Mr=null,kr=null,Vl=new Map,Ll=new Map,Pr=[],E1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Zv(n,r){switch(n){case"focusin":case"focusout":xr=null;break;case"dragenter":case"dragleave":Mr=null;break;case"mouseover":case"mouseout":kr=null;break;case"pointerover":case"pointerout":Vl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ll.delete(r.pointerId)}}function Ul(n,r,a,l,f,d){return n===null||n.nativeEvent!==d?(n={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=ri(r),r!==null&&Xv(r)),n):(n.eventSystemFlags|=l,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function T1(n,r,a,l,f){switch(r){case"focusin":return xr=Ul(xr,n,r,a,l,f),!0;case"dragenter":return Mr=Ul(Mr,n,r,a,l,f),!0;case"mouseover":return kr=Ul(kr,n,r,a,l,f),!0;case"pointerover":var d=f.pointerId;return Vl.set(d,Ul(Vl.get(d)||null,n,r,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Ll.set(d,Ul(Ll.get(d)||null,n,r,a,l,f)),!0}return!1}function Jv(n){var r=Oi(n.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){n.blockedOn=r,Mu(n.priority,function(){if(a.tag===13){var l=En();l=ur(l);var f=xa(a,l);f!==null&&Tn(f,a,l),_m(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Yc(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=Em(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);ki=l,a.target.dispatchEvent(l),ki=null}else return r=ri(a),r!==null&&Xv(r),n.blockedOn=a,!1;r.shift()}return!0}function eE(n,r,a){Yc(n)&&a.delete(r)}function A1(){Am=!1,xr!==null&&Yc(xr)&&(xr=null),Mr!==null&&Yc(Mr)&&(Mr=null),kr!==null&&Yc(kr)&&(kr=null),Vl.forEach(eE),Ll.forEach(eE)}function Xc(n,r){n.blockedOn===r&&(n.blockedOn=null,Am||(Am=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,A1)))}var Wc=null;function tE(n){Wc!==n&&(Wc=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Wc===n&&(Wc=null);for(var r=0;r<n.length;r+=3){var a=n[r],l=n[r+1],f=n[r+2];if(typeof l!="function"){if(Tm(l||a)===null)continue;break}var d=ri(a);d!==null&&(n.splice(r,3),r-=3,Td(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function jl(n){function r(C){return Xc(C,n)}xr!==null&&Xc(xr,n),Mr!==null&&Xc(Mr,n),kr!==null&&Xc(kr,n),Vl.forEach(r),Ll.forEach(r);for(var a=0;a<Pr.length;a++){var l=Pr[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Pr.length&&(a=Pr[0],a.blockedOn===null);)Jv(a),a.blockedOn===null&&Pr.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],v=f[yt]||null;if(typeof d=="function")v||tE(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(f=d,v=d[yt]||null)T=v.formAction;else if(Tm(f)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),tE(a)}}}function bm(n){this._internalRoot=n}Zc.prototype.render=bm.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=En();Qv(a,l,n,r,null,null)},Zc.prototype.unmount=bm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;Qv(n.current,2,null,n,null,null),Mc(),r[In]=null}};function Zc(n){this._internalRoot=n}Zc.prototype.unstable_scheduleHydration=function(n){if(n){var r=cr();n={blockedOn:null,target:n,priority:r};for(var a=0;a<Pr.length&&r!==0&&r<Pr[a].priority;a++);Pr.splice(a,0,n),a===0&&Jv(n)}};var nE=e.version;if(nE!=="19.1.0")throw Error(s(527,nE,"19.1.0"));ae.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=p(r),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var b1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jc.isDisabled&&Jc.supportsFiber)try{lt=Jc.inject(b1),Fe=Jc}catch{}}return zl.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,l="",f=__,d=v_,v=E_,T=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(T=r.unstable_transitionCallbacks)),r=Kv(n,1,!1,null,null,a,l,f,d,v,T,null),n[In]=r.current,sm(n),new bm(r)},zl.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var l=!1,f="",d=__,v=v_,T=E_,C=null,q=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(q=a.formState)),r=Kv(n,1,!0,r,a??null,l,f,d,v,T,C,q),r.context=$v(null),a=r.current,l=En(),l=ur(l),f=_r(l),f.callback=null,vr(a,f,l),a=l,r.current.lanes=a,Di(r,a),_i(r),n[In]=r.current,sm(n),new Zc(r)},zl.version="19.1.0",zl}var fE;function k1(){if(fE)return Rm.exports;fE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Rm.exports=M1(),Rm.exports}var P1=k1();const V1=d0(P1);var ql={},dE;function L1(){if(dE)return ql;dE=1,Object.defineProperty(ql,"__esModule",{value:!0}),ql.parse=h,ql.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function h(w,D){const N=new u,K=w.length;if(K<2)return N;const U=(D==null?void 0:D.decode)||E;let Q=0;do{const ie=w.indexOf("=",Q);if(ie===-1)break;const W=w.indexOf(";",Q),le=W===-1?K:W;if(ie>le){Q=w.lastIndexOf(";",ie-1)+1;continue}const ce=m(w,Q,ie),Ae=p(w,ie,ce),P=w.slice(ce,Ae);if(N[P]===void 0){let R=m(w,ie+1,le),I=p(w,le,R);const M=U(w.slice(R,I));N[P]=M}Q=le+1}while(Q<K);return N}function m(w,D,N){do{const K=w.charCodeAt(D);if(K!==32&&K!==9)return D}while(++D<N);return N}function p(w,D,N){for(;D>N;){const K=w.charCodeAt(--D);if(K!==32&&K!==9)return D+1}return N}function g(w,D,N){const K=(N==null?void 0:N.encode)||encodeURIComponent;if(!i.test(w))throw new TypeError(`argument name is invalid: ${w}`);const U=K(D);if(!e.test(U))throw new TypeError(`argument val is invalid: ${D}`);let Q=w+"="+U;if(!N)return Q;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);Q+="; Max-Age="+N.maxAge}if(N.domain){if(!t.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);Q+="; Domain="+N.domain}if(N.path){if(!s.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);Q+="; Path="+N.path}if(N.expires){if(!b(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);Q+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&(Q+="; HttpOnly"),N.secure&&(Q+="; Secure"),N.partitioned&&(Q+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":Q+="; Priority=Low";break;case"medium":Q+="; Priority=Medium";break;case"high":Q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":Q+="; SameSite=Strict";break;case"lax":Q+="; SameSite=Lax";break;case"none":Q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return Q}function E(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function b(w){return o.call(w)==="[object Date]"}return ql}L1();var mE="popstate";function U1(i={}){function e(o,u){let{pathname:h="/",search:m="",hash:p=""}=ra(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),Qm("",{pathname:h,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function t(o,u){let h=o.document.querySelector("base"),m="";if(h&&h.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:ru(u))}function s(o,u){Bn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return B1(e,t,s,i)}function it(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Bn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function j1(){return Math.random().toString(36).substring(2,10)}function pE(i,e){return{usr:i.state,key:i.key,idx:e}}function Qm(i,e,t=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?ra(e):e,state:t,key:e&&e.key||s||j1()}}function ru({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function ra(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function B1(i,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=E();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function E(){return(h.state||{idx:null}).idx}function b(){m="POP";let U=E(),Q=U==null?null:U-g;g=U,p&&p({action:m,location:K.location,delta:Q})}function w(U,Q){m="PUSH";let ie=Qm(K.location,U,Q);t&&t(ie,U),g=E()+1;let W=pE(ie,g),le=K.createHref(ie);try{h.pushState(W,"",le)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;o.location.assign(le)}u&&p&&p({action:m,location:K.location,delta:1})}function D(U,Q){m="REPLACE";let ie=Qm(K.location,U,Q);t&&t(ie,U),g=E();let W=pE(ie,g),le=K.createHref(ie);h.replaceState(W,"",le),u&&p&&p({action:m,location:K.location,delta:0})}function N(U){return z1(U)}let K={get action(){return m},get location(){return i(o,h)},listen(U){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(mE,b),p=U,()=>{o.removeEventListener(mE,b),p=null}},createHref(U){return e(o,U)},createURL:N,encodeLocation(U){let Q=N(U);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:w,replace:D,go(U){return h.go(U)}};return K}function z1(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),it(t,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:ru(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function m0(i,e,t="/"){return q1(i,e,t,!1)}function q1(i,e,t,s){let o=typeof e=="string"?ra(e):e,u=ir(o.pathname||"/",t);if(u==null)return null;let h=p0(i);H1(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=eR(u);m=Z1(h[p],g,s)}return m}function p0(i,e=[],t=[],s=""){let o=(u,h,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};p.relativePath.startsWith("/")&&(it(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=nr([s,p.relativePath]),E=t.concat(p);u.children&&u.children.length>0&&(it(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),p0(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:X1(g,u.index),routesMeta:E})};return i.forEach((u,h)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,h);else for(let p of g0(u.path))o(u,h,p)}),e}function g0(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=g0(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function H1(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:W1(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var F1=/^:[\w-]+$/,G1=3,K1=2,$1=1,Q1=10,Y1=-2,gE=i=>i==="*";function X1(i,e){let t=i.split("/"),s=t.length;return t.some(gE)&&(s+=Y1),e&&(s+=K1),t.filter(o=>!gE(o)).reduce((o,u)=>o+(F1.test(u)?G1:u===""?$1:Q1),s)}function W1(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function Z1(i,e,t=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",b=wh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),w=p.route;if(!b&&g&&t&&!s[s.length-1].route.index&&(b=wh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!b)return null;Object.assign(o,b.params),h.push({params:o,pathname:nr([u,b.pathname]),pathnameBase:rR(nr([u,b.pathnameBase])),route:w}),b.pathnameBase!=="/"&&(u=nr([u,b.pathnameBase]))}return h}function wh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=J1(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:b},w)=>{if(E==="*"){let N=m[w]||"";h=u.slice(0,u.length-N.length).replace(/(.)\/+$/,"$1")}const D=m[w];return b&&!D?g[E]=void 0:g[E]=(D||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:i}}function J1(i,e=!1,t=!0){Bn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function eR(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Bn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function ir(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}function tR(i,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof i=="string"?ra(i):i;return{pathname:t?t.startsWith("/")?t:nR(t,e):e,search:sR(s),hash:aR(o)}}function nR(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Om(i,e,t,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function iR(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Sp(i){let e=iR(i);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function Rp(i,e,t,s=!1){let o;typeof i=="string"?o=ra(i):(o={...i},it(!o.pathname||!o.pathname.includes("?"),Om("?","pathname","search",o)),it(!o.pathname||!o.pathname.includes("#"),Om("#","pathname","hash",o)),it(!o.search||!o.search.includes("#"),Om("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=t;else{let b=e.length-1;if(!s&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),b-=1;o.pathname=w.join("/")}m=b>=0?e[b]:"/"}let p=tR(o,m),g=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var nr=i=>i.join("/").replace(/\/\/+/g,"/"),rR=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),sR=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,aR=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function oR(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var y0=["POST","PUT","PATCH","DELETE"];new Set(y0);var lR=["GET",...y0];new Set(lR);var Ao=G.createContext(null);Ao.displayName="DataRouter";var Kh=G.createContext(null);Kh.displayName="DataRouterState";var _0=G.createContext({isTransitioning:!1});_0.displayName="ViewTransition";var uR=G.createContext(new Map);uR.displayName="Fetchers";var cR=G.createContext(null);cR.displayName="Await";var ti=G.createContext(null);ti.displayName="Navigation";var gu=G.createContext(null);gu.displayName="Location";var Ri=G.createContext({outlet:null,matches:[],isDataRoute:!1});Ri.displayName="Route";var Ip=G.createContext(null);Ip.displayName="RouteError";function hR(i,{relative:e}={}){it(bo(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=G.useContext(ti),{hash:o,pathname:u,search:h}=yu(i,{relative:e}),m=u;return t!=="/"&&(m=u==="/"?t:nr([t,u])),s.createHref({pathname:m,search:h,hash:o})}function bo(){return G.useContext(gu)!=null}function is(){return it(bo(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(gu).location}var v0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function E0(i){G.useContext(ti).static||G.useLayoutEffect(i)}function Cp(){let{isDataRoute:i}=G.useContext(Ri);return i?wR():fR()}function fR(){it(bo(),"useNavigate() may be used only in the context of a <Router> component.");let i=G.useContext(Ao),{basename:e,navigator:t}=G.useContext(ti),{matches:s}=G.useContext(Ri),{pathname:o}=is(),u=JSON.stringify(Sp(s)),h=G.useRef(!1);return E0(()=>{h.current=!0}),G.useCallback((p,g={})=>{if(Bn(h.current,v0),!h.current)return;if(typeof p=="number"){t.go(p);return}let E=Rp(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:nr([e,E.pathname])),(g.replace?t.replace:t.push)(E,g.state,g)},[e,t,u,o,i])}G.createContext(null);function yu(i,{relative:e}={}){let{matches:t}=G.useContext(Ri),{pathname:s}=is(),o=JSON.stringify(Sp(t));return G.useMemo(()=>Rp(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function dR(i,e){return T0(i,e)}function T0(i,e,t,s){var ie;it(bo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=G.useContext(ti),{matches:h}=G.useContext(Ri),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",b=m&&m.route;{let W=b&&b.path||"";A0(g,!b||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let w=is(),D;if(e){let W=typeof e=="string"?ra(e):e;it(E==="/"||((ie=W.pathname)==null?void 0:ie.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${W.pathname}" was given in the \`location\` prop.`),D=W}else D=w;let N=D.pathname||"/",K=N;if(E!=="/"){let W=E.replace(/^\//,"").split("/");K="/"+N.replace(/^\//,"").split("/").slice(W.length).join("/")}let U=!u&&t&&t.matches&&t.matches.length>0?t.matches:m0(i,{pathname:K});Bn(b||U!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),Bn(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Q=_R(U&&U.map(W=>Object.assign({},W,{params:Object.assign({},p,W.params),pathname:nr([E,o.encodeLocation?o.encodeLocation(W.pathname).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?E:nr([E,o.encodeLocation?o.encodeLocation(W.pathnameBase).pathname:W.pathnameBase])})),h,t,s);return e&&Q?G.createElement(gu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...D},navigationType:"POP"}},Q):Q}function mR(){let i=bR(),e=oR(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=G.createElement(G.Fragment,null,G.createElement("p",null,"💿 Hey developer 👋"),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:u},"ErrorBoundary")," or"," ",G.createElement("code",{style:u},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),t?G.createElement("pre",{style:o},t):null,h)}var pR=G.createElement(mR,null),gR=class extends G.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?G.createElement(Ri.Provider,{value:this.props.routeContext},G.createElement(Ip.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function yR({routeContext:i,match:e,children:t}){let s=G.useContext(Ao);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),G.createElement(Ri.Provider,{value:i},t)}function _R(i,e=[],t=null,s=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let o=i,u=t==null?void 0:t.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);it(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,m=-1;if(t)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:E,errors:b}=t,w=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||w){h=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let b,w=!1,D=null,N=null;t&&(b=u&&g.route.id?u[g.route.id]:void 0,D=g.route.errorElement||pR,h&&(m<0&&E===0?(A0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,N=null):m===E&&(w=!0,N=g.route.hydrateFallbackElement||null)));let K=e.concat(o.slice(0,E+1)),U=()=>{let Q;return b?Q=D:w?Q=N:g.route.Component?Q=G.createElement(g.route.Component,null):g.route.element?Q=g.route.element:Q=p,G.createElement(yR,{match:g,routeContext:{outlet:p,matches:K,isDataRoute:t!=null},children:Q})};return t&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?G.createElement(gR,{location:t.location,revalidation:t.revalidation,component:D,error:b,children:U(),routeContext:{outlet:null,matches:K,isDataRoute:!0}}):U()},null)}function Dp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vR(i){let e=G.useContext(Ao);return it(e,Dp(i)),e}function ER(i){let e=G.useContext(Kh);return it(e,Dp(i)),e}function TR(i){let e=G.useContext(Ri);return it(e,Dp(i)),e}function Op(i){let e=TR(i),t=e.matches[e.matches.length-1];return it(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function AR(){return Op("useRouteId")}function bR(){var s;let i=G.useContext(Ip),e=ER("useRouteError"),t=Op("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[t]}function wR(){let{router:i}=vR("useNavigate"),e=Op("useNavigate"),t=G.useRef(!1);return E0(()=>{t.current=!0}),G.useCallback(async(o,u={})=>{Bn(t.current,v0),t.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var yE={};function A0(i,e,t){!e&&!yE[i]&&(yE[i]=!0,Bn(!1,t))}G.memo(SR);function SR({routes:i,future:e,state:t}){return T0(i,void 0,t,e)}function b0({to:i,replace:e,state:t,relative:s}){it(bo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=G.useContext(ti);Bn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=G.useContext(Ri),{pathname:h}=is(),m=Cp(),p=Rp(i,Sp(u),h,s==="path"),g=JSON.stringify(p);return G.useEffect(()=>{m(JSON.parse(g),{replace:e,state:t,relative:s})},[m,g,s,e,t]),null}function Ks(i){it(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function RR({basename:i="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1}){it(!bo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),m=G.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof t=="string"&&(t=ra(t));let{pathname:p="/",search:g="",hash:E="",state:b=null,key:w="default"}=t,D=G.useMemo(()=>{let N=ir(p,h);return N==null?null:{location:{pathname:N,search:g,hash:E,state:b,key:w},navigationType:s}},[h,p,g,E,b,w,s]);return Bn(D!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:G.createElement(ti.Provider,{value:m},G.createElement(gu.Provider,{children:e,value:D}))}function IR({children:i,location:e}){return dR(Ym(i),e)}function Ym(i,e=[]){let t=[];return G.Children.forEach(i,(s,o)=>{if(!G.isValidElement(s))return;let u=[...e,o];if(s.type===G.Fragment){t.push.apply(t,Ym(s.props.children,u));return}it(s.type===Ks,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),it(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Ym(s.props.children,u)),t.push(h)}),t}var hh="get",fh="application/x-www-form-urlencoded";function $h(i){return i!=null&&typeof i.tagName=="string"}function CR(i){return $h(i)&&i.tagName.toLowerCase()==="button"}function DR(i){return $h(i)&&i.tagName.toLowerCase()==="form"}function OR(i){return $h(i)&&i.tagName.toLowerCase()==="input"}function NR(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function xR(i,e){return i.button===0&&(!e||e==="_self")&&!NR(i)}var eh=null;function MR(){if(eh===null)try{new FormData(document.createElement("form"),0),eh=!1}catch{eh=!0}return eh}var kR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Nm(i){return i!=null&&!kR.has(i)?(Bn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fh}"`),null):i}function PR(i,e){let t,s,o,u,h;if(DR(i)){let m=i.getAttribute("action");s=m?ir(m,e):null,t=i.getAttribute("method")||hh,o=Nm(i.getAttribute("enctype"))||fh,u=new FormData(i)}else if(CR(i)||OR(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?ir(p,e):null,t=i.getAttribute("formmethod")||m.getAttribute("method")||hh,o=Nm(i.getAttribute("formenctype"))||Nm(m.getAttribute("enctype"))||fh,u=new FormData(m,i),!MR()){let{name:g,type:E,value:b}=i;if(E==="image"){let w=g?`${g}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else g&&u.append(g,b)}}else{if($h(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=hh,s=null,o=fh,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:h}}function Np(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function VR(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function LR(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function UR(i,e,t){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await VR(u,t);return h.links?h.links():[]}return[]}));return qR(s.flat(1).filter(LR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function _E(i,e,t,s,o,u){let h=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,m=(p,g)=>{var E;return t[g].pathname!==p.pathname||((E=t[g].route.path)==null?void 0:E.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var b;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((b=t[0])==null?void 0:b.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function jR(i,e,{includeHydrateFallback:t}={}){return BR(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function BR(i){return[...new Set(i)]}function zR(i){let e={},t=Object.keys(i).sort();for(let s of t)e[s]=i[s];return e}function qR(i,e){let t=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(zR(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var HR=new Set([100,101,204,205]);function FR(i,e){let t=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return t.pathname==="/"?t.pathname="_root.data":e&&ir(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function w0(){let i=G.useContext(Ao);return Np(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function GR(){let i=G.useContext(Kh);return Np(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var xp=G.createContext(void 0);xp.displayName="FrameworkContext";function S0(){let i=G.useContext(xp);return Np(i,"You must render this element inside a <HydratedRouter> element"),i}function KR(i,e){let t=G.useContext(xp),[s,o]=G.useState(!1),[u,h]=G.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:b}=e,w=G.useRef(null);G.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let K=Q=>{Q.forEach(ie=>{h(ie.isIntersecting)})},U=new IntersectionObserver(K,{threshold:.5});return w.current&&U.observe(w.current),()=>{U.disconnect()}}},[i]),G.useEffect(()=>{if(s){let K=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(K)}}},[s]);let D=()=>{o(!0)},N=()=>{o(!1),h(!1)};return t?i!=="intent"?[u,w,{}]:[u,w,{onFocus:Hl(m,D),onBlur:Hl(p,N),onMouseEnter:Hl(g,D),onMouseLeave:Hl(E,N),onTouchStart:Hl(b,D)}]:[!1,w,{}]}function Hl(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function $R({page:i,...e}){let{router:t}=w0(),s=G.useMemo(()=>m0(t.routes,i,t.basename),[t.routes,i,t.basename]);return s?G.createElement(YR,{page:i,matches:s,...e}):null}function QR(i){let{manifest:e,routeModules:t}=S0(),[s,o]=G.useState([]);return G.useEffect(()=>{let u=!1;return UR(i,e,t).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,t]),s}function YR({page:i,matches:e,...t}){let s=is(),{manifest:o,routeModules:u}=S0(),{basename:h}=w0(),{loaderData:m,matches:p}=GR(),g=G.useMemo(()=>_E(i,e,p,o,s,"data"),[i,e,p,o,s]),E=G.useMemo(()=>_E(i,e,p,o,s,"assets"),[i,e,p,o,s]),b=G.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let N=new Set,K=!1;if(e.forEach(Q=>{var W;let ie=o.routes[Q.route.id];!ie||!ie.hasLoader||(!g.some(le=>le.route.id===Q.route.id)&&Q.route.id in m&&((W=u[Q.route.id])!=null&&W.shouldRevalidate)||ie.hasClientLoader?K=!0:N.add(Q.route.id))}),N.size===0)return[];let U=FR(i,h);return K&&N.size>0&&U.searchParams.set("_routes",e.filter(Q=>N.has(Q.route.id)).map(Q=>Q.route.id).join(",")),[U.pathname+U.search]},[h,m,s,o,g,e,i,u]),w=G.useMemo(()=>jR(E,o),[E,o]),D=QR(E);return G.createElement(G.Fragment,null,b.map(N=>G.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...t})),w.map(N=>G.createElement("link",{key:N,rel:"modulepreload",href:N,...t})),D.map(({key:N,link:K})=>G.createElement("link",{key:N,...K})))}function XR(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var R0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{R0&&(window.__reactRouterVersion="7.6.0")}catch{}function WR({basename:i,children:e,window:t}){let s=G.useRef();s.current==null&&(s.current=U1({window:t,v5Compat:!0}));let o=s.current,[u,h]=G.useState({action:o.action,location:o.location}),m=G.useCallback(p=>{G.startTransition(()=>h(p))},[h]);return G.useLayoutEffect(()=>o.listen(m),[o,m]),G.createElement(RR,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var I0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_u=G.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:E,viewTransition:b,...w},D){let{basename:N}=G.useContext(ti),K=typeof g=="string"&&I0.test(g),U,Q=!1;if(typeof g=="string"&&K&&(U=g,R0))try{let I=new URL(window.location.href),M=g.startsWith("//")?new URL(I.protocol+g):new URL(g),V=ir(M.pathname,N);M.origin===I.origin&&V!=null?g=V+M.search+M.hash:Q=!0}catch{Bn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ie=hR(g,{relative:o}),[W,le,ce]=KR(s,w),Ae=eI(g,{replace:h,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:b});function P(I){e&&e(I),I.defaultPrevented||Ae(I)}let R=G.createElement("a",{...w,...ce,href:U||ie,onClick:Q||u?e:P,ref:XR(D,le),target:p,"data-discover":!K&&t==="render"?"true":void 0});return W&&!K?G.createElement(G.Fragment,null,R,G.createElement($R,{page:ie})):R});_u.displayName="Link";var Ji=G.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},E){let b=yu(h,{relative:g.relative}),w=is(),D=G.useContext(Kh),{navigator:N,basename:K}=G.useContext(ti),U=D!=null&&sI(b)&&m===!0,Q=N.encodeLocation?N.encodeLocation(b).pathname:b.pathname,ie=w.pathname,W=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;t||(ie=ie.toLowerCase(),W=W?W.toLowerCase():null,Q=Q.toLowerCase()),W&&K&&(W=ir(W,K)||W);const le=Q!=="/"&&Q.endsWith("/")?Q.length-1:Q.length;let ce=ie===Q||!o&&ie.startsWith(Q)&&ie.charAt(le)==="/",Ae=W!=null&&(W===Q||!o&&W.startsWith(Q)&&W.charAt(Q.length)==="/"),P={isActive:ce,isPending:Ae,isTransitioning:U},R=ce?e:void 0,I;typeof s=="function"?I=s(P):I=[s,ce?"active":null,Ae?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(P):u;return G.createElement(_u,{...g,"aria-current":R,className:I,ref:E,style:M,to:h,viewTransition:m},typeof p=="function"?p(P):p)});Ji.displayName="NavLink";var ZR=G.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:h=hh,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:b,...w},D)=>{let N=iI(),K=rI(m,{relative:g}),U=h.toLowerCase()==="get"?"get":"post",Q=typeof m=="string"&&I0.test(m),ie=W=>{if(p&&p(W),W.defaultPrevented)return;W.preventDefault();let le=W.nativeEvent.submitter,ce=(le==null?void 0:le.getAttribute("formmethod"))||h;N(le||W.currentTarget,{fetcherKey:e,method:ce,navigate:t,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:b})};return G.createElement("form",{ref:D,method:U,action:K,onSubmit:s?p:ie,...w,"data-discover":!Q&&i==="render"?"true":void 0})});ZR.displayName="Form";function JR(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function C0(i){let e=G.useContext(Ao);return it(e,JR(i)),e}function eI(i,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=Cp(),p=is(),g=yu(i,{relative:u});return G.useCallback(E=>{if(xR(E,e)){E.preventDefault();let b=t!==void 0?t:ru(p)===ru(g);m(i,{replace:b,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[p,m,g,t,s,e,i,o,u,h])}var tI=0,nI=()=>`__${String(++tI)}__`;function iI(){let{router:i}=C0("useSubmit"),{basename:e}=G.useContext(ti),t=AR();return G.useCallback(async(s,o={})=>{let{action:u,method:h,encType:m,formData:p,body:g}=PR(s,e);if(o.navigate===!1){let E=o.fetcherKey||nI();await i.fetch(E,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,t])}function rI(i,{relative:e}={}){let{basename:t}=G.useContext(ti),s=G.useContext(Ri);it(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...yu(i||".",{relative:e})},h=is();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:nr([t,u.pathname])),ru(u)}function sI(i,e={}){let t=G.useContext(_0);it(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=C0("useViewTransitionState"),o=yu(i,{relative:e.relative});if(!t.isTransitioning)return!1;let u=ir(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=ir(t.nextLocation.pathname,s)||t.nextLocation.pathname;return wh(o.pathname,h)!=null||wh(o.pathname,u)!=null}[...HR];const aI=()=>{};var vE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},oI=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[t++],h=i[t++],m=i[t++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[t++],h=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},O0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,m=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,E=u>>2,b=(u&3)<<4|m>>4;let w=(m&15)<<2|g>>6,D=g&63;p||(D=64,h||(w=64)),s.push(t[E],t[b],t[w],t[D])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(D0(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):oI(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=t[i.charAt(o++)],m=o<i.length?t[i.charAt(o)]:0;++o;const g=o<i.length?t[i.charAt(o)]:64;++o;const b=o<i.length?t[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||b==null)throw new lI;const w=u<<2|m>>4;if(s.push(w),g!==64){const D=m<<4&240|g>>2;if(s.push(D),b!==64){const N=g<<6&192|b;s.push(N)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class lI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uI=function(i){const e=D0(i);return O0.encodeByteArray(e,!0)},Sh=function(i){return uI(i).replace(/\./g,"")},N0=function(i){try{return O0.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI=()=>cI().__FIREBASE_DEFAULTS__,fI=()=>{if(typeof process>"u"||typeof vE>"u")return;const i=vE.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},dI=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&N0(i[1]);return e&&JSON.parse(e)},Qh=()=>{try{return aI()||hI()||fI()||dI()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},x0=i=>{var e,t;return(t=(e=Qh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[i]},M0=i=>{const e=x0(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},k0=()=>{var i;return(i=Qh())===null||i===void 0?void 0:i.config},P0=i=>{var e;return(e=Qh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sa(i){return i.endsWith(".cloudworkstations.dev")}async function Mp(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Sh(JSON.stringify(t)),Sh(JSON.stringify(h)),""].join(".")}const Xl={};function pI(){const i={prod:[],emulator:[]};for(const e of Object.keys(Xl))Xl[e]?i.emulator.push(e):i.prod.push(e);return i}function gI(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let EE=!1;function wo(i,e){if(typeof window>"u"||typeof document>"u"||!sa(window.location.host)||Xl[i]===e||Xl[i]||EE)return;Xl[i]=e;function t(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=pI().prod.length>0;function h(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,D){w.setAttribute("width","24"),w.setAttribute("id",D),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{EE=!0,h()},w}function E(w,D){w.setAttribute("id",D),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function b(){const w=gI(s),D=t("text"),N=document.getElementById(D)||document.createElement("span"),K=t("learnmore"),U=document.getElementById(K)||document.createElement("a"),Q=t("preprendIcon"),ie=document.getElementById(Q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const W=w.element;m(W),E(U,K);const le=g();p(ie,Q),W.append(ie,N,U,le),document.body.appendChild(W)}u?(N.innerText="Preview backend disconnected.",ie.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ie.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function _I(){var i;const e=(i=Qh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function kp(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function EI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TI(){const i=Jt();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function AI(){return!_I()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Pp(){try{return typeof indexedDB=="object"}catch{return!1}}function Vp(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}function L0(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI="FirebaseError";class qn extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=bI,Object.setPrototypeOf(this,qn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,aa.prototype.create)}}class aa{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?wI(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new qn(o,m,s)}}function wI(i,e){return i.replace(SI,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const SI=/\{\$([^}]+)}/g;function RI(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Xr(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(TE(u)&&TE(h)){if(!Xr(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function TE(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vu(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Gl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Kl(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function II(i,e){const t=new CI(i,e);return t.subscribe.bind(t)}class CI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");DI(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=xm),o.error===void 0&&(o.error=xm),o.complete===void 0&&(o.complete=xm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function DI(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function xm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI=1e3,NI=2,xI=4*60*60*1e3,MI=.5;function AE(i,e=OI,t=NI){const s=e*Math.pow(t,i),o=Math.round(MI*s*(Math.random()-.5)*2);return Math.min(xI,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rt(i){return i&&i._delegate?i._delegate:i}class zn{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new mI;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(VI(e))try{this.getOrInitializeService({instanceIdentifier:$s})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=$s){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$s){return this.instances.has(e)}getOptions(e=$s){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:PI(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=$s){return this.component?this.component.multipleInstances?e:$s:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function PI(i){return i===$s?void 0:i}function VI(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new kI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Me||(Me={}));const UI={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},jI=Me.INFO,BI={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},zI=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=BI[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Yh{constructor(e){this.name=e,this._logLevel=jI,this._logHandler=zI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?UI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const qI=(i,e)=>e.some(t=>i instanceof t);let bE,wE;function HI(){return bE||(bE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FI(){return wE||(wE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const U0=new WeakMap,Xm=new WeakMap,j0=new WeakMap,Mm=new WeakMap,Lp=new WeakMap;function GI(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{t(Fr(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&U0.set(t,i)}).catch(()=>{}),Lp.set(e,i),e}function KI(i){if(Xm.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{t(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});Xm.set(i,e)}let Wm={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return Xm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||j0.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Fr(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function $I(i){Wm=i(Wm)}function QI(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(km(this),e,...t);return j0.set(s,e.sort?e.sort():[e]),Fr(s)}:FI().includes(i)?function(...e){return i.apply(km(this),e),Fr(U0.get(this))}:function(...e){return Fr(i.apply(km(this),e))}}function YI(i){return typeof i=="function"?QI(i):(i instanceof IDBTransaction&&KI(i),qI(i,HI())?new Proxy(i,Wm):i)}function Fr(i){if(i instanceof IDBRequest)return GI(i);if(Mm.has(i))return Mm.get(i);const e=YI(i);return e!==i&&(Mm.set(i,e),Lp.set(e,i)),e}const km=i=>Lp.get(i);function B0(i,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),m=Fr(h);return s&&h.addEventListener("upgradeneeded",p=>{s(Fr(h.result),p.oldVersion,p.newVersion,Fr(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const XI=["get","getKey","getAll","getAllKeys","count"],WI=["put","add","delete","clear"],Pm=new Map;function SE(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Pm.get(e))return Pm.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=WI.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||XI.includes(t)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[t](...m),o&&p.done]))[0]};return Pm.set(e,u),u}$I(i=>({...i,get:(e,t,s)=>SE(e,t)||i.get(e,t,s),has:(e,t)=>!!SE(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(JI(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function JI(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zm="@firebase/app",RE="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr=new Yh("@firebase/app"),eC="@firebase/app-compat",tC="@firebase/analytics-compat",nC="@firebase/analytics",iC="@firebase/app-check-compat",rC="@firebase/app-check",sC="@firebase/auth",aC="@firebase/auth-compat",oC="@firebase/database",lC="@firebase/data-connect",uC="@firebase/database-compat",cC="@firebase/functions",hC="@firebase/functions-compat",fC="@firebase/installations",dC="@firebase/installations-compat",mC="@firebase/messaging",pC="@firebase/messaging-compat",gC="@firebase/performance",yC="@firebase/performance-compat",_C="@firebase/remote-config",vC="@firebase/remote-config-compat",EC="@firebase/storage",TC="@firebase/storage-compat",AC="@firebase/firestore",bC="@firebase/vertexai",wC="@firebase/firestore-compat",SC="firebase",RC="11.7.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm="[DEFAULT]",IC={[Zm]:"fire-core",[eC]:"fire-core-compat",[nC]:"fire-analytics",[tC]:"fire-analytics-compat",[rC]:"fire-app-check",[iC]:"fire-app-check-compat",[sC]:"fire-auth",[aC]:"fire-auth-compat",[oC]:"fire-rtdb",[lC]:"fire-data-connect",[uC]:"fire-rtdb-compat",[cC]:"fire-fn",[hC]:"fire-fn-compat",[fC]:"fire-iid",[dC]:"fire-iid-compat",[mC]:"fire-fcm",[pC]:"fire-fcm-compat",[gC]:"fire-perf",[yC]:"fire-perf-compat",[_C]:"fire-rc",[vC]:"fire-rc-compat",[EC]:"fire-gcs",[TC]:"fire-gcs-compat",[AC]:"fire-fst",[wC]:"fire-fst-compat",[bC]:"fire-vertex","fire-js":"fire-js",[SC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh=new Map,CC=new Map,ep=new Map;function IE(i,e){try{i.container.addComponent(e)}catch(t){rr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function Zn(i){const e=i.name;if(ep.has(e))return rr.debug(`There were multiple attempts to register component ${e}.`),!1;ep.set(e,i);for(const t of Rh.values())IE(t,i);for(const t of CC.values())IE(t,i);return!0}function rs(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function jn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gr=new aa("app","Firebase",DC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new zn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa=RC;function z0(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Jm,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Gr.create("bad-app-name",{appName:String(o)});if(t||(t=k0()),!t)throw Gr.create("no-options");const u=Rh.get(o);if(u){if(Xr(t,u.options)&&Xr(s,u.config))return u;throw Gr.create("duplicate-app",{appName:o})}const h=new LI(o);for(const p of ep.values())h.addComponent(p);const m=new OC(t,s,h);return Rh.set(o,m),m}function Xh(i=Jm){const e=Rh.get(i);if(!e&&i===Jm&&k0())return z0();if(!e)throw Gr.create("no-app",{appName:i});return e}function hn(i,e,t){var s;let o=(s=IC[i])!==null&&s!==void 0?s:i;t&&(o+=`-${t}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),rr.warn(m.join(" "));return}Zn(new zn(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC="firebase-heartbeat-database",xC=1,su="firebase-heartbeat-store";let Vm=null;function q0(){return Vm||(Vm=B0(NC,xC,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(su)}catch(t){console.warn(t)}}}}).catch(i=>{throw Gr.create("idb-open",{originalErrorMessage:i.message})})),Vm}async function MC(i){try{const t=(await q0()).transaction(su),s=await t.objectStore(su).get(H0(i));return await t.done,s}catch(e){if(e instanceof qn)rr.warn(e.message);else{const t=Gr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});rr.warn(t.message)}}}async function CE(i,e){try{const s=(await q0()).transaction(su,"readwrite");await s.objectStore(su).put(e,H0(i)),await s.done}catch(t){if(t instanceof qn)rr.warn(t.message);else{const s=Gr.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});rr.warn(s.message)}}}function H0(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC=1024,PC=30;class VC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new UC(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=DE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>PC){const h=jC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){rr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=DE(),{heartbeatsToSend:s,unsentEntries:o}=LC(this._heartbeatsCache.heartbeats),u=Sh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return rr.warn(t),""}}}function DE(){return new Date().toISOString().substring(0,10)}function LC(i,e=kC){const t=[];let s=i.slice();for(const o of i){const u=t.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),OE(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),OE(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class UC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Pp()?Vp().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await MC(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return CE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return CE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function OE(i){return Sh(JSON.stringify({version:2,heartbeats:i})).length}function jC(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BC(i){Zn(new zn("platform-logger",e=>new ZI(e),"PRIVATE")),Zn(new zn("heartbeat",e=>new VC(e),"PRIVATE")),hn(Zm,RE,i),hn(Zm,RE,"esm2017"),hn("fire-js","")}BC("");var zC="firebase",qC="11.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hn(zC,qC,"app");function Up(i,e){var t={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(t[s[o]]=i[s[o]]);return t}function F0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const HC=F0,G0=new aa("auth","Firebase",F0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih=new Yh("@firebase/auth");function FC(i,...e){Ih.logLevel<=Me.WARN&&Ih.warn(`Auth (${oa}): ${i}`,...e)}function dh(i,...e){Ih.logLevel<=Me.ERROR&&Ih.error(`Auth (${oa}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(i,...e){throw jp(i,...e)}function Ti(i,...e){return jp(i,...e)}function K0(i,e,t){const s=Object.assign(Object.assign({},HC()),{[e]:t});return new aa("auth","Firebase",s).create(e,{appName:i.name})}function Kr(i){return K0(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jp(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return G0.create(i,...e)}function ve(i,e,...t){if(!i)throw jp(e,...t)}function er(i){const e="INTERNAL ASSERTION FAILED: "+i;throw dh(e),new Error(e)}function sr(i,e){i||er(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function GC(){return NE()==="http:"||NE()==="https:"}function NE(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(GC()||kp()||"connection"in navigator)?navigator.onLine:!0}function $C(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,t){this.shortDelay=e,this.longDelay=t,sr(t>e,"Short delay should be less than long delay!"),this.isMobile=yI()||EI()}get(){return KC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bp(i,e){sr(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;er("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;er("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;er("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],XC=new Eu(3e4,6e4);function la(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function ss(i,e,t,s,o={}){return Q0(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=vu(Object.assign({key:i.config.apiKey},h)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:e,headers:p},u);return vI()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&sa(i.emulatorConfig.host)&&(g.credentials="include"),$0.fetch()(await Y0(i,i.config.apiHost,t,m),g)})}async function Q0(i,e,t){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},QC),e);try{const o=new ZC(i),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw th(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw th(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw th(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw th(i,"user-disabled",h);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw K0(i,E,g);Jn(i,E)}}catch(o){if(o instanceof qn)throw o;Jn(i,"network-request-failed",{message:String(o)})}}async function Wh(i,e,t,s,o={}){const u=await ss(i,e,t,s,o);return"mfaPendingCredential"in u&&Jn(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function Y0(i,e,t,s){const o=`${e}${t}?${s}`,u=i,h=u.config.emulator?Bp(i.config,o):`${i.config.apiScheme}://${o}`;return YC.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function WC(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ZC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Ti(this.auth,"network-request-failed")),XC.get())})}}function th(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=Ti(i,e,s);return o.customData._tokenResponse=t,o}function xE(i){return i!==void 0&&i.enterprise!==void 0}class JC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return WC(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function e2(i,e){return ss(i,"GET","/v2/recaptchaConfig",la(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t2(i,e){return ss(i,"POST","/v1/accounts:delete",e)}async function Ch(i,e){return ss(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function n2(i,e=!1){const t=rt(i),s=await t.getIdToken(e),o=zp(s);ve(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Wl(Lm(o.auth_time)),issuedAtTime:Wl(Lm(o.iat)),expirationTime:Wl(Lm(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Lm(i){return Number(i)*1e3}function zp(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return dh("JWT malformed, contained fewer than 3 sections"),null;try{const o=N0(t);return o?JSON.parse(o):(dh("Failed to decode base64 JWT payload"),null)}catch(o){return dh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function ME(i){const e=zp(i);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function au(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof qn&&i2(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function i2({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wl(this.lastLoginAt),this.creationTime=Wl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dh(i){var e;const t=i.auth,s=await i.getIdToken(),o=await au(i,Ch(t,{idToken:s}));ve(o==null?void 0:o.users.length,t,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?X0(u.providerUserInfo):[],m=a2(i.providerData,h),p=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?g:!1,b={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new np(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(i,b)}async function s2(i){const e=rt(i);await Dh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function a2(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function X0(i){return i.map(e=>{var{providerId:t}=e,s=Up(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o2(i,e){const t=await Q0(i,{},async()=>{const s=vu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=await Y0(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",$0.fetch()(h,{method:"POST",headers:m,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function l2(i,e){return ss(i,"POST","/v2/accounts:revokeToken",la(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ME(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const t=ME(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await o2(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,h=new lo;return s&&(ve(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(ve(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(ve(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new lo,this.toJSON())}_performRefresh(){return er("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(i,e){ve(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Xn{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,u=Up(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new r2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new np(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await au(this,this.stsTokenManager.getToken(this.auth,e));return ve(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return n2(this,e)}reload(){return s2(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Xn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Dh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(jn(this.auth.app))return Promise.reject(Kr(this.auth));const e=await this.getIdToken();return await au(this,t2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,u,h,m,p,g,E;const b=(s=t.displayName)!==null&&s!==void 0?s:void 0,w=(o=t.email)!==null&&o!==void 0?o:void 0,D=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,N=(h=t.photoURL)!==null&&h!==void 0?h:void 0,K=(m=t.tenantId)!==null&&m!==void 0?m:void 0,U=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,Q=(g=t.createdAt)!==null&&g!==void 0?g:void 0,ie=(E=t.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:W,emailVerified:le,isAnonymous:ce,providerData:Ae,stsTokenManager:P}=t;ve(W&&P,e,"internal-error");const R=lo.fromJSON(this.name,P);ve(typeof W=="string",e,"internal-error"),Lr(b,e.name),Lr(w,e.name),ve(typeof le=="boolean",e,"internal-error"),ve(typeof ce=="boolean",e,"internal-error"),Lr(D,e.name),Lr(N,e.name),Lr(K,e.name),Lr(U,e.name),Lr(Q,e.name),Lr(ie,e.name);const I=new Xn({uid:W,auth:e,email:w,emailVerified:le,displayName:b,isAnonymous:ce,photoURL:N,phoneNumber:D,tenantId:K,stsTokenManager:R,createdAt:Q,lastLoginAt:ie});return Ae&&Array.isArray(Ae)&&(I.providerData=Ae.map(M=>Object.assign({},M))),U&&(I._redirectEventId=U),I}static async _fromIdTokenResponse(e,t,s=!1){const o=new lo;o.updateFromServerResponse(t);const u=new Xn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Dh(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?X0(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new lo;m.updateFromIdToken(s);const p=new Xn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new np(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE=new Map;function tr(i){sr(i instanceof Function,"Expected a class definition");let e=kE.get(i);return e?(sr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,kE.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}W0.type="NONE";const PE=W0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mh(i,e,t){return`firebase:${i}:${e}:${t}`}class uo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=mh(this.userKey,o.apiKey,u),this.fullPersistenceKey=mh("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Ch(this.auth,{idToken:e}).catch(()=>{});return t?Xn._fromGetAccountInfoResponse(this.auth,t,e):null}return Xn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new uo(tr(PE),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||tr(PE);const h=mh(s,e.config.apiKey,e.name);let m=null;for(const g of t)try{const E=await g._get(h);if(E){let b;if(typeof E=="string"){const w=await Ch(e,{idToken:E}).catch(()=>{});if(!w)break;b=await Xn._fromGetAccountInfoResponse(e,w,E)}else b=Xn._fromJSON(e,E);g!==u&&(m=b),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new uo(u,e,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(t.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new uo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Z0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(iA(e))return"Blackberry";if(rA(e))return"Webos";if(J0(e))return"Safari";if((e.includes("chrome/")||eA(e))&&!e.includes("edge/"))return"Chrome";if(nA(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function Z0(i=Jt()){return/firefox\//i.test(i)}function J0(i=Jt()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function eA(i=Jt()){return/crios\//i.test(i)}function tA(i=Jt()){return/iemobile/i.test(i)}function nA(i=Jt()){return/android/i.test(i)}function iA(i=Jt()){return/blackberry/i.test(i)}function rA(i=Jt()){return/webos/i.test(i)}function qp(i=Jt()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function u2(i=Jt()){var e;return qp(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function c2(){return TI()&&document.documentMode===10}function sA(i=Jt()){return qp(i)||nA(i)||rA(i)||iA(i)||/windows phone/i.test(i)||tA(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aA(i,e=[]){let t;switch(i){case"Browser":t=VE(Jt());break;case"Worker":t=`${VE(Jt())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${oa}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f2(i,e={}){return ss(i,"GET","/v2/passwordPolicy",la(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2=6;class m2{constructor(e){var t,s,o,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:d2,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,u,h,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new LE(this),this.idTokenSubscription=new LE(this),this.beforeStateQueue=new h2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=G0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=tr(t)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await uo.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Ch(this,{idToken:e}),s=await Xn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(jn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Dh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$C()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(jn(this.app))return Promise.reject(Kr(this));const t=e?rt(e):null;return t&&ve(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return jn(this.app)?Promise.reject(Kr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return jn(this.app)?Promise.reject(Kr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(tr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await f2(this),t=new m2(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new aa("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await l2(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&tr(e)||this._popupRedirectResolver;ve(t,this,"argument-error"),this.redirectPersistenceManager=await uo.create(this,[tr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&FC(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function So(i){return rt(i)}class LE{constructor(e){this.auth=e,this.observer=null,this.addObserver=II(t=>this.observer=t)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function g2(i){Zh=i}function oA(i){return Zh.loadJS(i)}function y2(){return Zh.recaptchaEnterpriseScript}function _2(){return Zh.gapiScript}function v2(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class E2{constructor(){this.enterprise=new T2}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class T2{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const A2="recaptcha-enterprise",lA="NO_RECAPTCHA";class b2{constructor(e){this.type=A2,this.auth=So(e)}async verify(e="verify",t=!1){async function s(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{e2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new JC(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,h,m){const p=window.grecaptcha;xE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(lA)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new E2().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!t&&xE(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=y2();p.length!==0&&(p+=m),oA(p).then(()=>{o(m,u,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function UE(i,e,t,s=!1,o=!1){const u=new b2(i);let h;if(o)h=lA;else try{h=await u.verify(t)}catch{h=await u.verify(t,!0)}const m=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function jE(i,e,t,s,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await UE(i,e,t,t==="getOobCode");return s(i,h)}else return s(i,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await UE(i,e,t,t==="getOobCode");return s(i,m)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(i,e){const t=rs(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(Xr(u,e??{}))return o;Jn(o,"already-initialized")}return t.initialize({options:e})}function S2(i,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(tr);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function R2(i,e,t){const s=So(i);ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=uA(e),{host:h,port:m}=I2(e),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},E=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ve(Xr(g,s.config.emulator)&&Xr(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,sa(h)?(wo("Auth",!0),Mp(`${u}//${h}${p}`)):C2()}function uA(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function I2(i){const e=uA(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:BE(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:BE(h)}}}function BE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function C2(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return er("not implemented")}_getIdTokenResponse(e){return er("not implemented")}_linkToIdToken(e,t){return er("not implemented")}_getReauthenticationResolver(e){return er("not implemented")}}async function D2(i,e){return ss(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O2(i,e){return Wh(i,"POST","/v1/accounts:signInWithPassword",la(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N2(i,e){return Wh(i,"POST","/v1/accounts:signInWithEmailLink",la(i,e))}async function x2(i,e){return Wh(i,"POST","/v1/accounts:signInWithEmailLink",la(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou extends Hp{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new ou(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new ou(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jE(e,t,"signInWithPassword",O2);case"emailLink":return N2(e,{email:this._email,oobCode:this._password});default:Jn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jE(e,s,"signUpPassword",D2);case"emailLink":return x2(e,{idToken:t,email:this._email,oobCode:this._password});default:Jn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function co(i,e){return Wh(i,"POST","/v1/accounts:signInWithIdp",la(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2="http://localhost";class Ws extends Hp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ws(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Jn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,u=Up(t,["providerId","signInMethod"]);if(!s||!o)return null;const h=new Ws(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return co(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,co(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,co(e,t)}buildRequest(){const e={requestUri:M2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=vu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function P2(i){const e=Gl(Kl(i)).link,t=e?Gl(Kl(e)).deep_link_id:null,s=Gl(Kl(i)).deep_link_id;return(s?Gl(Kl(s)).link:null)||s||t||e||i}class Fp{constructor(e){var t,s,o,u,h,m;const p=Gl(Kl(e)),g=(t=p.apiKey)!==null&&t!==void 0?t:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,b=k2((o=p.mode)!==null&&o!==void 0?o:null);ve(g&&E&&b,"argument-error"),this.apiKey=g,this.operation=b,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(h=p.lang)!==null&&h!==void 0?h:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const t=P2(e);try{return new Fp(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(){this.providerId=Ro.PROVIDER_ID}static credential(e,t){return ou._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Fp.parseLink(t);return ve(s,"argument-error"),ou._fromEmailAndCode(e,s.code,s.tenantId)}}Ro.PROVIDER_ID="password";Ro.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ro.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu extends cA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends Tu{constructor(){super("facebook.com")}static credential(e){return Ws._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ur.credential(e.oauthAccessToken)}catch{return null}}}Ur.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ur.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends Tu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ws._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return jr.credential(t,s)}catch{return null}}}jr.GOOGLE_SIGN_IN_METHOD="google.com";jr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends Tu{constructor(){super("github.com")}static credential(e){return Ws._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Br.credential(e.oauthAccessToken)}catch{return null}}}Br.GITHUB_SIGN_IN_METHOD="github.com";Br.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends Tu{constructor(){super("twitter.com")}static credential(e,t){return Ws._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return zr.credential(t,s)}catch{return null}}}zr.TWITTER_SIGN_IN_METHOD="twitter.com";zr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await Xn._fromIdTokenResponse(e,s,o),h=zE(s);return new mo({user:u,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=zE(s);return new mo({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function zE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh extends qn{constructor(e,t,s,o){var u;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Oh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Oh(e,t,s,o)}}function hA(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Oh._fromErrorAndOperation(i,u,e,s):u})}async function V2(i,e,t=!1){const s=await au(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return mo._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L2(i,e,t=!1){const{auth:s}=i;if(jn(s.app))return Promise.reject(Kr(s));const o="reauthenticate";try{const u=await au(i,hA(s,o,e,i),t);ve(u.idToken,s,"internal-error");const h=zp(u.idToken);ve(h,s,"internal-error");const{sub:m}=h;return ve(i.uid===m,s,"user-mismatch"),mo._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Jn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fA(i,e,t=!1){if(jn(i.app))return Promise.reject(Kr(i));const s="signIn",o=await hA(i,s,e),u=await mo._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(u.user),u}async function U2(i,e){return fA(So(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j2(i){const e=So(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function B2(i,e,t){return jn(i.app)?Promise.reject(Kr(i)):U2(rt(i),Ro.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&j2(i),s})}function z2(i,e,t,s){return rt(i).onIdTokenChanged(e,t,s)}function q2(i,e,t){return rt(i).beforeAuthStateChanged(e,t)}function H2(i,e,t,s){return rt(i).onAuthStateChanged(e,t,s)}const Nh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Nh,"1"),this.storage.removeItem(Nh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2=1e3,G2=10;class mA extends dA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=sA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);c2()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,G2):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},F2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}mA.type="LOCAL";const K2=mA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA extends dA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}pA.type="SESSION";const gA=pA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Jh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(t.origin,u)),p=await $2(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=Gp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(b){const w=b;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(){return window}function Y2(i){Ai().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(){return typeof Ai().WorkerGlobalScope<"u"&&typeof Ai().importScripts=="function"}async function X2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function W2(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function Z2(){return yA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A="firebaseLocalStorageDb",J2=1,xh="firebaseLocalStorage",vA="fbase_key";class Au{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ef(i,e){return i.transaction([xh],e?"readwrite":"readonly").objectStore(xh)}function eD(){const i=indexedDB.deleteDatabase(_A);return new Au(i).toPromise()}function ip(){const i=indexedDB.open(_A,J2);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(xh,{keyPath:vA})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(xh)?e(s):(s.close(),await eD(),e(await ip()))})})}async function qE(i,e,t){const s=ef(i,!0).put({[vA]:e,value:t});return new Au(s).toPromise()}async function tD(i,e){const t=ef(i,!1).get(e),s=await new Au(t).toPromise();return s===void 0?null:s.value}function HE(i,e){const t=ef(i,!0).delete(e);return new Au(t).toPromise()}const nD=800,iD=3;class EA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ip(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>iD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jh._getInstance(Z2()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await X2(),!this.activeServiceWorker)return;this.sender=new Q2(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||W2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ip();return await qE(e,Nh,"1"),await HE(e,Nh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>qE(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>tD(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>HE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=ef(o,!1).getAll();return new Au(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}EA.type="LOCAL";const rD=EA;new Eu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(i,e){return e?tr(e):(ve(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp extends Hp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return co(e,this._buildIdpRequest())}_linkToIdToken(e,t){return co(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return co(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function aD(i){return fA(i.auth,new Kp(i),i.bypassAuthState)}function oD(i){const{auth:e,user:t}=i;return ve(t,e,"internal-error"),L2(t,new Kp(i),i.bypassAuthState)}async function lD(i){const{auth:e,user:t}=i;return ve(t,e,"internal-error"),V2(t,new Kp(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return aD;case"linkViaPopup":case"linkViaRedirect":return lD;case"reauthViaPopup":case"reauthViaRedirect":return oD;default:Jn(this.auth,"internal-error")}}resolve(e){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD=new Eu(2e3,1e4);class oo extends TA{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,oo.currentPopupAction&&oo.currentPopupAction.cancel(),oo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){sr(this.filter.length===1,"Popup operations only handle one event");const e=Gp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ti(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,oo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ti(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,uD.get())};e()}}oo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD="pendingRedirect",ph=new Map;class hD extends TA{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=ph.get(this.auth._key());if(!e){try{const s=await fD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}ph.set(this.auth._key(),e)}return this.bypassAuthState||ph.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fD(i,e){const t=pD(e),s=mD(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function dD(i,e){ph.set(i._key(),e)}function mD(i){return tr(i._redirectPersistence)}function pD(i){return mh(cD,i.config.apiKey,i.name)}async function gD(i,e,t=!1){if(jn(i.app))return Promise.reject(Kr(i));const s=So(i),o=sD(s,e),h=await new hD(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD=10*60*1e3;class _D{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!vD(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!AA(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(Ti(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=yD&&this.cachedEventUids.clear(),this.cachedEventUids.has(FE(e))}saveEventToCache(e){this.cachedEventUids.add(FE(e)),this.lastProcessedEventTime=Date.now()}}function FE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function AA({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function vD(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AA(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ED(i,e={}){return ss(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,AD=/^https?/;async function bD(i){if(i.config.emulator)return;const{authorizedDomains:e}=await ED(i);for(const t of e)try{if(wD(t))return}catch{}Jn(i,"unauthorized-domain")}function wD(i){const e=tp(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!AD.test(t))return!1;if(TD.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD=new Eu(3e4,6e4);function GE(){const i=Ai().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function RD(i){return new Promise((e,t)=>{var s,o,u;function h(){GE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{GE(),t(Ti(i,"network-request-failed"))},timeout:SD.get()})}if(!((o=(s=Ai().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Ai().gapi)===null||u===void 0)&&u.load)h();else{const m=v2("iframefcb");return Ai()[m]=()=>{gapi.load?h():t(Ti(i,"network-request-failed"))},oA(`${_2()}?onload=${m}`).catch(p=>t(p))}}).catch(e=>{throw gh=null,e})}let gh=null;function ID(i){return gh=gh||RD(i),gh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD=new Eu(5e3,15e3),DD="__/auth/iframe",OD="emulator/auth/iframe",ND={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function MD(i){const e=i.config;ve(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?Bp(e,OD):`https://${i.config.authDomain}/${DD}`,s={apiKey:e.apiKey,appName:i.name,v:oa},o=xD.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${vu(s).slice(1)}`}async function kD(i){const e=await ID(i),t=Ai().gapi;return ve(t,i,"internal-error"),e.open({where:document.body,url:MD(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ND,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=Ti(i,"network-request-failed"),m=Ai().setTimeout(()=>{u(h)},CD.get());function p(){Ai().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},VD=500,LD=600,UD="_blank",jD="http://localhost";class KE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function BD(i,e,t,s=VD,o=LD){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},PD),{width:s.toString(),height:o.toString(),top:u,left:h}),g=Jt().toLowerCase();t&&(m=eA(g)?UD:t),Z0(g)&&(e=e||jD,p.scrollbars="yes");const E=Object.entries(p).reduce((w,[D,N])=>`${w}${D}=${N},`,"");if(u2(g)&&m!=="_self")return zD(e||"",m),new KE(null);const b=window.open(e||"",m,E);ve(b,i,"popup-blocked");try{b.focus()}catch{}return new KE(b)}function zD(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD="__/auth/handler",HD="emulator/auth/handler",FD=encodeURIComponent("fac");async function $E(i,e,t,s,o,u){ve(i.config.authDomain,i,"auth-domain-config-required"),ve(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:oa,eventId:o};if(e instanceof cA){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",RI(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,b]of Object.entries({}))h[E]=b}if(e instanceof Tu){const E=e.getScopes().filter(b=>b!=="");E.length>0&&(h.scopes=E.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await i._getAppCheckToken(),g=p?`#${FD}=${encodeURIComponent(p)}`:"";return`${GD(i)}?${vu(m).slice(1)}${g}`}function GD({config:i}){return i.emulator?Bp(i,HD):`https://${i.authDomain}/${qD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um="webStorageSupport";class KD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gA,this._completeRedirectFn=gD,this._overrideRedirectResult=dD}async _openPopup(e,t,s,o){var u;sr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await $E(e,t,s,tp(),o);return BD(e,h,Gp())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await $E(e,t,s,tp(),o);return Y2(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(sr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await kD(e),s=new _D(e);return t.register("authEvent",o=>(ve(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Um,{type:Um},o=>{var u;const h=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Um];h!==void 0&&t(!!h),Jn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=bD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return sA()||J0()||qp()}}const $D=KD;var QE="@firebase/auth",YE="1.10.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YD(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function XD(i){Zn(new zn("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;ve(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aA(i)},g=new p2(s,o,u,p);return S2(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Zn(new zn("auth-internal",e=>{const t=So(e.getProvider("auth").getImmediate());return(s=>new QD(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),hn(QE,YE,YD(i)),hn(QE,YE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD=5*60,ZD=P0("authIdTokenMaxAge")||WD;let XE=null;const JD=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>ZD)return;const o=t==null?void 0:t.token;XE!==o&&(XE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function eO(i=Xh()){const e=rs(i,"auth");if(e.isInitialized())return e.getImmediate();const t=w2(i,{popupRedirectResolver:$D,persistence:[rD,K2,gA]}),s=P0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=JD(u.toString());q2(t,h,()=>h(t.currentUser)),z2(t,m=>h(m))}}const o=x0("auth");return o?R2(t,`http://${o}`):wo("Auth",!1),t}function tO(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}g2({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=Ti("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",tO().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});XD("Browser");var WE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $r,bA;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,R){function I(){}I.prototype=R.prototype,P.D=R.prototype,P.prototype=new I,P.prototype.constructor=P,P.C=function(M,V,j){for(var O=Array(arguments.length-2),Lt=2;Lt<arguments.length;Lt++)O[Lt-2]=arguments[Lt];return R.prototype[V].apply(M,O)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(P,R,I){I||(I=0);var M=Array(16);if(typeof R=="string")for(var V=0;16>V;++V)M[V]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(V=0;16>V;++V)M[V]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=P.g[0],I=P.g[1],V=P.g[2];var j=P.g[3],O=R+(j^I&(V^j))+M[0]+3614090360&4294967295;R=I+(O<<7&4294967295|O>>>25),O=j+(V^R&(I^V))+M[1]+3905402710&4294967295,j=R+(O<<12&4294967295|O>>>20),O=V+(I^j&(R^I))+M[2]+606105819&4294967295,V=j+(O<<17&4294967295|O>>>15),O=I+(R^V&(j^R))+M[3]+3250441966&4294967295,I=V+(O<<22&4294967295|O>>>10),O=R+(j^I&(V^j))+M[4]+4118548399&4294967295,R=I+(O<<7&4294967295|O>>>25),O=j+(V^R&(I^V))+M[5]+1200080426&4294967295,j=R+(O<<12&4294967295|O>>>20),O=V+(I^j&(R^I))+M[6]+2821735955&4294967295,V=j+(O<<17&4294967295|O>>>15),O=I+(R^V&(j^R))+M[7]+4249261313&4294967295,I=V+(O<<22&4294967295|O>>>10),O=R+(j^I&(V^j))+M[8]+1770035416&4294967295,R=I+(O<<7&4294967295|O>>>25),O=j+(V^R&(I^V))+M[9]+2336552879&4294967295,j=R+(O<<12&4294967295|O>>>20),O=V+(I^j&(R^I))+M[10]+4294925233&4294967295,V=j+(O<<17&4294967295|O>>>15),O=I+(R^V&(j^R))+M[11]+2304563134&4294967295,I=V+(O<<22&4294967295|O>>>10),O=R+(j^I&(V^j))+M[12]+1804603682&4294967295,R=I+(O<<7&4294967295|O>>>25),O=j+(V^R&(I^V))+M[13]+4254626195&4294967295,j=R+(O<<12&4294967295|O>>>20),O=V+(I^j&(R^I))+M[14]+2792965006&4294967295,V=j+(O<<17&4294967295|O>>>15),O=I+(R^V&(j^R))+M[15]+1236535329&4294967295,I=V+(O<<22&4294967295|O>>>10),O=R+(V^j&(I^V))+M[1]+4129170786&4294967295,R=I+(O<<5&4294967295|O>>>27),O=j+(I^V&(R^I))+M[6]+3225465664&4294967295,j=R+(O<<9&4294967295|O>>>23),O=V+(R^I&(j^R))+M[11]+643717713&4294967295,V=j+(O<<14&4294967295|O>>>18),O=I+(j^R&(V^j))+M[0]+3921069994&4294967295,I=V+(O<<20&4294967295|O>>>12),O=R+(V^j&(I^V))+M[5]+3593408605&4294967295,R=I+(O<<5&4294967295|O>>>27),O=j+(I^V&(R^I))+M[10]+38016083&4294967295,j=R+(O<<9&4294967295|O>>>23),O=V+(R^I&(j^R))+M[15]+3634488961&4294967295,V=j+(O<<14&4294967295|O>>>18),O=I+(j^R&(V^j))+M[4]+3889429448&4294967295,I=V+(O<<20&4294967295|O>>>12),O=R+(V^j&(I^V))+M[9]+568446438&4294967295,R=I+(O<<5&4294967295|O>>>27),O=j+(I^V&(R^I))+M[14]+3275163606&4294967295,j=R+(O<<9&4294967295|O>>>23),O=V+(R^I&(j^R))+M[3]+4107603335&4294967295,V=j+(O<<14&4294967295|O>>>18),O=I+(j^R&(V^j))+M[8]+1163531501&4294967295,I=V+(O<<20&4294967295|O>>>12),O=R+(V^j&(I^V))+M[13]+2850285829&4294967295,R=I+(O<<5&4294967295|O>>>27),O=j+(I^V&(R^I))+M[2]+4243563512&4294967295,j=R+(O<<9&4294967295|O>>>23),O=V+(R^I&(j^R))+M[7]+1735328473&4294967295,V=j+(O<<14&4294967295|O>>>18),O=I+(j^R&(V^j))+M[12]+2368359562&4294967295,I=V+(O<<20&4294967295|O>>>12),O=R+(I^V^j)+M[5]+4294588738&4294967295,R=I+(O<<4&4294967295|O>>>28),O=j+(R^I^V)+M[8]+2272392833&4294967295,j=R+(O<<11&4294967295|O>>>21),O=V+(j^R^I)+M[11]+1839030562&4294967295,V=j+(O<<16&4294967295|O>>>16),O=I+(V^j^R)+M[14]+4259657740&4294967295,I=V+(O<<23&4294967295|O>>>9),O=R+(I^V^j)+M[1]+2763975236&4294967295,R=I+(O<<4&4294967295|O>>>28),O=j+(R^I^V)+M[4]+1272893353&4294967295,j=R+(O<<11&4294967295|O>>>21),O=V+(j^R^I)+M[7]+4139469664&4294967295,V=j+(O<<16&4294967295|O>>>16),O=I+(V^j^R)+M[10]+3200236656&4294967295,I=V+(O<<23&4294967295|O>>>9),O=R+(I^V^j)+M[13]+681279174&4294967295,R=I+(O<<4&4294967295|O>>>28),O=j+(R^I^V)+M[0]+3936430074&4294967295,j=R+(O<<11&4294967295|O>>>21),O=V+(j^R^I)+M[3]+3572445317&4294967295,V=j+(O<<16&4294967295|O>>>16),O=I+(V^j^R)+M[6]+76029189&4294967295,I=V+(O<<23&4294967295|O>>>9),O=R+(I^V^j)+M[9]+3654602809&4294967295,R=I+(O<<4&4294967295|O>>>28),O=j+(R^I^V)+M[12]+3873151461&4294967295,j=R+(O<<11&4294967295|O>>>21),O=V+(j^R^I)+M[15]+530742520&4294967295,V=j+(O<<16&4294967295|O>>>16),O=I+(V^j^R)+M[2]+3299628645&4294967295,I=V+(O<<23&4294967295|O>>>9),O=R+(V^(I|~j))+M[0]+4096336452&4294967295,R=I+(O<<6&4294967295|O>>>26),O=j+(I^(R|~V))+M[7]+1126891415&4294967295,j=R+(O<<10&4294967295|O>>>22),O=V+(R^(j|~I))+M[14]+2878612391&4294967295,V=j+(O<<15&4294967295|O>>>17),O=I+(j^(V|~R))+M[5]+4237533241&4294967295,I=V+(O<<21&4294967295|O>>>11),O=R+(V^(I|~j))+M[12]+1700485571&4294967295,R=I+(O<<6&4294967295|O>>>26),O=j+(I^(R|~V))+M[3]+2399980690&4294967295,j=R+(O<<10&4294967295|O>>>22),O=V+(R^(j|~I))+M[10]+4293915773&4294967295,V=j+(O<<15&4294967295|O>>>17),O=I+(j^(V|~R))+M[1]+2240044497&4294967295,I=V+(O<<21&4294967295|O>>>11),O=R+(V^(I|~j))+M[8]+1873313359&4294967295,R=I+(O<<6&4294967295|O>>>26),O=j+(I^(R|~V))+M[15]+4264355552&4294967295,j=R+(O<<10&4294967295|O>>>22),O=V+(R^(j|~I))+M[6]+2734768916&4294967295,V=j+(O<<15&4294967295|O>>>17),O=I+(j^(V|~R))+M[13]+1309151649&4294967295,I=V+(O<<21&4294967295|O>>>11),O=R+(V^(I|~j))+M[4]+4149444226&4294967295,R=I+(O<<6&4294967295|O>>>26),O=j+(I^(R|~V))+M[11]+3174756917&4294967295,j=R+(O<<10&4294967295|O>>>22),O=V+(R^(j|~I))+M[2]+718787259&4294967295,V=j+(O<<15&4294967295|O>>>17),O=I+(j^(V|~R))+M[9]+3951481745&4294967295,P.g[0]=P.g[0]+R&4294967295,P.g[1]=P.g[1]+(V+(O<<21&4294967295|O>>>11))&4294967295,P.g[2]=P.g[2]+V&4294967295,P.g[3]=P.g[3]+j&4294967295}s.prototype.u=function(P,R){R===void 0&&(R=P.length);for(var I=R-this.blockSize,M=this.B,V=this.h,j=0;j<R;){if(V==0)for(;j<=I;)o(this,P,j),j+=this.blockSize;if(typeof P=="string"){for(;j<R;)if(M[V++]=P.charCodeAt(j++),V==this.blockSize){o(this,M),V=0;break}}else for(;j<R;)if(M[V++]=P[j++],V==this.blockSize){o(this,M),V=0;break}}this.h=V,this.o+=R},s.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var R=1;R<P.length-8;++R)P[R]=0;var I=8*this.o;for(R=P.length-8;R<P.length;++R)P[R]=I&255,I/=256;for(this.u(P),P=Array(16),R=I=0;4>R;++R)for(var M=0;32>M;M+=8)P[I++]=this.g[R]>>>M&255;return P};function u(P,R){var I=m;return Object.prototype.hasOwnProperty.call(I,P)?I[P]:I[P]=R(P)}function h(P,R){this.h=R;for(var I=[],M=!0,V=P.length-1;0<=V;V--){var j=P[V]|0;M&&j==R||(I[V]=j,M=!1)}this.g=I}var m={};function p(P){return-128<=P&&128>P?u(P,function(R){return new h([R|0],0>R?-1:0)}):new h([P|0],0>P?-1:0)}function g(P){if(isNaN(P)||!isFinite(P))return b;if(0>P)return U(g(-P));for(var R=[],I=1,M=0;P>=I;M++)R[M]=P/I|0,I*=4294967296;return new h(R,0)}function E(P,R){if(P.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(P.charAt(0)=="-")return U(E(P.substring(1),R));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=g(Math.pow(R,8)),M=b,V=0;V<P.length;V+=8){var j=Math.min(8,P.length-V),O=parseInt(P.substring(V,V+j),R);8>j?(j=g(Math.pow(R,j)),M=M.j(j).add(g(O))):(M=M.j(I),M=M.add(g(O)))}return M}var b=p(0),w=p(1),D=p(16777216);i=h.prototype,i.m=function(){if(K(this))return-U(this).m();for(var P=0,R=1,I=0;I<this.g.length;I++){var M=this.i(I);P+=(0<=M?M:4294967296+M)*R,R*=4294967296}return P},i.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(N(this))return"0";if(K(this))return"-"+U(this).toString(P);for(var R=g(Math.pow(P,6)),I=this,M="";;){var V=le(I,R).g;I=Q(I,V.j(R));var j=((0<I.g.length?I.g[0]:I.h)>>>0).toString(P);if(I=V,N(I))return j+M;for(;6>j.length;)j="0"+j;M=j+M}},i.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function N(P){if(P.h!=0)return!1;for(var R=0;R<P.g.length;R++)if(P.g[R]!=0)return!1;return!0}function K(P){return P.h==-1}i.l=function(P){return P=Q(this,P),K(P)?-1:N(P)?0:1};function U(P){for(var R=P.g.length,I=[],M=0;M<R;M++)I[M]=~P.g[M];return new h(I,~P.h).add(w)}i.abs=function(){return K(this)?U(this):this},i.add=function(P){for(var R=Math.max(this.g.length,P.g.length),I=[],M=0,V=0;V<=R;V++){var j=M+(this.i(V)&65535)+(P.i(V)&65535),O=(j>>>16)+(this.i(V)>>>16)+(P.i(V)>>>16);M=O>>>16,j&=65535,O&=65535,I[V]=O<<16|j}return new h(I,I[I.length-1]&-2147483648?-1:0)};function Q(P,R){return P.add(U(R))}i.j=function(P){if(N(this)||N(P))return b;if(K(this))return K(P)?U(this).j(U(P)):U(U(this).j(P));if(K(P))return U(this.j(U(P)));if(0>this.l(D)&&0>P.l(D))return g(this.m()*P.m());for(var R=this.g.length+P.g.length,I=[],M=0;M<2*R;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(var V=0;V<P.g.length;V++){var j=this.i(M)>>>16,O=this.i(M)&65535,Lt=P.i(V)>>>16,ot=P.i(V)&65535;I[2*M+2*V]+=O*ot,ie(I,2*M+2*V),I[2*M+2*V+1]+=j*ot,ie(I,2*M+2*V+1),I[2*M+2*V+1]+=O*Lt,ie(I,2*M+2*V+1),I[2*M+2*V+2]+=j*Lt,ie(I,2*M+2*V+2)}for(M=0;M<R;M++)I[M]=I[2*M+1]<<16|I[2*M];for(M=R;M<2*R;M++)I[M]=0;return new h(I,0)};function ie(P,R){for(;(P[R]&65535)!=P[R];)P[R+1]+=P[R]>>>16,P[R]&=65535,R++}function W(P,R){this.g=P,this.h=R}function le(P,R){if(N(R))throw Error("division by zero");if(N(P))return new W(b,b);if(K(P))return R=le(U(P),R),new W(U(R.g),U(R.h));if(K(R))return R=le(P,U(R)),new W(U(R.g),R.h);if(30<P.g.length){if(K(P)||K(R))throw Error("slowDivide_ only works with positive integers.");for(var I=w,M=R;0>=M.l(P);)I=ce(I),M=ce(M);var V=Ae(I,1),j=Ae(M,1);for(M=Ae(M,2),I=Ae(I,2);!N(M);){var O=j.add(M);0>=O.l(P)&&(V=V.add(I),j=O),M=Ae(M,1),I=Ae(I,1)}return R=Q(P,V.j(R)),new W(V,R)}for(V=b;0<=P.l(R);){for(I=Math.max(1,Math.floor(P.m()/R.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),j=g(I),O=j.j(R);K(O)||0<O.l(P);)I-=M,j=g(I),O=j.j(R);N(j)&&(j=w),V=V.add(j),P=Q(P,O)}return new W(V,P)}i.A=function(P){return le(this,P).h},i.and=function(P){for(var R=Math.max(this.g.length,P.g.length),I=[],M=0;M<R;M++)I[M]=this.i(M)&P.i(M);return new h(I,this.h&P.h)},i.or=function(P){for(var R=Math.max(this.g.length,P.g.length),I=[],M=0;M<R;M++)I[M]=this.i(M)|P.i(M);return new h(I,this.h|P.h)},i.xor=function(P){for(var R=Math.max(this.g.length,P.g.length),I=[],M=0;M<R;M++)I[M]=this.i(M)^P.i(M);return new h(I,this.h^P.h)};function ce(P){for(var R=P.g.length+1,I=[],M=0;M<R;M++)I[M]=P.i(M)<<1|P.i(M-1)>>>31;return new h(I,P.h)}function Ae(P,R){var I=R>>5;R%=32;for(var M=P.g.length-I,V=[],j=0;j<M;j++)V[j]=0<R?P.i(j+I)>>>R|P.i(j+I+1)<<32-R:P.i(j+I);return new h(V,P.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,bA=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,$r=h}).apply(typeof WE<"u"?WE:typeof self<"u"?self:typeof window<"u"?window:{});var nh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wA,$l,SA,yh,rp,RA,IA,CA;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof nh=="object"&&nh];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=t(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var B=c[A];if(!(B in _))break e;_=_[B]}c=c[c.length-1],A=_[c],y=y(A),y!=A&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,A=!1,B={next:function(){if(!A&&_<c.length){var $=_++;return{value:y($,c[$]),done:!1}}return A=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,_){return c.call.apply(c.bind,arguments)}function b(c,y,_){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,A),c.apply(y,B)}}return function(){return c.apply(y,arguments)}}function w(c,y,_){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:b,w.apply(null,arguments)}function D(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function N(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(A,B,$){for(var se=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)se[Pe-2]=arguments[Pe];return y.prototype[B].apply(A,se)}}function K(c){const y=c.length;if(0<y){const _=Array(y);for(let A=0;A<y;A++)_[A]=c[A];return _}return[]}function U(c,y){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(p(A)){const B=c.length||0,$=A.length||0;c.length=B+$;for(let se=0;se<$;se++)c[B+se]=A[se]}else c.push(A)}}class Q{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function ie(c){return/^[\s\xa0]*$/.test(c)}function W(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function le(c){return le[" "](c),c}le[" "]=function(){};var ce=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function Ae(c,y,_){for(const A in c)y.call(_,c[A],A,c)}function P(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function R(c){const y={};for(const _ in c)y[_]=c[_];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(c,y){let _,A;for(let B=1;B<arguments.length;B++){A=arguments[B];for(_ in A)c[_]=A[_];for(let $=0;$<I.length;$++)_=I[$],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function V(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function j(c){m.setTimeout(()=>{throw c},0)}function O(){var c=Be;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Lt{constructor(){this.h=this.g=null}add(y,_){const A=ot.get();A.set(y,_),this.h?this.h.next=A:this.g=A,this.h=A}}var ot=new Q(()=>new Y,c=>c.reset());class Y{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,me=!1,Be=new Lt,x=()=>{const c=m.Promise.resolve(void 0);ae=()=>{c.then(ne)}};var ne=()=>{for(var c;c=O();){try{c.h.call(c.g)}catch(_){j(_)}var y=ot;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}me=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function De(c,y){if(re.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ce){e:{try{le(y.nodeName);var B=!0;break e}catch{}B=!1}B||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:be[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&De.aa.h.call(this)}}N(De,re);var be={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ot="closure_listenable_"+(1e6*Math.random()|0),Ze=0;function ni(c,y,_,A,B){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!A,this.ha=B,this.key=++Ze,this.da=this.fa=!1}function lr(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ii(c){this.src=c,this.g={},this.h=0}Ii.prototype.add=function(c,y,_,A,B){var $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);var se=cs(c,y,A,B);return-1<se?(y=c[se],_||(y.fa=!1)):(y=new ni(y,this.src,$,!!A,B),y.fa=_,c.push(y)),y};function us(c,y){var _=y.type;if(_ in c.g){var A=c.g[_],B=Array.prototype.indexOf.call(A,y,void 0),$;($=0<=B)&&Array.prototype.splice.call(A,B,1),$&&(lr(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function cs(c,y,_,A){for(var B=0;B<c.length;++B){var $=c[B];if(!$.da&&$.listener==y&&$.capture==!!_&&$.ha==A)return B}return-1}var hs="closure_lm_"+(1e6*Math.random()|0),xo={};function Ou(c,y,_,A,B){if(Array.isArray(y)){for(var $=0;$<y.length;$++)Ou(c,y[$],_,A,B);return null}return _=Nu(_),c&&c[Ot]?c.K(y,_,g(A)?!!A.capture:!1,B):Rn(c,y,_,!1,A,B)}function Rn(c,y,_,A,B,$){if(!y)throw Error("Invalid event type");var se=g(B)?!!B.capture:!!B,Pe=fa(c);if(Pe||(c[hs]=Pe=new Ii(c)),_=Pe.add(y,_,A,se,$),_.proxy)return _;if(A=wf(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)ge||(B=se),B===void 0&&(B=!1),c.addEventListener(y.toString(),A,B);else if(c.attachEvent)c.attachEvent(fs(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function wf(){function c(_){return y.call(c.src,c.listener,_)}const y=Sf;return c}function Mo(c,y,_,A,B){if(Array.isArray(y))for(var $=0;$<y.length;$++)Mo(c,y[$],_,A,B);else A=g(A)?!!A.capture:!!A,_=Nu(_),c&&c[Ot]?(c=c.i,y=String(y).toString(),y in c.g&&($=c.g[y],_=cs($,_,A,B),-1<_&&(lr($[_]),Array.prototype.splice.call($,_,1),$.length==0&&(delete c.g[y],c.h--)))):c&&(c=fa(c))&&(y=c.g[y.toString()],c=-1,y&&(c=cs(y,_,A,B)),(_=-1<c?y[c]:null)&&ha(_))}function ha(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Ot])us(y.i,c);else{var _=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(_,A,c.capture):y.detachEvent?y.detachEvent(fs(_),A):y.addListener&&y.removeListener&&y.removeListener(A),(_=fa(y))?(us(_,c),_.h==0&&(_.src=null,y[hs]=null)):lr(c)}}}function fs(c){return c in xo?xo[c]:xo[c]="on"+c}function Sf(c,y){if(c.da)c=!0;else{y=new De(y,this);var _=c.listener,A=c.ha||c.src;c.fa&&ha(c),c=_.call(A,y)}return c}function fa(c){return c=c[hs],c instanceof Ii?c:null}var ko="__closure_events_fn_"+(1e9*Math.random()>>>0);function Nu(c){return typeof c=="function"?c:(c[ko]||(c[ko]=function(y){return c.handleEvent(y)}),c[ko])}function lt(){oe.call(this),this.i=new Ii(this),this.M=this,this.F=null}N(lt,oe),lt.prototype[Ot]=!0,lt.prototype.removeEventListener=function(c,y,_,A){Mo(this,c,y,_,A)};function Fe(c,y){var _,A=c.F;if(A)for(_=[];A;A=A.F)_.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new re(y,c);else if(y instanceof re)y.target=y.target||c;else{var B=y;y=new re(A,c),M(y,B)}if(B=!0,_)for(var $=_.length-1;0<=$;$--){var se=y.g=_[$];B=dn(se,A,!0,y)&&B}if(se=y.g=c,B=dn(se,A,!0,y)&&B,B=dn(se,A,!1,y)&&B,_)for($=0;$<_.length;$++)se=y.g=_[$],B=dn(se,A,!1,y)&&B}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],A=0;A<_.length;A++)lr(_[A]);delete c.g[y],c.h--}}this.F=null},lt.prototype.K=function(c,y,_,A){return this.i.add(String(c),y,!1,_,A)},lt.prototype.L=function(c,y,_,A){return this.i.add(String(c),y,!0,_,A)};function dn(c,y,_,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var B=!0,$=0;$<y.length;++$){var se=y[$];if(se&&!se.da&&se.capture==_){var Pe=se.listener,wt=se.ha||se.src;se.fa&&us(c.i,se),B=Pe.call(wt,A)!==!1&&B}}return B&&!A.defaultPrevented}function $t(c,y,_){if(typeof c=="function")_&&(c=w(c,_));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function xu(c){c.g=$t(()=>{c.g=null,c.i&&(c.i=!1,xu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Rf extends oe{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:xu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ds(c){oe.call(this),this.h=c,this.g={}}N(ds,oe);var ms=[];function ps(c){Ae(c.g,function(y,_){this.g.hasOwnProperty(_)&&ha(y)},c),c.g={}}ds.prototype.N=function(){ds.aa.N.call(this),ps(this)},ds.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fn=m.JSON.stringify,da=m.JSON.parse,gs=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Po(){}Po.prototype.h=null;function Vo(c){return c.h||(c.h=c.i())}function Lo(){}var Ci={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Di(){re.call(this,"d")}N(Di,re);function Uo(){re.call(this,"c")}N(Uo,re);var ii={},jo=null;function ur(){return jo=jo||new lt}ii.La="serverreachability";function ma(c){re.call(this,ii.La,c)}N(ma,re);function cr(c){const y=ur();Fe(y,new ma(y))}ii.STAT_EVENT="statevent";function Mu(c,y){re.call(this,ii.STAT_EVENT,c),this.stat=y}N(Mu,re);function tt(c){const y=ur();Fe(y,new Mu(y,c))}ii.Ma="timingevent";function bt(c,y){re.call(this,ii.Ma,c),this.size=y}N(bt,re);function yt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function In(){this.g=!0}In.prototype.xa=function(){this.g=!1};function Bo(c,y,_,A,B,$){c.info(function(){if(c.g)if($)for(var se="",Pe=$.split("&"),wt=0;wt<Pe.length;wt++){var Ve=Pe[wt].split("=");if(1<Ve.length){var xt=Ve[0];Ve=Ve[1];var St=xt.split("_");se=2<=St.length&&St[1]=="type"?se+(xt+"="+Ve+"&"):se+(xt+"=redacted&")}}else se=null;else se=$;return"XMLHTTP REQ ("+A+") [attempt "+B+"]: "+y+`
`+_+`
`+se})}function If(c,y,_,A,B,$,se){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+B+"]: "+y+`
`+_+`
`+$+" "+se})}function hr(c,y,_,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ys(c,_)+(A?" "+A:"")})}function ku(c,y){c.info(function(){return"TIMEOUT: "+y})}In.prototype.info=function(){};function ys(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var A=_[c];if(!(2>A.length)){var B=A[1];if(Array.isArray(B)&&!(1>B.length)){var $=B[0];if($!="noop"&&$!="stop"&&$!="close")for(var se=1;se<B.length;se++)B[se]=""}}}}return Fn(_)}catch{return y}}var fr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Oi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ri;function si(){}N(si,Po),si.prototype.g=function(){return new XMLHttpRequest},si.prototype.i=function(){return{}},ri=new si;function en(c,y,_,A){this.j=c,this.i=y,this.l=_,this.R=A||1,this.U=new ds(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new dt}function dt(){this.i=null,this.g="",this.h=!1}var zo={},pa={};function Gn(c,y,_){c.L=1,c.v=As(mn(y)),c.m=_,c.P=!0,Ni(c,null)}function Ni(c,y){c.F=Date.now(),_s(c),c.A=mn(c.v);var _=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),$o(_.i,"t",A),c.C=0,_=c.j.J,c.h=new dt,c.g=Xu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new Rf(w(c.Y,c,c.g),c.O)),y=c.U,_=c.g,A=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(ms[0]=B.toString()),B=ms);for(var $=0;$<B.length;$++){var se=Ou(_,B[$],A||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),cr(),Bo(c.i,c.u,c.A,c.l,c.R,c.m)}en.prototype.ca=function(c){c=c.target;const y=this.M;y&&Nn(c)==3?y.j():this.Y(c)},en.prototype.Y=function(c){try{if(c==this.g)e:{const St=Nn(this.g);var y=this.g.Ba();const ji=this.g.Z();if(!(3>St)&&(St!=3||this.g&&(this.h.h||this.g.oa()||qu(this.g)))){this.J||St!=4||y==7||(y==8||0>=ji?cr(3):cr(2)),dr(this);var _=this.g.Z();this.X=_;t:if(Pu(this)){var A=qu(this.g);c="";var B=A.length,$=Nn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ut(this),ai(this);var se="";break t}this.h.i=new m.TextDecoder}for(y=0;y<B;y++)this.h.h=!0,c+=this.h.i.decode(A[y],{stream:!($&&y==B-1)});A.length=0,this.h.g+=c,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=_==200,If(this.i,this.u,this.A,this.l,this.R,St,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Pe,wt=this.g;if((Pe=wt.g?wt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ie(Pe)){var Ve=Pe;break t}}Ve=null}if(_=Ve)hr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vs(this,_);else{this.o=!1,this.s=3,tt(12),Ut(this),ai(this);break e}}if(this.P){_=!0;let jt;for(;!this.J&&this.C<se.length;)if(jt=Vu(this,se),jt==pa){St==4&&(this.s=4,tt(14),_=!1),hr(this.i,this.l,null,"[Incomplete Response]");break}else if(jt==zo){this.s=4,tt(15),hr(this.i,this.l,se,"[Invalid Chunk]"),_=!1;break}else hr(this.i,this.l,jt,null),vs(this,jt);if(Pu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||se.length!=0||this.h.h||(this.s=1,tt(16),_=!1),this.o=this.o&&_,!_)hr(this.i,this.l,se,"[Invalid Chunked Response]"),Ut(this),ai(this);else if(0<se.length&&!this.W){this.W=!0;var xt=this.j;xt.g==this&&xt.ba&&!xt.M&&(xt.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),Os(xt),xt.M=!0,tt(11))}}else hr(this.i,this.l,se,null),vs(this,se);St==4&&Ut(this),this.o&&!this.J&&(St==4?$u(this.j,this):(this.o=!1,_s(this)))}else xf(this.g),_==400&&0<se.indexOf("Unknown SID")?(this.s=3,tt(12)):(this.s=0,tt(13)),Ut(this),ai(this)}}}catch{}finally{}};function Pu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Vu(c,y){var _=c.C,A=y.indexOf(`
`,_);return A==-1?pa:(_=Number(y.substring(_,A)),isNaN(_)?zo:(A+=1,A+_>y.length?pa:(y=y.slice(A,A+_),c.C=A+_,y)))}en.prototype.cancel=function(){this.J=!0,Ut(this)};function _s(c){c.S=Date.now()+c.I,Lu(c,c.I)}function Lu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=yt(w(c.ba,c),y)}function dr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}en.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ku(this.i,this.A),this.L!=2&&(cr(),tt(17)),Ut(this),this.s=2,ai(this)):Lu(this,this.S-c)};function ai(c){c.j.G==0||c.J||$u(c.j,c)}function Ut(c){dr(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,ps(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function vs(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||qo(_.h,c))){if(!c.K&&qo(_.h,c)&&_.G==3){try{var A=_.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var B=A;if(B[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Ia(_),Sa(_);else break e;Zo(_),tt(18)}}else _.za=B[1],0<_.za-_.T&&37500>B[2]&&_.F&&_.v==0&&!_.C&&(_.C=yt(w(_.Za,_),6e3));if(1>=ya(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ui(_,11)}else if((c.K||_.g==c)&&Ia(_),!ie(y))for(B=_.Da.g.parse(y),y=0;y<B.length;y++){let Ve=B[y];if(_.T=Ve[0],Ve=Ve[1],_.G==2)if(Ve[0]=="c"){_.K=Ve[1],_.ia=Ve[2];const xt=Ve[3];xt!=null&&(_.la=xt,_.j.info("VER="+_.la));const St=Ve[4];St!=null&&(_.Aa=St,_.j.info("SVER="+_.Aa));const ji=Ve[5];ji!=null&&typeof ji=="number"&&0<ji&&(A=1.5*ji,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const jt=c.g;if(jt){const di=jt.g?jt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(di){var $=A.h;$.g||di.indexOf("spdy")==-1&&di.indexOf("quic")==-1&&di.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(_a($,$.h),$.h=null))}if(A.D){const el=jt.g?jt.g.getResponseHeader("X-HTTP-Session-Id"):null;el&&(A.ya=el,$e(A.I,A.D,el))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var se=c;if(A.qa=Yu(A,A.J?A.ia:null,A.W),se.K){tn(A.h,se);var Pe=se,wt=A.L;wt&&(Pe.I=wt),Pe.B&&(dr(Pe),_s(Pe)),A.g=se}else Gu(A);0<_.i.length&&Ra(_)}else Ve[0]!="stop"&&Ve[0]!="close"||Ui(_,7);else _.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?Ui(_,7):Xo(_):Ve[0]!="noop"&&_.l&&_.l.ta(Ve),_.v=0)}}cr(4)}catch{}}var Uu=class{constructor(c,y){this.g=c,this.map=y}};function xi(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ga(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ya(c){return c.h?1:c.g?c.g.size:0}function qo(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function _a(c,y){c.g?c.g.add(y):c.h=y}function tn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}xi.prototype.cancel=function(){if(this.i=Ho(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ho(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return K(c.i)}function Cf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,A=0;A<_;A++)y.push(c[A]);return y}y=[],_=0;for(A in c)y[_++]=c[A];return y}function va(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const A in c)y[_++]=A;return y}}}function Fo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=va(c),A=Cf(c),B=A.length,$=0;$<B;$++)y.call(void 0,A[$],_&&_[$],c)}var Es=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Df(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var A=c[_].indexOf("="),B=null;if(0<=A){var $=c[_].substring(0,A);B=c[_].substring(A+1)}else $=c[_];y($,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function _t(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof _t){this.h=c.h,Ts(this,c.j),this.o=c.o,this.g=c.g,mr(this,c.s),this.l=c.l;var y=c.i,_=new ki;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Mi(this,_),this.m=c.m}else c&&(y=String(c).match(Es))?(this.h=!1,Ts(this,y[1]||"",!0),this.o=Cn(y[2]||""),this.g=Cn(y[3]||"",!0),mr(this,y[4]),this.l=Cn(y[5]||"",!0),Mi(this,y[6]||"",!0),this.m=Cn(y[7]||"")):(this.h=!1,this.i=new ki(null,this.h))}_t.prototype.toString=function(){var c=[],y=this.j;y&&c.push(bs(y,Go,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(bs(y,Go,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(bs(_,_.charAt(0)=="/"?Of:Ko,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",bs(_,Ea)),c.join("")};function mn(c){return new _t(c)}function Ts(c,y,_){c.j=_?Cn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function mr(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Mi(c,y,_){y instanceof ki?(c.i=y,Bu(c.i,c.h)):(_||(y=bs(y,Nf)),c.i=new ki(y,c.h))}function $e(c,y,_){c.i.set(y,_)}function As(c){return $e(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Cn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function bs(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,ju),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ju(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Go=/[#\/\?@]/g,Ko=/[#\?:]/g,Of=/[#\?]/g,Nf=/[#\?@]/g,Ea=/#/g;function ki(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Dn(c){c.g||(c.g=new Map,c.h=0,c.i&&Df(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}i=ki.prototype,i.add=function(c,y){Dn(this),this.i=null,c=oi(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Pi(c,y){Dn(c),y=oi(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Vi(c,y){return Dn(c),y=oi(c,y),c.g.has(y)}i.forEach=function(c,y){Dn(this),this.g.forEach(function(_,A){_.forEach(function(B){c.call(y,B,A,this)},this)},this)},i.na=function(){Dn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let A=0;A<y.length;A++){const B=c[A];for(let $=0;$<B.length;$++)_.push(y[A])}return _},i.V=function(c){Dn(this);let y=[];if(typeof c=="string")Vi(this,c)&&(y=y.concat(this.g.get(oi(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},i.set=function(c,y){return Dn(this),this.i=null,c=oi(this,c),Vi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function $o(c,y,_){Pi(c,y),0<_.length&&(c.i=null,c.g.set(oi(c,y),K(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var A=y[_];const $=encodeURIComponent(String(A)),se=this.V(A);for(A=0;A<se.length;A++){var B=$;se[A]!==""&&(B+="="+encodeURIComponent(String(se[A]))),c.push(B)}}return this.i=c.join("&")};function oi(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Bu(c,y){y&&!c.j&&(Dn(c),c.i=null,c.g.forEach(function(_,A){var B=A.toLowerCase();A!=B&&(Pi(this,A),$o(this,B,_))},c)),c.j=y}function ws(c,y){const _=new In;if(m.Image){const A=new Image;A.onload=D(On,_,"TestLoadImage: loaded",!0,y,A),A.onerror=D(On,_,"TestLoadImage: error",!1,y,A),A.onabort=D(On,_,"TestLoadImage: abort",!1,y,A),A.ontimeout=D(On,_,"TestLoadImage: timeout",!1,y,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function Kn(c,y){const _=new In,A=new AbortController,B=setTimeout(()=>{A.abort(),On(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then($=>{clearTimeout(B),$.ok?On(_,"TestPingServer: ok",!0,y):On(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),On(_,"TestPingServer: error",!1,y)})}function On(c,y,_,A,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),A(_)}catch{}}function Ss(){this.g=new gs}function li(c,y,_){const A=_||"";try{Fo(c,function(B,$){let se=B;g(B)&&(se=Fn(B)),y.push(A+$+"="+encodeURIComponent(se))})}catch(B){throw y.push(A+"type="+encodeURIComponent("_badmap")),B}}function pr(c){this.l=c.Ub||null,this.j=c.eb||!1}N(pr,Po),pr.prototype.g=function(){return new Li(this.l,this.j)},pr.prototype.i=function(c){return function(){return c}}({});function Li(c,y){lt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(Li,lt),i=Li.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,ci(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ui(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ci(this)),this.g&&(this.readyState=3,ci(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Qo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Qo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ui(this):ci(this),this.readyState==3&&Qo(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,ui(this))},i.Qa=function(c){this.g&&(this.response=c,ui(this))},i.ga=function(){this.g&&ui(this)};function ui(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ci(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function ci(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Li.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Yo(c){let y="";return Ae(c,function(_,A){y+=A,y+=":",y+=_,y+=`\r
`}),y}function Nt(c,y,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=Yo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):$e(c,y,_))}function qe(c){lt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(qe,lt);var Ta=/^https?$/i,Rs=["POST","PUT"];i=qe.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ri.g(),this.v=this.o?Vo(this.o):Vo(ri),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch($){zu(this,$);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var B in A)_.set(B,A[B]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const $ of A.keys())_.set($,A.get($));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find($=>$.toLowerCase()=="content-type"),B=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Rs,y,void 0))||A||B||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,se]of _)this.g.setRequestHeader($,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Is(this),this.u=!0,this.g.send(c),this.u=!1}catch($){zu(this,$)}};function zu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Aa(c),hi(c)}function Aa(c){c.A||(c.A=!0,Fe(c,"complete"),Fe(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Fe(this,"complete"),Fe(this,"abort"),hi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hi(this,!0)),qe.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?ba(this):this.bb())},i.bb=function(){ba(this)};function ba(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Nn(c)!=4||c.Z()!=2)){if(c.u&&Nn(c)==4)$t(c.Ea,0,c);else if(Fe(c,"readystatechange"),Nn(c)==4){c.h=!1;try{const se=c.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var A;if(A=se===0){var B=String(c.D).match(Es)[1]||null;!B&&m.self&&m.self.location&&(B=m.self.location.protocol.slice(0,-1)),A=!Ta.test(B?B.toLowerCase():"")}_=A}if(_)Fe(c,"complete"),Fe(c,"success");else{c.m=6;try{var $=2<Nn(c)?c.g.statusText:""}catch{$=""}c.l=$+" ["+c.Z()+"]",Aa(c)}}finally{hi(c)}}}}function hi(c,y){if(c.g){Is(c);const _=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Fe(c,"ready");try{_.onreadystatechange=A}catch{}}}function Is(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Nn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Nn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),da(y)}};function qu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function xf(c){const y={};c=(c.g&&2<=Nn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(ie(c[A]))continue;var _=V(c[A]);const B=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const $=y[B]||[];y[B]=$,$.push(_)}P(y,function(A){return A.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Cs(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function wa(c){this.Aa=0,this.i=[],this.j=new In,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Cs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Cs("baseRetryDelayMs",5e3,c),this.cb=Cs("retryDelaySeedMs",1e4,c),this.Wa=Cs("forwardChannelMaxRetries",2,c),this.wa=Cs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new xi(c&&c.concurrentRequestLimit),this.Da=new Ss,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=wa.prototype,i.la=8,i.G=1,i.connect=function(c,y,_,A){tt(0),this.W=c,this.H=y||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=Yu(this,null,this.W),Ra(this)};function Xo(c){if(Hu(c),c.G==3){var y=c.U++,_=mn(c.I);if($e(_,"SID",c.K),$e(_,"RID",y),$e(_,"TYPE","terminate"),Ds(c,_),y=new en(c,c.j,y),y.L=2,y.v=As(mn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=Xu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),_s(y)}Qu(c)}function Sa(c){c.g&&(Os(c),c.g.cancel(),c.g=null)}function Hu(c){Sa(c),c.u&&(m.clearTimeout(c.u),c.u=null),Ia(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Ra(c){if(!ga(c.h)&&!c.s){c.s=!0;var y=c.Ga;ae||x(),me||(ae(),me=!0),Be.add(y,c),c.B=0}}function Mf(c,y){return ya(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=yt(w(c.Ga,c,y),Jo(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new en(this,this.j,c);let $=this.o;if(this.S&&($?($=R($),M($,this.S)):$=this.S),this.m!==null||this.O||(B.H=$,$=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Fu(this,B,y),_=mn(this.I),$e(_,"RID",c),$e(_,"CVER",22),this.D&&$e(_,"X-HTTP-Session-Id",this.D),Ds(this,_),$&&(this.O?y="headers="+encodeURIComponent(String(Yo($)))+"&"+y:this.m&&Nt(_,this.m,$)),_a(this.h,B),this.Ua&&$e(_,"TYPE","init"),this.P?($e(_,"$req",y),$e(_,"SID","null"),B.T=!0,Gn(B,_,null)):Gn(B,_,y),this.G=2}}else this.G==3&&(c?Wo(this,c):this.i.length==0||ga(this.h)||Wo(this))};function Wo(c,y){var _;y?_=y.l:_=c.U++;const A=mn(c.I);$e(A,"SID",c.K),$e(A,"RID",_),$e(A,"AID",c.T),Ds(c,A),c.m&&c.o&&Nt(A,c.m,c.o),_=new en(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Fu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),_a(c.h,_),Gn(_,A,y)}function Ds(c,y){c.H&&Ae(c.H,function(_,A){$e(y,A,_)}),c.l&&Fo({},function(_,A){$e(y,A,_)})}function Fu(c,y,_){_=Math.min(c.i.length,_);var A=c.l?w(c.l.Na,c.l,c):null;e:{var B=c.i;let $=-1;for(;;){const se=["count="+_];$==-1?0<_?($=B[0].g,se.push("ofs="+$)):$=0:se.push("ofs="+$);let Pe=!0;for(let wt=0;wt<_;wt++){let Ve=B[wt].g;const xt=B[wt].map;if(Ve-=$,0>Ve)$=Math.max(0,B[wt].g-100),Pe=!1;else try{li(xt,se,"req"+Ve+"_")}catch{A&&A(xt)}}if(Pe){A=se.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,A}function Gu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ae||x(),me||(ae(),me=!0),Be.add(y,c),c.v=0}}function Zo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=yt(w(c.Fa,c),Jo(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Ku(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=yt(w(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,tt(10),Sa(this),Ku(this))};function Os(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Ku(c){c.g=new en(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=mn(c.qa);$e(y,"RID","rpc"),$e(y,"SID",c.K),$e(y,"AID",c.T),$e(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&$e(y,"TO",c.ja),$e(y,"TYPE","xmlhttp"),Ds(c,y),c.m&&c.o&&Nt(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=As(mn(y)),_.m=null,_.P=!0,Ni(_,c)}i.Za=function(){this.C!=null&&(this.C=null,Sa(this),Zo(this),tt(19))};function Ia(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function $u(c,y){var _=null;if(c.g==y){Ia(c),Os(c),c.g=null;var A=2}else if(qo(c.h,y))_=y.D,tn(c.h,y),A=1;else return;if(c.G!=0){if(y.o)if(A==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var B=c.B;A=ur(),Fe(A,new bt(A,_)),Ra(c)}else Gu(c);else if(B=y.s,B==3||B==0&&0<y.X||!(A==1&&Mf(c,y)||A==2&&Zo(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),B){case 1:Ui(c,5);break;case 4:Ui(c,10);break;case 3:Ui(c,6);break;default:Ui(c,2)}}}function Jo(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Ui(c,y){if(c.j.info("Error code "+y),y==2){var _=w(c.fb,c),A=c.Xa;const B=!A;A=new _t(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Ts(A,"https"),As(A),B?ws(A.toString(),_):Kn(A.toString(),_)}else tt(2);c.G=0,c.l&&c.l.sa(y),Qu(c),Hu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),tt(2)):(this.j.info("Failed to ping google.com"),tt(1))};function Qu(c){if(c.G=0,c.ka=[],c.l){const y=Ho(c.h);(y.length!=0||c.i.length!=0)&&(U(c.ka,y),U(c.ka,c.i),c.h.i.length=0,K(c.i),c.i.length=0),c.l.ra()}}function Yu(c,y,_){var A=_ instanceof _t?mn(_):new _t(_);if(A.g!="")y&&(A.g=y+"."+A.g),mr(A,A.s);else{var B=m.location;A=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;var $=new _t(null);A&&Ts($,A),y&&($.g=y),B&&mr($,B),_&&($.l=_),A=$}return _=c.D,y=c.ya,_&&y&&$e(A,_,y),$e(A,"VER",c.la),Ds(c,A),A}function Xu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new qe(new pr({eb:_})):new qe(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Wu(){}i=Wu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Ca(){}Ca.prototype.g=function(c,y){return new nn(c,y)};function nn(c,y){lt.call(this),this.g=new wa(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!ie(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!ie(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new fi(this)}N(nn,lt),nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Xo(this.g)},nn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Fn(c),c=_);y.i.push(new Uu(y.Ya++,c)),y.G==3&&Ra(y)},nn.prototype.N=function(){this.g.l=null,delete this.j,Xo(this.g),delete this.g,nn.aa.N.call(this)};function Zu(c){Di.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}N(Zu,Di);function Ju(){Uo.call(this),this.status=1}N(Ju,Uo);function fi(c){this.g=c}N(fi,Wu),fi.prototype.ua=function(){Fe(this.g,"a")},fi.prototype.ta=function(c){Fe(this.g,new Zu(c))},fi.prototype.sa=function(c){Fe(this.g,new Ju)},fi.prototype.ra=function(){Fe(this.g,"b")},Ca.prototype.createWebChannel=Ca.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,CA=function(){return new Ca},IA=function(){return ur()},RA=ii,rp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},fr.NO_ERROR=0,fr.TIMEOUT=8,fr.HTTP_ERROR=6,yh=fr,Oi.COMPLETE="complete",SA=Oi,Lo.EventType=Ci,Ci.OPEN="a",Ci.CLOSE="b",Ci.ERROR="c",Ci.MESSAGE="d",lt.prototype.listen=lt.prototype.K,$l=Lo,qe.prototype.listenOnce=qe.prototype.L,qe.prototype.getLastError=qe.prototype.Ka,qe.prototype.getLastErrorCode=qe.prototype.Ba,qe.prototype.getStatus=qe.prototype.Z,qe.prototype.getResponseJson=qe.prototype.Oa,qe.prototype.getResponseText=qe.prototype.oa,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Ha,wA=qe}).apply(typeof nh<"u"?nh:typeof self<"u"?self:typeof window<"u"?window:{});const ZE="@firebase/firestore",JE="4.7.14";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Io="11.7.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs=new Yh("@firebase/firestore");function io(){return Zs.logLevel}function ue(i,...e){if(Zs.logLevel<=Me.DEBUG){const t=e.map($p);Zs.debug(`Firestore (${Io}): ${i}`,...t)}}function ar(i,...e){if(Zs.logLevel<=Me.ERROR){const t=e.map($p);Zs.error(`Firestore (${Io}): ${i}`,...t)}}function po(i,...e){if(Zs.logLevel<=Me.WARN){const t=e.map($p);Zs.warn(`Firestore (${Io}): ${i}`,...t)}}function $p(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(i,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,DA(i,s,t)}function DA(i,e,t){let s=`FIRESTORE (${Io}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw ar(s),new Error(s)}function He(i,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,i||DA(e,o,s)}function Se(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends qn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Wt.UNAUTHENTICATED))}shutdown(){}}class iO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class rO{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){He(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let u=new Qr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Qr,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Qr)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(He(typeof s.accessToken=="string",31837,{l:s}),new OA(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string",2055,{h:e}),new Wt(e)}}class sO{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class aO{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new sO(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class eT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oO{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,jn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){He(this.o===void 0,3512);const s=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new eT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(He(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new eT(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lO(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=lO(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function Ce(i,e){return i<e?-1:i>e?1:0}function sp(i,e){let t=0;for(;t<i.length&&t<e.length;){const s=i.codePointAt(t),o=e.codePointAt(t);if(s!==o){if(s<128&&o<128)return Ce(s,o);{const u=NA(),h=uO(u.encode(tT(i,t)),u.encode(tT(e,t)));return h!==0?h:Ce(s,o)}}t+=s>65535?2:1}return Ce(i.length,e.length)}function tT(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function uO(i,e){for(let t=0;t<i.length&&t<e.length;++t)if(i[t]!==e[t])return Ce(i[t],e[t]);return Ce(i.length,e.length)}function go(i,e,t){return i.length===e.length&&i.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT=-62135596800,iT=1e6;class Ct{static now(){return Ct.fromMillis(Date.now())}static fromDate(e){return Ct.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*iT);return new Ct(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<nT)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/iT}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-nT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new Ct(0,0))}static max(){return new we(new Ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="__name__";class vi{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ee(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Ee(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return vi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof vi?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=vi.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Ce(e.length,t.length)}static compareSegments(e,t){const s=vi.isNumericId(e),o=vi.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?vi.extractNumericId(e).compare(vi.extractNumericId(t)):sp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return $r.fromString(e.substring(4,e.length-2))}}class et extends vi{construct(e,t,s){return new et(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new et(t)}static emptyPath(){return new et([])}}const cO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gt extends vi{construct(e,t,s){return new Gt(e,t,s)}static isValidIdentifier(e){return cO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===rT}static keyField(){return new Gt([rT])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new he(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new he(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new he(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new he(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gt(t)}static emptyPath(){return new Gt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(et.fromString(e))}static fromName(e){return new pe(et.fromString(e).popFirst(5))}static empty(){return new pe(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return et.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new et(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lu=-1;function hO(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=we.fromTimestamp(s===1e9?new Ct(t+1,0):new Ct(t,s));return new Wr(o,pe.empty(),e)}function fO(i){return new Wr(i.readTime,i.key,lu)}class Wr{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Wr(we.min(),pe.empty(),lu)}static max(){return new Wr(we.max(),pe.empty(),lu)}}function dO(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=pe.comparator(i.documentKey,e.documentKey),t!==0?t:Ce(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Co(i){if(i.code!==ee.FAILED_PRECONDITION||i.message!==mO)throw i;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new te((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof te?t:te.resolve(t)}catch(t){return te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):te.reject(t)}static resolve(e){return new te((t,s)=>{t(e)})}static reject(e){return new te((t,s)=>{s(e)})}static waitFor(e){return new te((t,s)=>{let o=0,u=0,h=!1;e.forEach(m=>{++o,m.next(()=>{++u,h&&u===o&&t()},p=>s(p))}),h=!0,u===o&&t()})}static or(e){let t=te.resolve(!1);for(const s of e)t=t.next(o=>o?te.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,u)=>{s.push(t.call(this,o,u))}),this.waitFor(s)}static mapArray(e,t){return new te((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;t(e[g]).next(E=>{h[g]=E,++m,m===u&&s(h)},E=>o(E))}})}static doWhile(e,t){return new te((s,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):s()};u()})}}function gO(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Do(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>t.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}tf.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp=-1;function nf(i){return i==null}function Mh(i){return i===0&&1/i==-1/0}function yO(i){return typeof i=="number"&&Number.isInteger(i)&&!Mh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA="";function _O(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=sT(e)),e=vO(i.get(t),e);return sT(e)}function vO(i,e){let t=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":t+="";break;case MA:t+="";break;default:t+=u}}return t}function sT(i){return i+MA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function as(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function kA(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,t){this.comparator=e,this.root=t||Ht.EMPTY}insert(e,t){return new at(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ht.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ht.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ih(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ih(this.root,e,this.comparator,!1)}getReverseIterator(){return new ih(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ih(this.root,e,this.comparator,!0)}}class ih{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ht{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??Ht.RED,this.left=o??Ht.EMPTY,this.right=u??Ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new Ht(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Ht.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Ht.EMPTY=null,Ht.RED=!0,Ht.BLACK=!1;Ht.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,t,s,o,u){return this}insert(e,t,s){return new Ht(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new oT(this.data.getIterator())}getIteratorFrom(e){return new oT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Dt(this.comparator);return t.data=e,t}}class oT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.fields=e,e.sort(Gt.comparator)}static empty(){return new An([])}unionWith(e){let t=new Dt(Gt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new An(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return go(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new PA("Invalid base64 string: "+u):u}}(e);return new Kt(t)}static fromUint8Array(e){const t=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new Kt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const EO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zr(i){if(He(!!i,39018),typeof i=="string"){let e=0;const t=EO.exec(i);if(He(!!t,46558,{timestamp:i}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:gt(i.seconds),nanos:gt(i.nanos)}}function gt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Jr(i){return typeof i=="string"?Kt.fromBase64String(i):Kt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA="server_timestamp",LA="__type__",UA="__previous_value__",jA="__local_write_time__";function Yp(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[LA])===null||t===void 0?void 0:t.stringValue)===VA}function rf(i){const e=i.mapValue.fields[UA];return Yp(e)?rf(e):e}function uu(i){const e=Zr(i.mapValue.fields[jA].timestampValue);return new Ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(e,t,s,o,u,h,m,p,g,E){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const kh="(default)";class cu{constructor(e,t){this.projectId=e,this.database=t||kh}static empty(){return new cu("","")}get isDefaultDatabase(){return this.database===kh}isEqual(e){return e instanceof cu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA="__type__",AO="__max__",rh={mapValue:{}},zA="__vector__",Ph="value";function es(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Yp(i)?4:wO(i)?9007199254740991:bO(i)?10:11:Ee(28295,{value:i})}function Si(i,e){if(i===e)return!0;const t=es(i);if(t!==es(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return uu(i).isEqual(uu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Zr(o.timestampValue),m=Zr(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return Jr(o.bytesValue).isEqual(Jr(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return gt(o.geoPointValue.latitude)===gt(u.geoPointValue.latitude)&&gt(o.geoPointValue.longitude)===gt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return gt(o.integerValue)===gt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=gt(o.doubleValue),m=gt(u.doubleValue);return h===m?Mh(h)===Mh(m):isNaN(h)&&isNaN(m)}return!1}(i,e);case 9:return go(i.arrayValue.values||[],e.arrayValue.values||[],Si);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(aT(h)!==aT(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Si(h[p],m[p])))return!1;return!0}(i,e);default:return Ee(52216,{left:i})}}function hu(i,e){return(i.values||[]).find(t=>Si(t,e))!==void 0}function yo(i,e){if(i===e)return 0;const t=es(i),s=es(e);if(t!==s)return Ce(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ce(i.booleanValue,e.booleanValue);case 2:return function(u,h){const m=gt(u.integerValue||u.doubleValue),p=gt(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,e);case 3:return lT(i.timestampValue,e.timestampValue);case 4:return lT(uu(i),uu(e));case 5:return sp(i.stringValue,e.stringValue);case 6:return function(u,h){const m=Jr(u),p=Jr(h);return m.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Ce(m[g],p[g]);if(E!==0)return E}return Ce(m.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,h){const m=Ce(gt(u.latitude),gt(h.latitude));return m!==0?m:Ce(gt(u.longitude),gt(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return uT(i.arrayValue,e.arrayValue);case 10:return function(u,h){var m,p,g,E;const b=u.fields||{},w=h.fields||{},D=(m=b[Ph])===null||m===void 0?void 0:m.arrayValue,N=(p=w[Ph])===null||p===void 0?void 0:p.arrayValue,K=Ce(((g=D==null?void 0:D.values)===null||g===void 0?void 0:g.length)||0,((E=N==null?void 0:N.values)===null||E===void 0?void 0:E.length)||0);return K!==0?K:uT(D,N)}(i.mapValue,e.mapValue);case 11:return function(u,h){if(u===rh.mapValue&&h===rh.mapValue)return 0;if(u===rh.mapValue)return 1;if(h===rh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let b=0;b<p.length&&b<E.length;++b){const w=sp(p[b],E[b]);if(w!==0)return w;const D=yo(m[p[b]],g[E[b]]);if(D!==0)return D}return Ce(p.length,E.length)}(i.mapValue,e.mapValue);default:throw Ee(23264,{Pe:t})}}function lT(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ce(i,e);const t=Zr(i),s=Zr(e),o=Ce(t.seconds,s.seconds);return o!==0?o:Ce(t.nanos,s.nanos)}function uT(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=yo(t[o],s[o]);if(u)return u}return Ce(t.length,s.length)}function _o(i){return ap(i)}function ap(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(t){const s=Zr(t);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(t){return Jr(t).toBase64()}(i.bytesValue):"referenceValue"in i?function(t){return pe.fromName(t).toString()}(i.referenceValue):"geoPointValue"in i?function(t){return`geo(${t.latitude},${t.longitude})`}(i.geoPointValue):"arrayValue"in i?function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=ap(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${ap(t.fields[h])}`;return o+"}"}(i.mapValue):Ee(61005,{value:i})}function _h(i){switch(es(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=rf(i);return e?16+_h(e):16;case 5:return 2*i.stringValue.length;case 6:return Jr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+_h(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return as(s.fields,(u,h)=>{o+=u.length+_h(h)}),o}(i.mapValue);default:throw Ee(13486,{value:i})}}function cT(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function op(i){return!!i&&"integerValue"in i}function Xp(i){return!!i&&"arrayValue"in i}function hT(i){return!!i&&"nullValue"in i}function fT(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function vh(i){return!!i&&"mapValue"in i}function bO(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[BA])===null||t===void 0?void 0:t.stringValue)===zA}function Zl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return as(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Zl(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Zl(i.arrayValue.values[t]);return e}return Object.assign({},i)}function wO(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===AO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.value=e}static empty(){return new cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!vh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zl(t)}setAll(e){let t=Gt.emptyPath(),s={},o=[];e.forEach((h,m)=>{if(!t.isImmediateParentOf(m)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=m.popLast()}h?s[m.lastSegment()]=Zl(h):o.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());vh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Si(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];vh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){as(t,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new cn(Zl(this.value))}}function qA(i){const e=[];return as(i.fields,(t,s)=>{const o=new Gt([t]);if(vh(s)){const u=qA(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new An(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,t,s,o,u,h,m){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new Zt(e,0,we.min(),we.min(),we.min(),cn.empty(),0)}static newFoundDocument(e,t,s,o){return new Zt(e,1,t,we.min(),s,o,0)}static newNoDocument(e,t){return new Zt(e,2,t,we.min(),we.min(),cn.empty(),0)}static newUnknownDocument(e,t){return new Zt(e,3,t,we.min(),we.min(),cn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,t){this.position=e,this.inclusive=t}}function dT(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=pe.comparator(pe.fromName(h.referenceValue),t.key):s=yo(h,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function mT(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Si(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,t="asc"){this.field=e,this.dir=t}}function SO(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{}class At extends HA{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new IO(e,t,s):t==="array-contains"?new OO(e,s):t==="in"?new NO(e,s):t==="not-in"?new xO(e,s):t==="array-contains-any"?new MO(e,s):new At(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new CO(e,s):new DO(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(yo(t,this.value)):t!==null&&es(this.value)===es(t)&&this.matchesComparison(yo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ei extends HA{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new ei(e,t)}matches(e){return FA(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function FA(i){return i.op==="and"}function GA(i){return RO(i)&&FA(i)}function RO(i){for(const e of i.filters)if(e instanceof ei)return!1;return!0}function lp(i){if(i instanceof At)return i.field.canonicalString()+i.op.toString()+_o(i.value);if(GA(i))return i.filters.map(e=>lp(e)).join(",");{const e=i.filters.map(t=>lp(t)).join(",");return`${i.op}(${e})`}}function KA(i,e){return i instanceof At?function(s,o){return o instanceof At&&s.op===o.op&&s.field.isEqual(o.field)&&Si(s.value,o.value)}(i,e):i instanceof ei?function(s,o){return o instanceof ei&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,m)=>u&&KA(h,o.filters[m]),!0):!1}(i,e):void Ee(19439)}function $A(i){return i instanceof At?function(t){return`${t.field.canonicalString()} ${t.op} ${_o(t.value)}`}(i):i instanceof ei?function(t){return t.op.toString()+" {"+t.getFilters().map($A).join(" ,")+"}"}(i):"Filter"}class IO extends At{constructor(e,t,s){super(e,t,s),this.key=pe.fromName(s.referenceValue)}matches(e){const t=pe.comparator(e.key,this.key);return this.matchesComparison(t)}}class CO extends At{constructor(e,t){super(e,"in",t),this.keys=QA("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class DO extends At{constructor(e,t){super(e,"not-in",t),this.keys=QA("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function QA(i,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>pe.fromName(s.referenceValue))}class OO extends At{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Xp(t)&&hu(t.arrayValue,this.value)}}class NO extends At{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&hu(this.value.arrayValue,t)}}class xO extends At{constructor(e,t){super(e,"not-in",t)}matches(e){if(hu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!hu(this.value.arrayValue,t)}}class MO extends At{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Xp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>hu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e,t=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Ie=null}}function pT(i,e=null,t=[],s=[],o=null,u=null,h=null){return new kO(i,e,t,s,o,u,h)}function Wp(i){const e=Se(i);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>lp(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),nf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>_o(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>_o(s)).join(",")),e.Ie=t}return e.Ie}function Zp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!SO(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!KA(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!mT(i.startAt,e.startAt)&&mT(i.endAt,e.endAt)}function up(i){return pe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e,t=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function PO(i,e,t,s,o,u,h,m){return new Oo(i,e,t,s,o,u,h,m)}function YA(i){return new Oo(i)}function gT(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function XA(i){return i.collectionGroup!==null}function Jl(i){const e=Se(i);if(e.Ee===null){e.Ee=[];const t=new Set;for(const u of e.explicitOrderBy)e.Ee.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Dt(Gt.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.Ee.push(new fu(u,s))}),t.has(Gt.keyField().canonicalString())||e.Ee.push(new fu(Gt.keyField(),s))}return e.Ee}function bi(i){const e=Se(i);return e.de||(e.de=VO(e,Jl(i))),e.de}function VO(i,e){if(i.limitType==="F")return pT(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new fu(o.field,u)});const t=i.endAt?new Vh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Vh(i.startAt.position,i.startAt.inclusive):null;return pT(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function cp(i,e){const t=i.filters.concat([e]);return new Oo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function Lh(i,e,t){return new Oo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function sf(i,e){return Zp(bi(i),bi(e))&&i.limitType===e.limitType}function WA(i){return`${Wp(bi(i))}|lt:${i.limitType}`}function ro(i){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>$A(o)).join(", ")}]`),nf(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>_o(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>_o(o)).join(",")),`Target(${s})`}(bi(i))}; limitType=${i.limitType})`}function af(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):pe.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of Jl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(h,m,p){const g=dT(h,m,p);return h.inclusive?g<=0:g<0}(s.startAt,Jl(s),o)||s.endAt&&!function(h,m,p){const g=dT(h,m,p);return h.inclusive?g>=0:g>0}(s.endAt,Jl(s),o))}(i,e)}function LO(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function ZA(i){return(e,t)=>{let s=!1;for(const o of Jl(i)){const u=UO(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function UO(i,e,t){const s=i.field.isKeyField()?pe.comparator(e.key,t.key):function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?yo(p,g):Ee(42886)}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){as(this.inner,(t,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return kA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO=new at(pe.comparator);function or(){return jO}const JA=new at(pe.comparator);function Ql(...i){let e=JA;for(const t of i)e=e.insert(t.key,t);return e}function eb(i){let e=JA;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Qs(){return eu()}function tb(){return eu()}function eu(){return new ua(i=>i.toString(),(i,e)=>i.isEqual(e))}const BO=new at(pe.comparator),zO=new Dt(pe.comparator);function ke(...i){let e=zO;for(const t of i)e=e.add(t);return e}const qO=new Dt(Ce);function HO(){return qO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mh(e)?"-0":e}}function nb(i){return{integerValue:""+i}}function FO(i,e){return yO(e)?nb(e):Jp(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(){this._=void 0}}function GO(i,e,t){return i instanceof du?function(o,u){const h={fields:{[LA]:{stringValue:VA},[jA]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Yp(u)&&(u=rf(u)),u&&(h.fields[UA]=u),{mapValue:h}}(t,e):i instanceof mu?rb(i,e):i instanceof pu?sb(i,e):function(o,u){const h=ib(o,u),m=yT(h)+yT(o.Re);return op(h)&&op(o.Re)?nb(m):Jp(o.serializer,m)}(i,e)}function KO(i,e,t){return i instanceof mu?rb(i,e):i instanceof pu?sb(i,e):t}function ib(i,e){return i instanceof Uh?function(s){return op(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class du extends of{}class mu extends of{constructor(e){super(),this.elements=e}}function rb(i,e){const t=ab(e);for(const s of i.elements)t.some(o=>Si(o,s))||t.push(s);return{arrayValue:{values:t}}}class pu extends of{constructor(e){super(),this.elements=e}}function sb(i,e){let t=ab(e);for(const s of i.elements)t=t.filter(o=>!Si(o,s));return{arrayValue:{values:t}}}class Uh extends of{constructor(e,t){super(),this.serializer=e,this.Re=t}}function yT(i){return gt(i.integerValue||i.doubleValue)}function ab(i){return Xp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e,t){this.field=e,this.transform=t}}function QO(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof mu&&o instanceof mu||s instanceof pu&&o instanceof pu?go(s.elements,o.elements,Si):s instanceof Uh&&o instanceof Uh?Si(s.Re,o.Re):s instanceof du&&o instanceof du}(i.transform,e.transform)}class YO{constructor(e,t){this.version=e,this.transformResults=t}}class Wn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Wn}static exists(e){return new Wn(void 0,e)}static updateTime(e){return new Wn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Eh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class lf{}function ob(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new eg(i.key,Wn.none()):new bu(i.key,i.data,Wn.none());{const t=i.data,s=cn.empty();let o=new Dt(Gt.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new os(i.key,s,new An(o.toArray()),Wn.none())}}function XO(i,e,t){i instanceof bu?function(o,u,h){const m=o.value.clone(),p=vT(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(i,e,t):i instanceof os?function(o,u,h){if(!Eh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=vT(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(lb(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(i,e,t):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function tu(i,e,t,s){return i instanceof bu?function(u,h,m,p){if(!Eh(u.precondition,h))return m;const g=u.value.clone(),E=ET(u.fieldTransforms,p,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(i,e,t,s):i instanceof os?function(u,h,m,p){if(!Eh(u.precondition,h))return m;const g=ET(u.fieldTransforms,p,h),E=h.data;return E.setAll(lb(u)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(b=>b.field))}(i,e,t,s):function(u,h,m){return Eh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(i,e,t)}function WO(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=ib(s.transform,o||null);u!=null&&(t===null&&(t=cn.empty()),t.set(s.field,u))}return t||null}function _T(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&go(s,o,(u,h)=>QO(u,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class bu extends lf{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class os extends lf{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function lb(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function vT(i,e,t){const s=new Map;He(i.length===t.length,32656,{Ve:t.length,me:i.length});for(let o=0;o<t.length;o++){const u=i[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,KO(h,m,t[o]))}return s}function ET(i,e,t){const s=new Map;for(const o of i){const u=o.transform,h=t.data.field(o.field);s.set(o.field,GO(u,h,e))}return s}class eg extends lf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ZO extends lf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&XO(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=tu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=tu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=tb();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=t.has(o.key)?null:m;const p=ob(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(we.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ke())}isEqual(e){return this.batchId===e.batchId&&go(this.mutations,e.mutations,(t,s)=>_T(t,s))&&go(this.baseMutations,e.baseMutations,(t,s)=>_T(t,s))}}class tg{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){He(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let o=function(){return BO}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new tg(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt,Ue;function nN(i){switch(i){case ee.OK:return Ee(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Ee(15467,{code:i})}}function ub(i){if(i===void 0)return ar("GRPC error has no .code"),ee.UNKNOWN;switch(i){case Tt.OK:return ee.OK;case Tt.CANCELLED:return ee.CANCELLED;case Tt.UNKNOWN:return ee.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return ee.INTERNAL;case Tt.UNAVAILABLE:return ee.UNAVAILABLE;case Tt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Tt.NOT_FOUND:return ee.NOT_FOUND;case Tt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Tt.ABORTED:return ee.ABORTED;case Tt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Tt.DATA_LOSS:return ee.DATA_LOSS;default:return Ee(39323,{code:i})}}(Ue=Tt||(Tt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN=new $r([4294967295,4294967295],0);function TT(i){const e=NA().encode(i),t=new bA;return t.update(e),new Uint8Array(t.digest())}function AT(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new $r([t,s],0),new $r([o,u],0)]}class ng{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Yl(`Invalid padding: ${t}`);if(s<0)throw new Yl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Yl(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Yl(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=$r.fromNumber(this.pe)}we(e,t,s){let o=e.add(t.multiply($r.fromNumber(s)));return o.compare(iN)===1&&(o=new $r([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=TT(e),[s,o]=AT(t);for(let u=0;u<this.hashCount;u++){const h=this.we(s,o,u);if(!this.be(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new ng(u,o,t);return s.forEach(m=>h.insert(m)),h}insert(e){if(this.pe===0)return;const t=TT(e),[s,o]=AT(t);for(let u=0;u<this.hashCount;u++){const h=this.we(s,o,u);this.Se(h)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,wu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new uf(we.min(),o,new at(Ce),or(),ke())}}class wu{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new wu(s,t,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,t,s,o){this.De=e,this.removedTargetIds=t,this.key=s,this.ve=o}}class cb{constructor(e,t){this.targetId=e,this.Ce=t}}class hb{constructor(e,t,s=Kt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class bT{constructor(){this.Fe=0,this.Me=wT(),this.xe=Kt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ke(),t=ke(),s=ke();return this.Me.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Ee(38017,{changeType:u})}}),new wu(this.xe,this.Oe,e,t,s)}Qe(){this.Ne=!1,this.Me=wT()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,He(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class rN{constructor(e){this.ze=e,this.je=new Map,this.He=or(),this.Je=sh(),this.Ye=sh(),this.Ze=new at(Ce)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const s=this.rt(t);switch(e.state){case 0:this.it(t)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(t);break;case 3:this.it(t)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),s.ke(e.resumeToken));break;default:Ee(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((s,o)=>{this.it(o)&&t(o)})}ot(e){const t=e.targetId,s=e.Ce.count,o=this._t(t);if(o){const u=o.target;if(up(u))if(s===0){const h=new pe(u.path);this.tt(t,h,Zt.newNoDocument(h,we.min()))}else He(s===1,20013,{expectedCount:s});else{const h=this.ut(t);if(h!==s){const m=this.ct(e),p=m?this.lt(m,e,h):1;if(p!==0){this.st(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,g)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let h,m;try{h=Jr(s).toUint8Array()}catch(p){if(p instanceof PA)return po("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new ng(h,o,u)}catch(p){return po(p instanceof Yl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.pe===0?null:m}lt(e,t,s){return t.Ce.count===s-this.Tt(e,t.targetId)?0:2}Tt(e,t){const s=this.ze.getRemoteKeysForTarget(t);let o=0;return s.forEach(u=>{const h=this.ze.Pt(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.tt(t,u,null),o++)}),o}It(e){const t=new Map;this.je.forEach((u,h)=>{const m=this._t(h);if(m){if(u.current&&up(m.target)){const p=new pe(m.target.path);this.Et(p).has(h)||this.dt(h,p)||this.tt(h,p,Zt.newNoDocument(p,e))}u.Le&&(t.set(h,u.qe()),u.Qe())}});let s=ke();this.Ye.forEach((u,h)=>{let m=!0;h.forEachWhile(p=>{const g=this._t(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.He.forEach((u,h)=>h.setReadTime(e));const o=new uf(e,t,this.Ze,this.He,s);return this.He=or(),this.Je=sh(),this.Ye=sh(),this.Ze=new at(Ce),o}et(e,t){if(!this.it(e))return;const s=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,s),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,s){if(!this.it(e))return;const o=this.rt(e);this.dt(e,t)?o.$e(t,1):o.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),s&&(this.He=this.He.insert(t,s))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new bT,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Dt(Ce),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Dt(Ce),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||ue("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new bT),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function sh(){return new at(pe.comparator)}function wT(){return new at(pe.comparator)}const sN={asc:"ASCENDING",desc:"DESCENDING"},aN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oN={and:"AND",or:"OR"};class lN{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function hp(i,e){return i.useProto3Json||nf(e)?e:{value:e}}function jh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fb(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function uN(i,e){return jh(i,e.toTimestamp())}function wi(i){return He(!!i,49232),we.fromTimestamp(function(t){const s=Zr(t);return new Ct(s.seconds,s.nanos)}(i))}function ig(i,e){return fp(i,e).canonicalString()}function fp(i,e){const t=function(o){return new et(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?t:t.child(e)}function db(i){const e=et.fromString(i);return He(_b(e),10190,{key:e.toString()}),e}function dp(i,e){return ig(i.databaseId,e.path)}function jm(i,e){const t=db(e);if(t.get(1)!==i.databaseId.projectId)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new pe(pb(t))}function mb(i,e){return ig(i.databaseId,e)}function cN(i){const e=db(i);return e.length===4?et.emptyPath():pb(e)}function mp(i){return new et(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function pb(i){return He(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function ST(i,e,t){return{name:dp(i,e),fields:t.value.mapValue.fields}}function hN(i,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ee(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(He(E===void 0||typeof E=="string",58123),Kt.fromBase64String(E||"")):(He(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Kt.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(g){const E=g.code===void 0?ee.UNKNOWN:ub(g.code);return new he(E,g.message||"")}(h);t=new hb(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=jm(i,s.document.name),u=wi(s.document.updateTime),h=s.document.createTime?wi(s.document.createTime):we.min(),m=new cn({mapValue:{fields:s.document.fields}}),p=Zt.newFoundDocument(o,u,h,m),g=s.targetIds||[],E=s.removedTargetIds||[];t=new Th(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=jm(i,s.document),u=s.readTime?wi(s.readTime):we.min(),h=Zt.newNoDocument(o,u),m=s.removedTargetIds||[];t=new Th([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=jm(i,s.document),u=s.removedTargetIds||[];t=new Th([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new tN(o,u),m=s.targetId;t=new cb(m,h)}}return t}function fN(i,e){let t;if(e instanceof bu)t={update:ST(i,e.key,e.value)};else if(e instanceof eg)t={delete:dp(i,e.key)};else if(e instanceof os)t={update:ST(i,e.key,e.data),updateMask:TN(e.fieldMask)};else{if(!(e instanceof ZO))return Ee(16599,{ft:e.type});t={verify:dp(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const m=h.transform;if(m instanceof du)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof mu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof pu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Uh)return{fieldPath:h.field.canonicalString(),increment:m.Re};throw Ee(20930,{transform:h.transform})}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:uN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)}(i,e.precondition)),t}function dN(i,e){return i&&i.length>0?(He(e!==void 0,14353),i.map(t=>function(o,u){let h=o.updateTime?wi(o.updateTime):wi(u);return h.isEqual(we.min())&&(h=wi(u)),new YO(h,o.transformResults||[])}(t,e))):[]}function mN(i,e){return{documents:[mb(i,e.path)]}}function pN(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=mb(i,o);const u=function(g){if(g.length!==0)return yb(ei.create(g,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(E=>function(w){return{field:so(w.field),direction:_N(w.dir)}}(E))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const m=hp(i,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:t,parent:o}}function gN(i){let e=cN(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){He(s===1,65062);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];t.where&&(u=function(b){const w=gb(b);return w instanceof ei&&GA(w)?w.getFilters():[w]}(t.where));let h=[];t.orderBy&&(h=function(b){return b.map(w=>function(N){return new fu(ao(N.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(w))}(t.orderBy));let m=null;t.limit&&(m=function(b){let w;return w=typeof b=="object"?b.value:b,nf(w)?null:w}(t.limit));let p=null;t.startAt&&(p=function(b){const w=!!b.before,D=b.values||[];return new Vh(D,w)}(t.startAt));let g=null;return t.endAt&&(g=function(b){const w=!b.before,D=b.values||[];return new Vh(D,w)}(t.endAt)),PO(e,o,h,u,m,"F",p,g)}function yN(i,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function gb(i){return i.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=ao(t.unaryFilter.field);return At.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ao(t.unaryFilter.field);return At.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ao(t.unaryFilter.field);return At.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=ao(t.unaryFilter.field);return At.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}}(i):i.fieldFilter!==void 0?function(t){return At.create(ao(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(t){return ei.create(t.compositeFilter.filters.map(s=>gb(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}}(t.compositeFilter.op))}(i):Ee(30097,{filter:i})}function _N(i){return sN[i]}function vN(i){return aN[i]}function EN(i){return oN[i]}function so(i){return{fieldPath:i.canonicalString()}}function ao(i){return Gt.fromServerFormat(i.fieldPath)}function yb(i){return i instanceof At?function(t){if(t.op==="=="){if(fT(t.value))return{unaryFilter:{field:so(t.field),op:"IS_NAN"}};if(hT(t.value))return{unaryFilter:{field:so(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(fT(t.value))return{unaryFilter:{field:so(t.field),op:"IS_NOT_NAN"}};if(hT(t.value))return{unaryFilter:{field:so(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:so(t.field),op:vN(t.op),value:t.value}}}(i):i instanceof ei?function(t){const s=t.getFilters().map(o=>yb(o));return s.length===1?s[0]:{compositeFilter:{op:EN(t.op),filters:s}}}(i):Ee(54877,{filter:i})}function TN(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function _b(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e,t,s,o,u=we.min(),h=we.min(),m=Kt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Hr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e){this.wt=e}}function bN(i){const e=gN({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Lh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(){this.yn=new SN}addToCollectionParentIndex(e,t){return this.yn.add(t),te.resolve()}getCollectionParents(e,t){return te.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return te.resolve()}deleteFieldIndex(e,t){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,t){return te.resolve()}getDocumentsMatchingTarget(e,t){return te.resolve(null)}getIndexType(e,t){return te.resolve(0)}getFieldIndexes(e,t){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,t){return te.resolve(Wr.min())}getMinOffsetFromCollectionGroup(e,t){return te.resolve(Wr.min())}updateCollectionGroup(e,t,s){return te.resolve()}updateIndexEntries(e,t){return te.resolve()}}class SN{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Dt(et.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Dt(et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vb=41943040;class un{static withCacheSize(e){return new un(e,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(vb,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new vo(0)}static ir(){return new vo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT="LruGarbageCollector",RN=1048576;function CT([i,e],[t,s]){const o=Ce(i,t);return o===0?Ce(e,s):o}class IN{constructor(e){this.cr=e,this.buffer=new Dt(CT),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();CT(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class CN{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){ue(IT,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Do(t)?ue(IT,"Ignoring IndexedDB error during garbage collection: ",t):await Co(t)}await this.Ir(3e5)})}}class DN{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return te.resolve(tf.le);const s=new IN(t);return this.Er.forEachTarget(e,o=>s.Pr(o.sequenceNumber)).next(()=>this.Er.Ar(e,o=>s.Pr(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.Er.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(RT)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),RT):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let s,o,u,h,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,h=Date.now(),this.nthSequenceNumber(e,o))).next(b=>(s=b,m=Date.now(),this.removeTargets(e,s,t))).next(b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(b=>(g=Date.now(),io()<=Me.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b})))}}function ON(i,e){return new DN(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(){this.changes=new ua(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?te.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&tu(s.mutation,o,An.empty(),Ct.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,ke()).next(()=>s))}getLocalViewOfDocuments(e,t,s=ke()){const o=Qs();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(u=>{let h=Ql();return u.forEach((m,p)=>{h=h.insert(m,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=Qs();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,ke()))}populateOverlays(e,t,s){const o=[];return s.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,m)=>{t.set(h,m)})})}computeViews(e,t,s,o){let u=or();const h=eu(),m=function(){return eu()}();return t.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof os)?u=u.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),tu(E.mutation,g,E.mutation.getFieldMask(),Ct.now())):h.set(g.key,An.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,E)=>h.set(g,E)),t.forEach((g,E)=>{var b;return m.set(g,new xN(E,(b=h.get(g))!==null&&b!==void 0?b:null))}),m))}recalculateAndSaveOverlays(e,t){const s=eu();let o=new at((h,m)=>h-m),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const m of h)m.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let E=s.get(p)||An.empty();E=m.applyToLocalView(g,E),s.set(p,E);const b=(o.get(m.batchId)||ke()).add(p);o=o.insert(m.batchId,b)})}).next(()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,b=tb();E.forEach(w=>{if(!u.has(w)){const D=ob(t.get(w),s.get(w));D!==null&&b.set(w,D),u=u.add(w)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,b))}return te.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return pe.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):XA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):te.resolve(Qs());let m=lu,p=u;return h.next(g=>te.forEach(g,(E,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(E)?te.resolve():this.remoteDocumentCache.getEntry(e,E).next(w=>{p=p.insert(E,w)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,ke())).next(E=>({batchId:m,changes:eb(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new pe(t)).next(s=>{let o=Ql();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let h=Ql();return this.indexManager.getCollectionParents(e,u).next(m=>te.forEach(m,p=>{const g=function(b,w){return new Oo(w,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(t,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((b,w)=>{h=h.insert(b,w)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o))).next(h=>{u.forEach((p,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,Zt.newInvalidDocument(E)))});let m=Ql();return h.forEach((p,g)=>{const E=u.get(p);E!==void 0&&tu(E.mutation,g,An.empty(),Ct.now()),af(t,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return te.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:wi(o.createTime)}}(t)),te.resolve()}getNamedQuery(e,t){return te.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(o){return{name:o.name,query:bN(o.bundledQuery),readTime:wi(o.readTime)}}(t)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(){this.overlays=new at(pe.comparator),this.Or=new Map}getOverlay(e,t){return te.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Qs();return te.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,u)=>{this.St(e,t,u)}),te.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Or.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Or.delete(s)),te.resolve()}getOverlaysForCollection(e,t,s){const o=Qs(),u=t.length+1,h=new pe(t.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return te.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new at((g,E)=>g-E);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Qs(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Qs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return te.resolve(m)}St(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Or.get(o.largestBatchId).delete(s.key);this.Or.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new eN(t,s));let u=this.Or.get(t);u===void 0&&(u=ke(),this.Or.set(t,u)),this.Or.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(){this.Nr=new Dt(Vt.Br),this.Lr=new Dt(Vt.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const s=new Vt(e,t);this.Nr=this.Nr.add(s),this.Lr=this.Lr.add(s)}qr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.Qr(new Vt(e,t))}$r(e,t){e.forEach(s=>this.removeReference(s,t))}Ur(e){const t=new pe(new et([])),s=new Vt(t,e),o=new Vt(t,e+1),u=[];return this.Lr.forEachInRange([s,o],h=>{this.Qr(h),u.push(h.key)}),u}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new pe(new et([])),s=new Vt(t,e),o=new Vt(t,e+1);let u=ke();return this.Lr.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new Vt(e,0),s=this.Nr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Vt{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return pe.comparator(e.key,t.key)||Ce(e.Gr,t.Gr)}static kr(e,t){return Ce(e.Gr,t.Gr)||pe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new Dt(Vt.Br)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new JO(u,t,s,o);this.mutationQueue.push(h);for(const m of o)this.zr=this.zr.add(new Vt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return te.resolve(h)}lookupMutationBatch(e,t){return te.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Hr(s),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?Qp:this.Jn-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Vt(t,0),o=new Vt(t,Number.POSITIVE_INFINITY),u=[];return this.zr.forEachInRange([s,o],h=>{const m=this.jr(h.Gr);u.push(m)}),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Dt(Ce);return t.forEach(o=>{const u=new Vt(o,0),h=new Vt(o,Number.POSITIVE_INFINITY);this.zr.forEachInRange([u,h],m=>{s=s.add(m.Gr)})}),te.resolve(this.Jr(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;pe.isDocumentKey(u)||(u=u.child(""));const h=new Vt(new pe(u),0);let m=new Dt(Ce);return this.zr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Gr)),!0)},h),te.resolve(this.Jr(m))}Jr(e){const t=[];return e.forEach(s=>{const o=this.jr(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){He(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.zr;return te.forEach(t.mutations,o=>{const u=new Vt(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.zr=s})}Xn(e){}containsKey(e,t){const s=new Vt(t,0),o=this.zr.firstAfterOrEqual(s);return te.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e){this.Zr=e,this.docs=function(){return new at(pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,h=this.Zr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return te.resolve(s?s.document.mutableCopy():Zt.newInvalidDocument(t))}getEntries(e,t){let s=or();return t.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Zt.newInvalidDocument(o))}),te.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=or();const h=t.path,m=new pe(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||dO(fO(E),s)<=0||(o.has(E.key)||af(t,E))&&(u=u.insert(E.key,E.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,t,s,o){Ee(9500)}Xr(e,t){return te.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new jN(this)}getSize(e){return te.resolve(this.size)}}class jN extends NN{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.vr.addEntry(e,o)):this.vr.removeEntry(s)}),te.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e){this.persistence=e,this.ei=new ua(t=>Wp(t),Zp),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.ti=0,this.ni=new rg,this.targetCount=0,this.ri=vo.rr()}forEachTarget(e,t){return this.ei.forEach((s,o)=>t(o)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.ti&&(this.ti=t),te.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new vo(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,te.resolve()}updateTargetData(e,t){return this.ar(t),te.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.ei.forEach((h,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.ei.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),te.waitFor(u).next(()=>o)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,t){const s=this.ei.get(t)||null;return te.resolve(s)}addMatchingKeys(e,t,s){return this.ni.qr(t,s),te.resolve()}removeMatchingKeys(e,t,s){this.ni.$r(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),te.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),te.resolve()}getMatchingKeysForTargetId(e,t){const s=this.ni.Wr(t);return te.resolve(s)}containsKey(e,t){return te.resolve(this.ni.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e,t){this.ii={},this.overlays={},this.si=new tf(0),this.oi=!1,this.oi=!0,this._i=new VN,this.referenceDelegate=e(this),this.ai=new BN(this),this.indexManager=new wN,this.remoteDocumentCache=function(o){return new UN(o)}(s=>this.referenceDelegate.ui(s)),this.serializer=new AN(t),this.ci=new kN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new PN,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ii[e.toKey()];return s||(s=new LN(t,this.referenceDelegate),this.ii[e.toKey()]=s),s}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,s){ue("MemoryPersistence","Starting transaction:",e);const o=new zN(this.si.next());return this.referenceDelegate.li(),s(o).next(u=>this.referenceDelegate.hi(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Pi(e,t){return te.or(Object.values(this.ii).map(s=>()=>s.containsKey(e,t)))}}class zN extends pO{constructor(e){super(),this.currentSequenceNumber=e}}class sg{constructor(e){this.persistence=e,this.Ti=new rg,this.Ii=null}static Ei(e){return new sg(e)}get di(){if(this.Ii)return this.Ii;throw Ee(60996)}addReference(e,t,s){return this.Ti.addReference(s,t),this.di.delete(s.toString()),te.resolve()}removeReference(e,t,s){return this.Ti.removeReference(s,t),this.di.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),te.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(o=>this.di.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.di.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.di,s=>{const o=pe.fromPath(s);return this.Ai(e,o).next(u=>{u||t.removeEntry(o,we.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(s=>{s?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return te.or([()=>te.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class Bh{constructor(e,t){this.persistence=e,this.Ri=new ua(s=>_O(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=ON(this,t)}static Ei(e,t){return new Bh(e,t)}li(){}hi(e){return te.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}Vr(e){let t=0;return this.Ar(e,s=>{t++}).next(()=>t)}Ar(e,t){return te.forEach(this.Ri,(s,o)=>this.gr(e,s,o).next(u=>u?te.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.Xr(e,h=>this.gr(e,h,t).next(m=>{m||(s++,u.removeEntry(h,we.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),te.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.Ri.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,t,s){return this.Ri.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),te.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=_h(e.data.value)),t}gr(e,t,s){return te.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.Ri.get(t);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.ls=s,this.hs=o}static Ps(e,t){let s=ke(),o=ke();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new ag(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return AI()?8:gO(Jt())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.Rs(e,t).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.Vs(e,t,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new qN;return this.fs(e,t,h).next(m=>{if(u.result=m,this.Is)return this.gs(e,t,h,m.size)})}).next(()=>u.result)}gs(e,t,s,o){return s.documentReadCount<this.Es?(io()<=Me.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",ro(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),te.resolve()):(io()<=Me.DEBUG&&ue("QueryEngine","Query:",ro(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(io()<=Me.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",ro(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bi(t))):te.resolve())}Rs(e,t){if(gT(t))return te.resolve(null);let s=bi(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Lh(t,null,"F"),s=bi(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=ke(...u);return this.As.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.ps(t,m);return this.ys(t,g,h,p.readTime)?this.Rs(e,Lh(t,null,"F")):this.ws(e,g,t,p)}))})))}Vs(e,t,s,o){return gT(t)||o.isEqual(we.min())?te.resolve(null):this.As.getDocuments(e,s).next(u=>{const h=this.ps(t,u);return this.ys(t,h,s,o)?te.resolve(null):(io()<=Me.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ro(t)),this.ws(e,h,t,hO(o,lu)).next(m=>m))})}ps(e,t){let s=new Dt(ZA(e));return t.forEach((o,u)=>{af(e,u)&&(s=s.add(u))}),s}ys(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}fs(e,t,s){return io()<=Me.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",ro(t)),this.As.getDocumentsMatchingQuery(e,t,Wr.min(),s)}ws(e,t,s,o){return this.As.getDocumentsMatchingQuery(e,s,o).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og="LocalStore",FN=3e8;class GN{constructor(e,t,s,o){this.persistence=e,this.bs=t,this.serializer=o,this.Ss=new at(Ce),this.Ds=new ua(u=>Wp(u),Zp),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(s)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new MN(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function KN(i,e,t,s){return new GN(i,e,t,s)}async function Tb(i,e){const t=Se(i);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,t.Fs(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],m=[];let p=ke();for(const g of o){h.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return t.localDocuments.getDocuments(s,p).next(g=>({Ms:g,removedBatchIds:h,addedBatchIds:m}))})})}function $N(i,e){const t=Se(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=t.Cs.newChangeBuffer({trackRemovals:!0});return function(m,p,g,E){const b=g.batch,w=b.keys();let D=te.resolve();return w.forEach(N=>{D=D.next(()=>E.getEntry(p,N)).next(K=>{const U=g.docVersions.get(N);He(U!==null,48541),K.version.compareTo(U)<0&&(b.applyToRemoteDocument(K,g),K.isValidDocument()&&(K.setReadTime(g.commitVersion),E.addEntry(K)))})}),D.next(()=>m.mutationQueue.removeMutationBatch(p,b))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=ke();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function Ab(i){const e=Se(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function QN(i,e){const t=Se(i),s=e.snapshotVersion;let o=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.Cs.newChangeBuffer({trackRemovals:!0});o=t.Ss;const m=[];e.targetChanges.forEach((E,b)=>{const w=o.get(b);if(!w)return;m.push(t.ai.removeMatchingKeys(u,E.removedDocuments,b).next(()=>t.ai.addMatchingKeys(u,E.addedDocuments,b)));let D=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?D=D.withResumeToken(Kt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):E.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(E.resumeToken,s)),o=o.insert(b,D),function(K,U,Q){return K.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=FN?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0}(w,D,E)&&m.push(t.ai.updateTargetData(u,D))});let p=or(),g=ke();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(YN(u,h,e.documentUpdates).next(E=>{p=E.xs,g=E.Os})),!s.isEqual(we.min())){const E=t.ai.getLastRemoteSnapshotVersion(u).next(b=>t.ai.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return te.waitFor(m).next(()=>h.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(t.Ss=o,u))}function YN(i,e,t){let s=ke(),o=ke();return t.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let h=or();return t.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(we.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):ue(og,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{xs:h,Os:o}})}function XN(i,e){const t=Se(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Qp),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function WN(i,e){const t=Se(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.ai.getTargetData(s,e).next(u=>u?(o=u,te.resolve(o)):t.ai.allocateTargetId(s).next(h=>(o=new Hr(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.ai.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Ss.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(s.targetId,s),t.Ds.set(e,s.targetId)),s})}async function pp(i,e,t){const s=Se(i),o=s.Ss.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Do(h))throw h;ue(og,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ss=s.Ss.remove(e),s.Ds.delete(o.target)}function DT(i,e,t){const s=Se(i);let o=we.min(),u=ke();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,E){const b=Se(p),w=b.Ds.get(E);return w!==void 0?te.resolve(b.Ss.get(w)):b.ai.getTargetData(g,E)}(s,h,bi(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.ai.getMatchingKeysForTargetId(h,m.targetId).next(p=>{u=p})}).next(()=>s.bs.getDocumentsMatchingQuery(h,e,t?o:we.min(),t?u:ke())).next(m=>(ZN(s,LO(e),m),{documents:m,Ns:u})))}function ZN(i,e,t){let s=i.vs.get(e)||we.min();t.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.vs.set(e,s)}class OT{constructor(){this.activeTargetIds=HO()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class JN{constructor(){this.So=new OT,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,s){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new OT,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT="ConnectivityMonitor";class xT{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){ue(NT,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){ue(NT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ah=null;function gp(){return ah===null?ah=function(){return 268435456+Math.round(2147483648*Math.random())}():ah++,"0x"+ah.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm="RestConnection",tx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class nx{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${s}/databases/${o}`,this.qo=this.databaseId.database===kh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Qo(e,t,s,o,u){const h=gp(),m=this.$o(e,t.toUriEncodedString());ue(Bm,`Sending RPC '${e}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(p,o,u);const{host:g}=new URL(m),E=sa(g);return this.Ko(e,m,p,s,E).then(b=>(ue(Bm,`Received RPC '${e}' ${h}: `,b),b),b=>{throw po(Bm,`RPC '${e}' ${h} failed with error: `,b,"url: ",m,"request:",s),b})}Wo(e,t,s,o,u,h){return this.Qo(e,t,s,o,u)}Uo(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Io}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}$o(e,t){const s=tx[e];return`${this.Lo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class rx extends nx{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,s,o,u){const h=gp();return new Promise((m,p)=>{const g=new wA;g.setWithCredentials(!0),g.listenOnce(SA.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case yh.NO_ERROR:const b=g.getResponseJson();ue(Xt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(b)),m(b);break;case yh.TIMEOUT:ue(Xt,`RPC '${e}' ${h} timed out`),p(new he(ee.DEADLINE_EXCEEDED,"Request time out"));break;case yh.HTTP_ERROR:const w=g.getStatus();if(ue(Xt,`RPC '${e}' ${h} failed with status:`,w,"response text:",g.getResponseText()),w>0){let D=g.getResponseJson();Array.isArray(D)&&(D=D[0]);const N=D==null?void 0:D.error;if(N&&N.status&&N.message){const K=function(Q){const ie=Q.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(ie)>=0?ie:ee.UNKNOWN}(N.status);p(new he(K,N.message))}else p(new he(ee.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new he(ee.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{s_:e,streamId:h,o_:g.getLastErrorCode(),__:g.getLastError()})}}finally{ue(Xt,`RPC '${e}' ${h} completed.`)}});const E=JSON.stringify(o);ue(Xt,`RPC '${e}' ${h} sending request:`,o),g.send(t,"POST",E,s,15)})}a_(e,t,s){const o=gp(),u=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=CA(),m=IA(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Uo(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ue(Xt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const b=h.createWebChannel(E,p);let w=!1,D=!1;const N=new ix({Go:U=>{D?ue(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,U):(w||(ue(Xt,`Opening RPC '${e}' stream ${o} transport.`),b.open(),w=!0),ue(Xt,`RPC '${e}' stream ${o} sending:`,U),b.send(U))},zo:()=>b.close()}),K=(U,Q,ie)=>{U.listen(Q,W=>{try{ie(W)}catch(le){setTimeout(()=>{throw le},0)}})};return K(b,$l.EventType.OPEN,()=>{D||(ue(Xt,`RPC '${e}' stream ${o} transport opened.`),N.t_())}),K(b,$l.EventType.CLOSE,()=>{D||(D=!0,ue(Xt,`RPC '${e}' stream ${o} transport closed`),N.r_())}),K(b,$l.EventType.ERROR,U=>{D||(D=!0,po(Xt,`RPC '${e}' stream ${o} transport errored. Name:`,U.name,"Message:",U.message),N.r_(new he(ee.UNAVAILABLE,"The operation could not be completed")))}),K(b,$l.EventType.MESSAGE,U=>{var Q;if(!D){const ie=U.data[0];He(!!ie,16349);const W=ie,le=(W==null?void 0:W.error)||((Q=W[0])===null||Q===void 0?void 0:Q.error);if(le){ue(Xt,`RPC '${e}' stream ${o} received error:`,le);const ce=le.status;let Ae=function(I){const M=Tt[I];if(M!==void 0)return ub(M)}(ce),P=le.message;Ae===void 0&&(Ae=ee.INTERNAL,P="Unknown error status: "+ce+" with message "+le.message),D=!0,N.r_(new he(Ae,P)),b.close()}else ue(Xt,`RPC '${e}' stream ${o} received:`,ie),N.i_(ie)}}),K(m,RA.STAT_EVENT,U=>{U.stat===rp.PROXY?ue(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):U.stat===rp.NOPROXY&&ue(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{N.n_()},0),N}}function zm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cf(i){return new lN(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e,t,s=1e3,o=1.5,u=6e4){this.bi=e,this.timerId=t,this.u_=s,this.c_=o,this.l_=u,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),s=Math.max(0,Date.now()-this.T_),o=Math.max(0,t-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,o,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT="PersistentStream";class wb{constructor(e,t,s,o,u,h,m,p){this.bi=e,this.R_=s,this.V_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new bb(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===ee.RESOURCE_EXHAUSTED?(ar(t.toString()),ar("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.m_===t&&this.B_(s,o)},s=>{e(()=>{const o=new he(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.L_(o)})})}B_(e,t){const s=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{s(()=>this.listener.jo())}),this.stream.Jo(()=>{s(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(o=>{s(()=>this.L_(o))}),this.stream.onMessage(o=>{s(()=>++this.p_==1?this.q_(o):this.onNext(o))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return ue(MT,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(ue(MT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class sx extends wb{constructor(e,t,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=hN(this.serializer,e),s=function(u){if(!("targetChange"in u))return we.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?we.min():h.readTime?wi(h.readTime):we.min()}(e);return this.listener.Q_(t,s)}U_(e){const t={};t.database=mp(this.serializer),t.addTarget=function(u,h){let m;const p=h.target;if(m=up(p)?{documents:mN(u,p)}:{query:pN(u,p).gt},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=fb(u,h.resumeToken);const g=hp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(we.min())>0){m.readTime=jh(u,h.snapshotVersion.toTimestamp());const g=hp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=yN(this.serializer,e);s&&(t.labels=s),this.F_(t)}K_(e){const t={};t.database=mp(this.serializer),t.removeTarget=e,this.F_(t)}}class ax extends wb{constructor(e,t,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return He(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){He(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=dN(e.writeResults,e.commitTime),s=wi(e.commitTime);return this.listener.j_(s,t)}H_(){const e={};e.database=mp(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>fN(this.serializer,s))};this.F_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{}class lx extends ox{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.J_=!1}Y_(){if(this.J_)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,s,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Qo(e,fp(t,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(ee.UNKNOWN,u.toString())})}Wo(e,t,s,o,u){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Wo(e,fp(t,s),o,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new he(ee.UNKNOWN,h.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class ux{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(ar(t),this.ea=!1):ue("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js="RemoteStore";class cx{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=u,this.ca.vo(h=>{s.enqueueAndForget(async()=>{ca(this)&&(ue(Js,"Restarting streams for network reachability change."),await async function(p){const g=Se(p);g.aa.add(4),await Su(g),g.la.set("Unknown"),g.aa.delete(4),await hf(g)}(this))})}),this.la=new ux(s,o)}}async function hf(i){if(ca(i))for(const e of i.ua)await e(!0)}async function Su(i){for(const e of i.ua)await e(!1)}function Sb(i,e){const t=Se(i);t._a.has(e.targetId)||(t._a.set(e.targetId,e),hg(t)?cg(t):No(t).b_()&&ug(t,e))}function lg(i,e){const t=Se(i),s=No(t);t._a.delete(e),s.b_()&&Rb(t,e),t._a.size===0&&(s.b_()?s.v_():ca(t)&&t.la.set("Unknown"))}function ug(i,e){if(i.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}No(i).U_(e)}function Rb(i,e){i.ha.Ke(e),No(i).K_(e)}function cg(i){i.ha=new rN({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>i._a.get(e)||null,Pt:()=>i.datastore.serializer.databaseId}),No(i).start(),i.la.ta()}function hg(i){return ca(i)&&!No(i).w_()&&i._a.size>0}function ca(i){return Se(i).aa.size===0}function Ib(i){i.ha=void 0}async function hx(i){i.la.set("Online")}async function fx(i){i._a.forEach((e,t)=>{ug(i,e)})}async function dx(i,e){Ib(i),hg(i)?(i.la.ia(e),cg(i)):i.la.set("Unknown")}async function mx(i,e,t){if(i.la.set("Online"),e instanceof hb&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const m of u.targetIds)o._a.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o._a.delete(m),o.ha.removeTarget(m))}(i,e)}catch(s){ue(Js,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await zh(i,s)}else if(e instanceof Th?i.ha.Xe(e):e instanceof cb?i.ha.ot(e):i.ha.nt(e),!t.isEqual(we.min()))try{const s=await Ab(i.localStore);t.compareTo(s)>=0&&await function(u,h){const m=u.ha.It(h);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u._a.get(g);E&&u._a.set(g,E.withResumeToken(p.resumeToken,h))}}),m.targetMismatches.forEach((p,g)=>{const E=u._a.get(p);if(!E)return;u._a.set(p,E.withResumeToken(Kt.EMPTY_BYTE_STRING,E.snapshotVersion)),Rb(u,p);const b=new Hr(E.target,p,g,E.sequenceNumber);ug(u,b)}),u.remoteSyncer.applyRemoteEvent(m)}(i,t)}catch(s){ue(Js,"Failed to raise snapshot:",s),await zh(i,s)}}async function zh(i,e,t){if(!Do(e))throw e;i.aa.add(1),await Su(i),i.la.set("Offline"),t||(t=()=>Ab(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ue(Js,"Retrying IndexedDB access"),await t(),i.aa.delete(1),await hf(i)})}function Cb(i,e){return e().catch(t=>zh(i,t,e))}async function ff(i){const e=Se(i),t=ts(e);let s=e.oa.length>0?e.oa[e.oa.length-1].batchId:Qp;for(;px(e);)try{const o=await XN(e.localStore,s);if(o===null){e.oa.length===0&&t.v_();break}s=o.batchId,gx(e,o)}catch(o){await zh(e,o)}Db(e)&&Ob(e)}function px(i){return ca(i)&&i.oa.length<10}function gx(i,e){i.oa.push(e);const t=ts(i);t.b_()&&t.W_&&t.G_(e.mutations)}function Db(i){return ca(i)&&!ts(i).w_()&&i.oa.length>0}function Ob(i){ts(i).start()}async function yx(i){ts(i).H_()}async function _x(i){const e=ts(i);for(const t of i.oa)e.G_(t.mutations)}async function vx(i,e,t){const s=i.oa.shift(),o=tg.from(s,e,t);await Cb(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await ff(i)}async function Ex(i,e){e&&ts(i).W_&&await async function(s,o){if(function(h){return nN(h)&&h!==ee.ABORTED}(o.code)){const u=s.oa.shift();ts(s).D_(),await Cb(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await ff(s)}}(i,e),Db(i)&&Ob(i)}async function kT(i,e){const t=Se(i);t.asyncQueue.verifyOperationInProgress(),ue(Js,"RemoteStore received new credentials");const s=ca(t);t.aa.add(3),await Su(t),s&&t.la.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),await hf(t)}async function Tx(i,e){const t=Se(i);e?(t.aa.delete(2),await hf(t)):e||(t.aa.add(2),await Su(t),t.la.set("Unknown"))}function No(i){return i.Pa||(i.Pa=function(t,s,o){const u=Se(t);return u.Y_(),new sx(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{jo:hx.bind(null,i),Jo:fx.bind(null,i),Zo:dx.bind(null,i),Q_:mx.bind(null,i)}),i.ua.push(async e=>{e?(i.Pa.D_(),hg(i)?cg(i):i.la.set("Unknown")):(await i.Pa.stop(),Ib(i))})),i.Pa}function ts(i){return i.Ta||(i.Ta=function(t,s,o){const u=Se(t);return u.Y_(),new ax(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{jo:()=>Promise.resolve(),Jo:yx.bind(null,i),Zo:Ex.bind(null,i),z_:_x.bind(null,i),j_:vx.bind(null,i)}),i.ua.push(async e=>{e?(i.Ta.D_(),await ff(i)):(await i.Ta.stop(),i.oa.length>0&&(ue(Js,`Stopping write stream with ${i.oa.length} pending writes`),i.oa=[]))})),i.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const h=Date.now()+s,m=new fg(e,t,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dg(i,e){if(ar("AsyncQueue",`${e}: ${i}`),Do(i))return new he(ee.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{static emptySet(e){return new ho(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||pe.comparator(t.key,s.key):(t,s)=>pe.comparator(t.key,s.key),this.keyedMap=Ql(),this.sortedSet=new at(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ho)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new ho;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(){this.Ia=new at(pe.comparator)}track(e){const t=e.doc.key,s=this.Ia.get(t);s?e.type!==0&&s.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&s.type!==1?this.Ia=this.Ia.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Ia=this.Ia.remove(t):e.type===1&&s.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):Ee(63341,{Vt:e,Ea:s}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,s)=>{e.push(s)}),e}}class Eo{constructor(e,t,s,o,u,h,m,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,u){const h=[];return t.forEach(m=>{h.push({type:0,doc:m})}),new Eo(e,t,ho.emptySet(t),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class bx{constructor(){this.queries=VT(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,s){const o=Se(t),u=o.queries;o.queries=VT(),u.forEach((h,m)=>{for(const p of m.Ra)p.onError(s)})})(this,new he(ee.ABORTED,"Firestore shutting down"))}}function VT(){return new ua(i=>WA(i),sf)}async function wx(i,e){const t=Se(i);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.Va()&&e.ma()&&(s=2):(u=new Ax,s=e.ma()?0:1);try{switch(s){case 0:u.Aa=await t.onListen(o,!0);break;case 1:u.Aa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const m=dg(h,`Initialization of query '${ro(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,u),u.Ra.push(e),e.ga(t.onlineState),u.Aa&&e.pa(u.Aa)&&mg(t)}async function Sx(i,e){const t=Se(i),s=e.query;let o=3;const u=t.queries.get(s);if(u){const h=u.Ra.indexOf(e);h>=0&&(u.Ra.splice(h,1),u.Ra.length===0?o=e.ma()?0:1:!u.Va()&&e.ma()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function Rx(i,e){const t=Se(i);let s=!1;for(const o of e){const u=o.query,h=t.queries.get(u);if(h){for(const m of h.Ra)m.pa(o)&&(s=!0);h.Aa=o}}s&&mg(t)}function Ix(i,e,t){const s=Se(i),o=s.queries.get(e);if(o)for(const u of o.Ra)u.onError(t);s.queries.delete(e)}function mg(i){i.fa.forEach(e=>{e.next()})}var yp,LT;(LT=yp||(yp={})).ya="default",LT.Cache="cache";class Cx{constructor(e,t,s){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=s||{}}pa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Eo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;const s=t!=="Offline";return(!this.options.Fa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=Eo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==yp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e){this.key=e}}class xb{constructor(e){this.key=e}}class Dx{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=ke(),this.mutatedKeys=ke(),this.Ua=ZA(e),this.Ka=new ho(this.Ua)}get Wa(){return this.qa}Ga(e,t){const s=t?t.za:new PT,o=t?t.Ka:this.Ka;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,b)=>{const w=o.get(E),D=af(this.query,b)?b:null,N=!!w&&this.mutatedKeys.has(w.key),K=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let U=!1;w&&D?w.data.isEqual(D.data)?N!==K&&(s.track({type:3,doc:D}),U=!0):this.ja(w,D)||(s.track({type:2,doc:D}),U=!0,(p&&this.Ua(D,p)>0||g&&this.Ua(D,g)<0)&&(m=!0)):!w&&D?(s.track({type:0,doc:D}),U=!0):w&&!D&&(s.track({type:1,doc:w}),U=!0,(p||g)&&(m=!0)),U&&(D?(h=h.add(D),u=K?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{Ka:h,za:s,ys:m,mutatedKeys:u}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const h=e.za.da();h.sort((E,b)=>function(D,N){const K=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Vt:U})}};return K(D)-K(N)}(E.type,b.type)||this.Ua(E.doc,b.doc)),this.Ha(s),o=o!=null&&o;const m=t&&!o?this.Ja():[],p=this.$a.size===0&&this.current&&!o?1:0,g=p!==this.Qa;return this.Qa=p,h.length!==0||g?{snapshot:new Eo(this.query,e.Ka,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ya:m}:{Ya:m}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new PT,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=ke(),this.Ka.forEach(s=>{this.Za(s.key)&&(this.$a=this.$a.add(s.key))});const t=[];return e.forEach(s=>{this.$a.has(s)||t.push(new xb(s))}),this.$a.forEach(s=>{e.has(s)||t.push(new Nb(s))}),t}Xa(e){this.qa=e.Ns,this.$a=ke();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return Eo.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const pg="SyncEngine";class Ox{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class Nx{constructor(e){this.key=e,this.tu=!1}}class xx{constructor(e,t,s,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.nu={},this.ru=new ua(m=>WA(m),sf),this.iu=new Map,this.su=new Set,this.ou=new at(pe.comparator),this._u=new Map,this.au=new rg,this.uu={},this.cu=new Map,this.lu=vo.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function Mx(i,e,t=!0){const s=Ub(i);let o;const u=s.ru.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.eu()):o=await Mb(s,e,t,!0),o}async function kx(i,e){const t=Ub(i);await Mb(t,e,!0,!1)}async function Mb(i,e,t,s){const o=await WN(i.localStore,bi(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,t);let m;return s&&(m=await Px(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&t&&Sb(i.remoteStore,o),m}async function Px(i,e,t,s,o){i.Pu=(b,w,D)=>async function(K,U,Q,ie){let W=U.view.Ga(Q);W.ys&&(W=await DT(K.localStore,U.query,!1).then(({documents:P})=>U.view.Ga(P,W)));const le=ie&&ie.targetChanges.get(U.targetId),ce=ie&&ie.targetMismatches.get(U.targetId)!=null,Ae=U.view.applyChanges(W,K.isPrimaryClient,le,ce);return jT(K,U.targetId,Ae.Ya),Ae.snapshot}(i,b,w,D);const u=await DT(i.localStore,e,!0),h=new Dx(e,u.Ns),m=h.Ga(u.documents),p=wu.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),g=h.applyChanges(m,i.isPrimaryClient,p);jT(i,t,g.Ya);const E=new Ox(e,t,h);return i.ru.set(e,E),i.iu.has(t)?i.iu.get(t).push(e):i.iu.set(t,[e]),g.snapshot}async function Vx(i,e,t){const s=Se(i),o=s.ru.get(e),u=s.iu.get(o.targetId);if(u.length>1)return s.iu.set(o.targetId,u.filter(h=>!sf(h,e))),void s.ru.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await pp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&lg(s.remoteStore,o.targetId),_p(s,o.targetId)}).catch(Co)):(_p(s,o.targetId),await pp(s.localStore,o.targetId,!0))}async function Lx(i,e){const t=Se(i),s=t.ru.get(e),o=t.iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),lg(t.remoteStore,s.targetId))}async function Ux(i,e,t){const s=Gx(i);try{const o=await function(h,m){const p=Se(h),g=Ct.now(),E=m.reduce((D,N)=>D.add(N.key),ke());let b,w;return p.persistence.runTransaction("Locally write mutations","readwrite",D=>{let N=or(),K=ke();return p.Cs.getEntries(D,E).next(U=>{N=U,N.forEach((Q,ie)=>{ie.isValidDocument()||(K=K.add(Q))})}).next(()=>p.localDocuments.getOverlayedDocuments(D,N)).next(U=>{b=U;const Q=[];for(const ie of m){const W=WO(ie,b.get(ie.key).overlayedDocument);W!=null&&Q.push(new os(ie.key,W,qA(W.value.mapValue),Wn.exists(!0)))}return p.mutationQueue.addMutationBatch(D,g,Q,m)}).next(U=>{w=U;const Q=U.applyToLocalDocumentSet(b,K);return p.documentOverlayCache.saveOverlays(D,U.batchId,Q)})}).then(()=>({batchId:w.batchId,changes:eb(b)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,m,p){let g=h.uu[h.currentUser.toKey()];g||(g=new at(Ce)),g=g.insert(m,p),h.uu[h.currentUser.toKey()]=g}(s,o.batchId,t),await Ru(s,o.changes),await ff(s.remoteStore)}catch(o){const u=dg(o,"Failed to persist write");t.reject(u)}}async function kb(i,e){const t=Se(i);try{const s=await QN(t.localStore,e);e.targetChanges.forEach((o,u)=>{const h=t._u.get(u);h&&(He(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.tu=!0:o.modifiedDocuments.size>0?He(h.tu,14607):o.removedDocuments.size>0&&(He(h.tu,42227),h.tu=!1))}),await Ru(t,s,e)}catch(s){await Co(s)}}function UT(i,e,t){const s=Se(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.ru.forEach((u,h)=>{const m=h.view.ga(e);m.snapshot&&o.push(m.snapshot)}),function(h,m){const p=Se(h);p.onlineState=m;let g=!1;p.queries.forEach((E,b)=>{for(const w of b.Ra)w.ga(m)&&(g=!0)}),g&&mg(p)}(s.eventManager,e),o.length&&s.nu.Q_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function jx(i,e,t){const s=Se(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s._u.get(e),u=o&&o.key;if(u){let h=new at(pe.comparator);h=h.insert(u,Zt.newNoDocument(u,we.min()));const m=ke().add(u),p=new uf(we.min(),new Map,new at(Ce),h,m);await kb(s,p),s.ou=s.ou.remove(u),s._u.delete(e),gg(s)}else await pp(s.localStore,e,!1).then(()=>_p(s,e,t)).catch(Co)}async function Bx(i,e){const t=Se(i),s=e.batch.batchId;try{const o=await $N(t.localStore,e);Vb(t,s,null),Pb(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Ru(t,o)}catch(o){await Co(o)}}async function zx(i,e,t){const s=Se(i);try{const o=await function(h,m){const p=Se(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next(b=>(He(b!==null,37113),E=b.keys(),p.mutationQueue.removeMutationBatch(g,b))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,e);Vb(s,e,t),Pb(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Ru(s,o)}catch(o){await Co(o)}}function Pb(i,e){(i.cu.get(e)||[]).forEach(t=>{t.resolve()}),i.cu.delete(e)}function Vb(i,e,t){const s=Se(i);let o=s.uu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.uu[s.currentUser.toKey()]=o}}function _p(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.iu.get(e))i.ru.delete(s),t&&i.nu.Tu(s,t);i.iu.delete(e),i.isPrimaryClient&&i.au.Ur(e).forEach(s=>{i.au.containsKey(s)||Lb(i,s)})}function Lb(i,e){i.su.delete(e.path.canonicalString());const t=i.ou.get(e);t!==null&&(lg(i.remoteStore,t),i.ou=i.ou.remove(e),i._u.delete(t),gg(i))}function jT(i,e,t){for(const s of t)s instanceof Nb?(i.au.addReference(s.key,e),qx(i,s)):s instanceof xb?(ue(pg,"Document no longer in limbo: "+s.key),i.au.removeReference(s.key,e),i.au.containsKey(s.key)||Lb(i,s.key)):Ee(19791,{Iu:s})}function qx(i,e){const t=e.key,s=t.path.canonicalString();i.ou.get(t)||i.su.has(s)||(ue(pg,"New document in limbo: "+t),i.su.add(s),gg(i))}function gg(i){for(;i.su.size>0&&i.ou.size<i.maxConcurrentLimboResolutions;){const e=i.su.values().next().value;i.su.delete(e);const t=new pe(et.fromString(e)),s=i.lu.next();i._u.set(s,new Nx(t)),i.ou=i.ou.insert(t,s),Sb(i.remoteStore,new Hr(bi(YA(t.path)),s,"TargetPurposeLimboResolution",tf.le))}}async function Ru(i,e,t){const s=Se(i),o=[],u=[],h=[];s.ru.isEmpty()||(s.ru.forEach((m,p)=>{h.push(s.Pu(p,e,t).then(g=>{var E;if((g||t)&&s.isPrimaryClient){const b=g?!g.fromCache:(E=t==null?void 0:t.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(g){o.push(g);const b=ag.Ps(p.targetId,g);u.push(b)}}))}),await Promise.all(h),s.nu.Q_(o),await async function(p,g){const E=Se(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>te.forEach(g,w=>te.forEach(w.ls,D=>E.persistence.referenceDelegate.addReference(b,w.targetId,D)).next(()=>te.forEach(w.hs,D=>E.persistence.referenceDelegate.removeReference(b,w.targetId,D)))))}catch(b){if(!Do(b))throw b;ue(og,"Failed to update sequence numbers: "+b)}for(const b of g){const w=b.targetId;if(!b.fromCache){const D=E.Ss.get(w),N=D.snapshotVersion,K=D.withLastLimboFreeSnapshotVersion(N);E.Ss=E.Ss.insert(w,K)}}}(s.localStore,u))}async function Hx(i,e){const t=Se(i);if(!t.currentUser.isEqual(e)){ue(pg,"User change. New user:",e.toKey());const s=await Tb(t.localStore,e);t.currentUser=e,function(u,h){u.cu.forEach(m=>{m.forEach(p=>{p.reject(new he(ee.CANCELLED,h))})}),u.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ru(t,s.Ms)}}function Fx(i,e){const t=Se(i),s=t._u.get(e);if(s&&s.tu)return ke().add(s.key);{let o=ke();const u=t.iu.get(e);if(!u)return o;for(const h of u){const m=t.ru.get(h);o=o.unionWith(m.view.Wa)}return o}}function Ub(i){const e=Se(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=kb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Fx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jx.bind(null,e),e.nu.Q_=Rx.bind(null,e.eventManager),e.nu.Tu=Ix.bind(null,e.eventManager),e}function Gx(i){const e=Se(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Bx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zx.bind(null,e),e}class qh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cf(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return KN(this.persistence,new HN,e.initialUser,this.serializer)}Ru(e){return new Eb(sg.Ei,this.serializer)}Au(e){return new JN}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qh.provider={build:()=>new qh};class Kx extends qh{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){He(this.persistence.referenceDelegate instanceof Bh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new CN(s,e.asyncQueue,t)}Ru(e){const t=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new Eb(s=>Bh.Ei(s,t),this.serializer)}}class vp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>UT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Hx.bind(null,this.syncEngine),await Tx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new bx}()}createDatastore(e){const t=cf(e.databaseInfo.databaseId),s=function(u){return new rx(u)}(e.databaseInfo);return function(u,h,m,p){return new lx(u,h,m,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,u,h,m){return new cx(s,o,u,h,m)}(this.localStore,this.datastore,e.asyncQueue,t=>UT(this.syncEngine,t,0),function(){return xT.C()?new xT:new ex}())}createSyncEngine(e,t){return function(o,u,h,m,p,g,E){const b=new xx(o,u,h,m,p,g);return E&&(b.hu=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=Se(o);ue(Js,"RemoteStore shutting down."),u.aa.add(5),await Su(u),u.ca.shutdown(),u.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}vp.provider={build:()=>new vp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):ar("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns="FirestoreClient";class Qx{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Wt.UNAUTHENTICATED,this.clientId=xA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{ue(ns,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(ue(ns,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=dg(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function qm(i,e){i.asyncQueue.verifyOperationInProgress(),ue(ns,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await Tb(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function BT(i,e){i.asyncQueue.verifyOperationInProgress();const t=await Yx(i);ue(ns,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener(s=>kT(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>kT(e.remoteStore,o)),i._onlineComponents=e}async function Yx(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ue(ns,"Using user provided OfflineComponentProvider");try{await qm(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;po("Error using user provided cache. Falling back to memory cache: "+t),await qm(i,new qh)}}else ue(ns,"Using default OfflineComponentProvider"),await qm(i,new Kx(void 0));return i._offlineComponents}async function jb(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ue(ns,"Using user provided OnlineComponentProvider"),await BT(i,i._uninitializedComponentsProvider._online)):(ue(ns,"Using default OnlineComponentProvider"),await BT(i,new vp))),i._onlineComponents}function Xx(i){return jb(i).then(e=>e.syncEngine)}async function Wx(i){const e=await jb(i),t=e.eventManager;return t.onListen=Mx.bind(null,e.syncEngine),t.onUnlisten=Vx.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=kx.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Lx.bind(null,e.syncEngine),t}function Zx(i,e,t={}){const s=new Qr;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,m,p,g){const E=new $x({next:w=>{E.yu(),h.enqueueAndForget(()=>Sx(u,b)),w.fromCache&&p.source==="server"?g.reject(new he(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),b=new Cx(m,E,{includeMetadataChanges:!0,Fa:!0});return wx(u,b)}(await Wx(i),i.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zb(i,e,t){if(!t)throw new he(ee.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Jx(i,e,t,s){if(e===!0&&s===!0)throw new he(ee.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function qT(i){if(!pe.isDocumentKey(i))throw new he(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function HT(i){if(pe.isDocumentKey(i))throw new he(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function df(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ee(12329,{type:typeof i})}function ea(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new he(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=df(i);throw new he(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function eM(i,e){if(e<=0)throw new he(ee.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb="firestore.googleapis.com",FT=!0;class GT{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new he(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qb,this.ssl=FT}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:FT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=vb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<RN)throw new he(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Jx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Bb((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class mf{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new GT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new GT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new nO;switch(s.type){case"firstParty":return new aO(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,wo("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=zT.get(t);s&&(ue("ComponentProvider","Removing Datastore"),zT.delete(t),s.terminate())}(this),Promise.resolve()}}function tM(i,e,t,s={}){var o;i=ea(i,mf);const u=sa(e),h=i._getSettings(),m=Object.assign(Object.assign({},h),{emulatorOptions:i._getEmulatorOptions()}),p=`${e}:${t}`;h.host!==qb&&h.host!==p&&po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},h),{host:p,ssl:u,emulatorOptions:s});if(!Xr(g,m)&&(i._setSettings(g),u&&(Mp(`https://${p}`),wo("Firestore",!0)),s.mockUserToken)){let E,b;if(typeof s.mockUserToken=="string")E=s.mockUserToken,b=Wt.MOCK_USER;else{E=V0(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new he(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Wt(w)}i._authCredentials=new iO(new OA(E,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ls(this.firestore,e,this._query)}}class wn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wn(this.firestore,e,this._key)}}class Yr extends ls{constructor(e,t,s){super(e,t,YA(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wn(this.firestore,null,new pe(e))}withConverter(e){return new Yr(this.firestore,e,this._path)}}function pf(i,e,...t){if(i=rt(i),zb("collection","path",e),i instanceof mf){const s=et.fromString(e,...t);return HT(s),new Yr(i,null,s)}{if(!(i instanceof wn||i instanceof Yr))throw new he(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(et.fromString(e,...t));return HT(s),new Yr(i.firestore,null,s)}}function Ep(i,e,...t){if(i=rt(i),arguments.length===1&&(e=xA.newId()),zb("doc","path",e),i instanceof mf){const s=et.fromString(e,...t);return qT(s),new wn(i,null,new pe(s))}{if(!(i instanceof wn||i instanceof Yr))throw new he(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(et.fromString(e,...t));return qT(s),new wn(i.firestore,i instanceof Yr?i.converter:null,new pe(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="AsyncQueue";class $T{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new bb(this,"async_queue_retry"),this.ju=()=>{const s=zm();s&&ue(KT,"Visibility state changed to "+s.visibilityState),this.y_.A_()},this.Hu=e;const t=zm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=zm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new Qr;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!Do(e))throw e;ue(KT,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(s=>{throw this.Ku=s,this.Wu=!1,ar("INTERNAL UNHANDLED ERROR: ",QT(s)),s}).then(s=>(this.Wu=!1,s))));return this.Hu=t,t}enqueueAfterDelay(e,t,s){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const o=fg.createAndSchedule(this,e,t,s,u=>this.Xu(u));return this.Uu.push(o),o}Ju(){this.Ku&&Ee(47125,{ec:QT(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function QT(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class Iu extends mf{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new $T,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $T(e),this._firestoreClient=void 0,await e}}}function nM(i,e){const t=typeof i=="object"?i:Xh(),s=typeof i=="string"?i:kh,o=rs(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=M0("firestore");u&&tM(o,...u)}return o}function Hb(i){if(i._terminated)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||iM(i),i._firestoreClient}function iM(i){var e,t,s;const o=i._freezeSettings(),u=function(m,p,g,E){return new TO(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,Bb(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new Qx(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e){this._byteString=e}static fromBase64String(e){try{return new To(Kt.fromBase64String(e))}catch(t){throw new he(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new To(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new he(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new he(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new he(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM=/^__.*__$/;class sM{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new os(e,this.data,this.fieldMask,t,this.fieldTransforms):new bu(e,this.data,t,this.fieldTransforms)}}class Fb{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new os(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Gb(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{oc:i})}}class vg{constructor(e,t,s,o,u,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this._c(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new vg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ac({path:s,cc:!1});return o.lc(e),o}hc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ac({path:s,cc:!1});return o._c(),o}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Hh(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(Gb(this.oc)&&rM.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class aM{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||cf(e)}dc(e,t,s,o=!1){return new vg({oc:e,methodName:t,Ec:s,path:Gt.emptyPath(),cc:!1,Ic:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Eg(i){const e=i._freezeSettings(),t=cf(i._databaseId);return new aM(i._databaseId,!!e.ignoreUndefinedProperties,t)}function oM(i,e,t,s,o,u={}){const h=i.dc(u.merge||u.mergeFields?2:0,e,t,o);Ag("Data must be an object, but it was:",h,s);const m=Kb(s,h);let p,g;if(u.merge)p=new An(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const b of u.mergeFields){const w=Tp(e,b,t);if(!h.contains(w))throw new he(ee.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);Qb(E,w)||E.push(w)}p=new An(E),g=h.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,g=h.fieldTransforms;return new sM(new cn(m),p,g)}class _f extends yf{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _f}}class Tg extends yf{_toFieldTransform(e){return new $O(e.path,new du)}isEqual(e){return e instanceof Tg}}function lM(i,e,t,s){const o=i.dc(1,e,t);Ag("Data must be an object, but it was:",o,s);const u=[],h=cn.empty();as(s,(p,g)=>{const E=bg(e,p,t);g=rt(g);const b=o.hc(E);if(g instanceof _f)u.push(E);else{const w=Cu(g,b);w!=null&&(u.push(E),h.set(E,w))}});const m=new An(u);return new Fb(h,m,o.fieldTransforms)}function uM(i,e,t,s,o,u){const h=i.dc(1,e,t),m=[Tp(e,s,t)],p=[o];if(u.length%2!=0)throw new he(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(Tp(e,u[w])),p.push(u[w+1]);const g=[],E=cn.empty();for(let w=m.length-1;w>=0;--w)if(!Qb(g,m[w])){const D=m[w];let N=p[w];N=rt(N);const K=h.hc(D);if(N instanceof _f)g.push(D);else{const U=Cu(N,K);U!=null&&(g.push(D),E.set(D,U))}}const b=new An(g);return new Fb(E,b,h.fieldTransforms)}function cM(i,e,t,s=!1){return Cu(t,i.dc(s?4:3,e))}function Cu(i,e){if($b(i=rt(i)))return Ag("Unsupported field value:",e,i),Kb(i,e);if(i instanceof yf)return function(s,o){if(!Gb(o.oc))throw o.Tc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Tc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const m of s){let p=Cu(m,o.Pc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=rt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return FO(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Ct.fromDate(s);return{timestampValue:jh(o.serializer,u)}}if(s instanceof Ct){const u=new Ct(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:jh(o.serializer,u)}}if(s instanceof yg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof To)return{bytesValue:fb(o.serializer,s._byteString)};if(s instanceof wn){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Tc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:ig(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof _g)return function(h,m){return{mapValue:{fields:{[BA]:{stringValue:zA},[Ph]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw m.Tc("VectorValues must only contain numeric values.");return Jp(m.serializer,g)})}}}}}}(s,o);throw o.Tc(`Unsupported field value: ${df(s)}`)}(i,e)}function Kb(i,e){const t={};return kA(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):as(i,(s,o)=>{const u=Cu(o,e.uc(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function $b(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Ct||i instanceof yg||i instanceof To||i instanceof wn||i instanceof yf||i instanceof _g)}function Ag(i,e,t){if(!$b(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=df(t);throw s==="an object"?e.Tc(i+" a custom object"):e.Tc(i+" "+s)}}function Tp(i,e,t){if((e=rt(e))instanceof gf)return e._internalPath;if(typeof e=="string")return bg(i,e);throw Hh("Field path arguments must be of type string or ",i,!1,void 0,t)}const hM=new RegExp("[~\\*/\\[\\]]");function bg(i,e,t){if(e.search(hM)>=0)throw Hh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new gf(...e.split("."))._internalPath}catch{throw Hh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Hh(i,e,t,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new he(ee.INVALID_ARGUMENT,m+i+p)}function Qb(i,e){return i.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new fM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(wg("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class fM extends Yb{data(){return super.data()}}function wg(i,e){return typeof e=="string"?bg(i,e):e instanceof gf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dM(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new he(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sg{}class Rg extends Sg{}function mM(i,e,...t){let s=[];e instanceof Sg&&s.push(e),s=s.concat(t),function(u){const h=u.filter(p=>p instanceof Cg).length,m=u.filter(p=>p instanceof Ig).length;if(h>1||h>0&&m>0)throw new he(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class Ig extends Rg{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Ig(e,t,s)}_apply(e){const t=this._parse(e);return Xb(e._query,t),new ls(e.firestore,e.converter,cp(e._query,t))}_parse(e){const t=Eg(e.firestore);return function(u,h,m,p,g,E,b){let w;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new he(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){XT(b,E);const N=[];for(const K of b)N.push(YT(p,u,K));w={arrayValue:{values:N}}}else w=YT(p,u,b)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||XT(b,E),w=cM(m,h,b,E==="in"||E==="not-in");return At.create(g,E,w)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class Cg extends Sg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Cg(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:ei.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)Xb(h,p),h=cp(h,p)}(e._query,t),new ls(e.firestore,e.converter,cp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Dg extends Rg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Dg(e,t)}_apply(e){const t=function(o,u,h){if(o.startAt!==null)throw new he(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new he(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new fu(u,h)}(e._query,this._field,this._direction);return new ls(e.firestore,e.converter,function(o,u){const h=o.explicitOrderBy.concat([u]);return new Oo(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function pM(i,e="asc"){const t=e,s=wg("orderBy",i);return Dg._create(s,t)}class Og extends Rg{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new Og(e,t,s)}_apply(e){return new ls(e.firestore,e.converter,Lh(e._query,this._limit,this._limitType))}}function gM(i){return eM("limit",i),Og._create("limit",i,"F")}function YT(i,e,t){if(typeof(t=rt(t))=="string"){if(t==="")throw new he(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!XA(e)&&t.indexOf("/")!==-1)throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(et.fromString(t));if(!pe.isDocumentKey(s))throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return cT(i,new pe(s))}if(t instanceof wn)return cT(i,t._key);throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${df(t)}.`)}function XT(i,e){if(!Array.isArray(i)||i.length===0)throw new he(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Xb(i,e){const t=function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new he(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class yM{convertValue(e,t="none"){switch(es(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Jr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return as(e,(o,u)=>{s[o]=this.convertValue(u,t)}),s}convertVectorValue(e){var t,s,o;const u=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[Ph].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>gt(h.doubleValue));return new _g(u)}convertGeoPoint(e){return new yg(gt(e.latitude),gt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=rf(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(uu(e));default:return null}}convertTimestamp(e){const t=Zr(e);return new Ct(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=et.fromString(e);He(_b(s),9688,{name:e});const o=new cu(s.get(1),s.get(3)),u=new pe(s.popFirst(5));return o.isEqual(t)||ar(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _M(i,e,t){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vM extends Yb{constructor(e,t,s,o,u,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ah(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(wg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Ah extends vM{data(e={}){return super.data(e)}}class EM{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new oh(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Ah(this._firestore,this._userDataWriter,s.key,s,new oh(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new he(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(m=>{const p=new Ah(o._firestore,o._userDataWriter,m.doc.key,m.doc,new oh(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new Ah(o._firestore,o._userDataWriter,m.doc.key,m.doc,new oh(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:TM(m.type),doc:p,oldIndex:g,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function TM(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:i})}}class AM extends yM{constructor(e){super(),this.firestore=e}convertBytes(e){return new To(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new wn(this.firestore,null,t)}}function Ng(i){i=ea(i,ls);const e=ea(i.firestore,Iu),t=Hb(e),s=new AM(e);return dM(i._query),Zx(t,i._query).then(o=>new EM(e,s,i,o))}function bM(i,e,t,...s){i=ea(i,wn);const o=ea(i.firestore,Iu),u=Eg(o);let h;return h=typeof(e=rt(e))=="string"||e instanceof gf?uM(u,"updateDoc",i._key,e,t,s):lM(u,"updateDoc",i._key,e),xg(o,[h.toMutation(i._key,Wn.exists(!0))])}function wM(i){return xg(ea(i.firestore,Iu),[new eg(i._key,Wn.none())])}function SM(i,e){const t=ea(i.firestore,Iu),s=Ep(i),o=_M(i.converter,e);return xg(t,[oM(Eg(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Wn.exists(!1))]).then(()=>s)}function xg(i,e){return function(s,o){const u=new Qr;return s.asyncQueue.enqueueAndForget(async()=>Ux(await Xx(s),o,u)),u.promise}(Hb(i),e)}function Wb(){return new Tg("serverTimestamp")}(function(e,t=!0){(function(o){Io=o})(oa),Zn(new zn("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new Iu(new rO(s.getProvider("auth-internal")),new oO(h,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new he(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cu(g.options.projectId,E)}(h,o),h);return u=Object.assign({useFetchStreams:t},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),hn(ZE,JE,e),hn(ZE,JE,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb="firebasestorage.googleapis.com",Jb="storageBucket",RM=2*60*1e3,IM=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft extends qn{constructor(e,t,s=0){super(Hm(e),`Firebase Storage: ${t} (${Hm(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ft.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Hm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ht;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ht||(ht={}));function Hm(i){return"storage/"+i}function Mg(){const i="An unknown error occurred, please check the error payload for server response.";return new ft(ht.UNKNOWN,i)}function CM(i){return new ft(ht.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function DM(i){return new ft(ht.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function OM(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ft(ht.UNAUTHENTICATED,i)}function NM(){return new ft(ht.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function xM(i){return new ft(ht.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function MM(){return new ft(ht.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function kM(){return new ft(ht.CANCELED,"User canceled the upload/download.")}function PM(i){return new ft(ht.INVALID_URL,"Invalid URL '"+i+"'.")}function VM(i){return new ft(ht.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function LM(){return new ft(ht.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Jb+"' property when initializing the app?")}function UM(){return new ft(ht.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function jM(){return new ft(ht.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function BM(i){return new ft(ht.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Ap(i){return new ft(ht.INVALID_ARGUMENT,i)}function ew(){return new ft(ht.APP_DELETED,"The Firebase app was deleted.")}function zM(i){return new ft(ht.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function nu(i,e){return new ft(ht.INVALID_FORMAT,"String does not match format '"+i+"': "+e)}function Fl(i){throw new ft(ht.INTERNAL_ERROR,"Internal error: "+i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=bn.makeFromUrl(e,t)}catch{return new bn(e,"")}if(s.path==="")return s;throw VM(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(le){le.path.charAt(le.path.length-1)==="/"&&(le.path_=le.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+o+h,"i"),p={bucket:1,path:3};function g(le){le.path_=decodeURIComponent(le.path)}const E="v[A-Za-z0-9_]+",b=t.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",D=new RegExp(`^https?://${b}/${E}/b/${o}/o${w}`,"i"),N={bucket:1,path:3},K=t===Zb?"(?:storage.googleapis.com|storage.cloud.google.com)":t,U="([^?#]*)",Q=new RegExp(`^https?://${K}/${o}/${U}`,"i"),W=[{regex:m,indices:p,postModify:u},{regex:D,indices:N,postModify:g},{regex:Q,indices:{bucket:1,path:2},postModify:g}];for(let le=0;le<W.length;le++){const ce=W[le],Ae=ce.regex.exec(e);if(Ae){const P=Ae[ce.indices.bucket];let R=Ae[ce.indices.path];R||(R=""),s=new bn(P,R),ce.postModify(s);break}}if(s==null)throw PM(e);return s}}class qM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HM(i,e,t){let s=1,o=null,u=null,h=!1,m=0;function p(){return m===2}let g=!1;function E(...U){g||(g=!0,e.apply(null,U))}function b(U){o=setTimeout(()=>{o=null,i(D,p())},U)}function w(){u&&clearTimeout(u)}function D(U,...Q){if(g){w();return}if(U){w(),E.call(null,U,...Q);return}if(p()||h){w(),E.call(null,U,...Q);return}s<64&&(s*=2);let W;m===1?(m=2,W=0):W=(s+Math.random())*1e3,b(W)}let N=!1;function K(U){N||(N=!0,w(),!g&&(o!==null?(U||(m=2),clearTimeout(o),b(0)):U||(m=1)))}return b(0),u=setTimeout(()=>{h=!0,K(!0)},t),K}function FM(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GM(i){return i!==void 0}function KM(i){return typeof i=="object"&&!Array.isArray(i)}function kg(i){return typeof i=="string"||i instanceof String}function WT(i){return Pg()&&i instanceof Blob}function Pg(){return typeof Blob<"u"}function ZT(i,e,t,s){if(s<e)throw Ap(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>t)throw Ap(`Invalid value for '${i}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vf(i,e,t){let s=e;return t==null&&(s=`https://${e}`),`${t}://${s}/v0${i}`}function tw(i){const e=encodeURIComponent;let t="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var Xs;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(Xs||(Xs={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $M(i,e){const t=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return t||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(e,t,s,o,u,h,m,p,g,E,b,w=!0,D=!1){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=E,this.connectionFactory_=b,this.retry=w,this.isUsingEmulator=D,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((N,K)=>{this.resolve_=N,this.reject_=K,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new lh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const m=u.getErrorCode()===Xs.NO_ERROR,p=u.getStatus();if(!m||$M(p,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===Xs.ABORT;s(!1,new lh(!1,null,E));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new lh(g,u))})},t=(s,o)=>{const u=this.resolve_,h=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());GM(p)?u(p):u()}catch(p){h(p)}else if(m!==null){const p=Mg();p.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,p)):h(p)}else if(o.canceled){const p=this.appDelete_?ew():kM();h(p)}else{const p=MM();h(p)}};this.canceled_?t(!1,new lh(!1,null,!0)):this.backoffId_=HM(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&FM(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class lh{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function YM(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function XM(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function WM(i,e){e&&(i["X-Firebase-GMPID"]=e)}function ZM(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function JM(i,e,t,s,o,u,h=!0,m=!1){const p=tw(i.urlParams),g=i.url+p,E=Object.assign({},i.headers);return WM(E,e),YM(E,t),XM(E,u),ZM(E,s),new QM(g,i.method,E,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,h,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ek(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function tk(...i){const e=ek();if(e!==void 0){const t=new e;for(let s=0;s<i.length;s++)t.append(i[s]);return t.getBlob()}else{if(Pg())return new Blob(i);throw new ft(ht.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function nk(i,e,t){return i.webkitSlice?i.webkitSlice(e,t):i.mozSlice?i.mozSlice(e,t):i.slice?i.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ik(i){if(typeof atob>"u")throw BM("base-64");return atob(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Fm{constructor(e,t){this.data=e,this.contentType=t||null}}function rk(i,e){switch(i){case Ei.RAW:return new Fm(nw(e));case Ei.BASE64:case Ei.BASE64URL:return new Fm(iw(i,e));case Ei.DATA_URL:return new Fm(ak(e),ok(e))}throw Mg()}function nw(i){const e=[];for(let t=0;t<i.length;t++){let s=i.charCodeAt(t);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(t<i.length-1&&(i.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const u=s,h=i.charCodeAt(++t);s=65536|(u&1023)<<10|h&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function sk(i){let e;try{e=decodeURIComponent(i)}catch{throw nu(Ei.DATA_URL,"Malformed data URL.")}return nw(e)}function iw(i,e){switch(i){case Ei.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw nu(i,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Ei.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw nu(i,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=ik(e)}catch(o){throw o.message.includes("polyfill")?o:nu(i,"Invalid character found")}const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}class rw{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw nu(Ei.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=t[1]||null;s!=null&&(this.base64=lk(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function ak(i){const e=new rw(i);return e.base64?iw(Ei.BASE64,e.rest):sk(e.rest)}function ok(i){return new rw(i).contentType}function lk(i,e){return i.length>=e.length?i.substring(i.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e,t){let s=0,o="";WT(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(WT(this.data_)){const s=this.data_,o=nk(s,e,t);return o===null?null:new qr(o)}else{const s=new Uint8Array(this.data_.buffer,e,t-e);return new qr(s,!0)}}static getBlob(...e){if(Pg()){const t=e.map(s=>s instanceof qr?s.data_:s);return new qr(tk.apply(null,t))}else{const t=e.map(h=>kg(h)?rk(Ei.RAW,h).data:h.data_);let s=0;t.forEach(h=>{s+=h.byteLength});const o=new Uint8Array(s);let u=0;return t.forEach(h=>{for(let m=0;m<h.length;m++)o[u++]=h[m]}),new qr(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(i){let e;try{e=JSON.parse(i)}catch{return null}return KM(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uk(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function ck(i,e){const t=e.split("/").filter(s=>s.length>0).join("/");return i.length===0?t:i+"/"+t}function aw(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hk(i,e){return e}class sn{constructor(e,t,s,o){this.server=e,this.local=t||e,this.writable=!!s,this.xform=o||hk}}let uh=null;function fk(i){return!kg(i)||i.length<2?i:aw(i)}function ow(){if(uh)return uh;const i=[];i.push(new sn("bucket")),i.push(new sn("generation")),i.push(new sn("metageneration")),i.push(new sn("name","fullPath",!0));function e(u,h){return fk(h)}const t=new sn("name");t.xform=e,i.push(t);function s(u,h){return h!==void 0?Number(h):h}const o=new sn("size");return o.xform=s,i.push(o),i.push(new sn("timeCreated")),i.push(new sn("updated")),i.push(new sn("md5Hash",null,!0)),i.push(new sn("cacheControl",null,!0)),i.push(new sn("contentDisposition",null,!0)),i.push(new sn("contentEncoding",null,!0)),i.push(new sn("contentLanguage",null,!0)),i.push(new sn("contentType",null,!0)),i.push(new sn("metadata","customMetadata",!0)),uh=i,uh}function dk(i,e){function t(){const s=i.bucket,o=i.fullPath,u=new bn(s,o);return e._makeStorageReference(u)}Object.defineProperty(i,"ref",{get:t})}function mk(i,e,t){const s={};s.type="file";const o=t.length;for(let u=0;u<o;u++){const h=t[u];s[h.local]=h.xform(s,e[h.server])}return dk(s,i),s}function lw(i,e,t){const s=sw(e);return s===null?null:mk(i,s,t)}function pk(i,e,t,s){const o=sw(e);if(o===null||!kg(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const h=encodeURIComponent;return u.split(",").map(g=>{const E=i.bucket,b=i.fullPath,w="/b/"+h(E)+"/o/"+h(b),D=vf(w,t,s),N=tw({alt:"media",token:g});return D+N})[0]}function gk(i,e){const t={},s=e.length;for(let o=0;o<s;o++){const u=e[o];u.writable&&(t[u.server]=i[u.local])}return JSON.stringify(t)}class Vg{constructor(e,t,s,o){this.url=e,this.method=t,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uw(i){if(!i)throw Mg()}function yk(i,e){function t(s,o){const u=lw(i,o,e);return uw(u!==null),u}return t}function _k(i,e){function t(s,o){const u=lw(i,o,e);return uw(u!==null),pk(u,o,i.host,i._protocol)}return t}function cw(i){function e(t,s){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=NM():o=OM():t.getStatus()===402?o=DM(i.bucket):t.getStatus()===403?o=xM(i.path):o=s,o.status=t.getStatus(),o.serverResponse=s.serverResponse,o}return e}function hw(i){const e=cw(i);function t(s,o){let u=e(s,o);return s.getStatus()===404&&(u=CM(i.path)),u.serverResponse=o.serverResponse,u}return t}function vk(i,e,t){const s=e.fullServerUrl(),o=vf(s,i.host,i._protocol),u="GET",h=i.maxOperationRetryTime,m=new Vg(o,u,_k(i,t),h);return m.errorHandler=hw(e),m}function Ek(i,e){const t=e.fullServerUrl(),s=vf(t,i.host,i._protocol),o="DELETE",u=i.maxOperationRetryTime;function h(p,g){}const m=new Vg(s,o,h,u);return m.successCodes=[200,204],m.errorHandler=hw(e),m}function Tk(i,e){return i&&i.contentType||e&&e.type()||"application/octet-stream"}function Ak(i,e,t){const s=Object.assign({},t);return s.fullPath=i.path,s.size=e.size(),s.contentType||(s.contentType=Tk(null,e)),s}function bk(i,e,t,s,o){const u=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function m(){let W="";for(let le=0;le<2;le++)W=W+Math.random().toString().slice(2);return W}const p=m();h["Content-Type"]="multipart/related; boundary="+p;const g=Ak(e,s,o),E=gk(g,t),b="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+E+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,w=`\r
--`+p+"--",D=qr.getBlob(b,s,w);if(D===null)throw UM();const N={name:g.fullPath},K=vf(u,i.host,i._protocol),U="POST",Q=i.maxUploadRetryTime,ie=new Vg(K,U,yk(i,t),Q);return ie.urlParams=N,ie.headers=h,ie.body=D.uploadData(),ie.errorHandler=cw(e),ie}class wk{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Xs.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Xs.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Xs.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,s,o,u){if(this.sent_)throw Fl("cannot .send() more than once");if(sa(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),u!==void 0)for(const h in u)u.hasOwnProperty(h)&&this.xhr_.setRequestHeader(h,u[h].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Fl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Fl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Fl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Fl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Sk extends wk{initXhr(){this.xhr_.responseType="text"}}function Lg(){return new Sk}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,t){this._service=e,t instanceof bn?this._location=t:this._location=bn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new ta(e,t)}get root(){const e=new bn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return aw(this._location.path)}get storage(){return this._service}get parent(){const e=uk(this._location.path);if(e===null)return null;const t=new bn(this._location.bucket,e);return new ta(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw zM(e)}}function Rk(i,e,t){i._throwIfRoot("uploadBytes");const s=bk(i.storage,i._location,ow(),new qr(e,!0),t);return i.storage.makeRequestWithTokens(s,Lg).then(o=>({metadata:o,ref:i}))}function Ik(i){i._throwIfRoot("getDownloadURL");const e=vk(i.storage,i._location,ow());return i.storage.makeRequestWithTokens(e,Lg).then(t=>{if(t===null)throw jM();return t})}function Ck(i){i._throwIfRoot("deleteObject");const e=Ek(i.storage,i._location);return i.storage.makeRequestWithTokens(e,Lg)}function Dk(i,e){const t=ck(i._location.path,e),s=new bn(i._location.bucket,t);return new ta(i.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ok(i){return/^[A-Za-z]+:\/\//.test(i)}function Nk(i,e){return new ta(i,e)}function fw(i,e){if(i instanceof Ug){const t=i;if(t._bucket==null)throw LM();const s=new ta(t,t._bucket);return e!=null?fw(s,e):s}else return e!==void 0?Dk(i,e):i}function xk(i,e){if(e&&Ok(e)){if(i instanceof Ug)return Nk(i,e);throw Ap("To use ref(service, url), the first argument must be a Storage instance.")}else return fw(i,e)}function JT(i,e){const t=e==null?void 0:e[Jb];return t==null?null:bn.makeFromBucketSpec(t,i)}function Mk(i,e,t,s={}){i.host=`${e}:${t}`;const o=sa(e);o&&(Mp(`https://${i.host}`),wo("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(i._overrideAuthToken=typeof u=="string"?u:V0(u,i.app.options.projectId))}class Ug{constructor(e,t,s,o,u,h=!1){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=Zb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=RM,this._maxUploadRetryTime=IM,this._requests=new Set,o!=null?this._bucket=bn.makeFromBucketSpec(o,this._host):this._bucket=JT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=bn.makeFromBucketSpec(this._url,e):this._bucket=JT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){ZT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){ZT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ta(this,e)}_makeRequest(e,t,s,o,u=!0){if(this._deleted)return new qM(ew());{const h=JM(e,this._appId,s,o,t,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const e0="@firebase/storage",t0="0.13.10";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw="storage";function mw(i,e,t){return i=rt(i),Rk(i,e,t)}function pw(i){return i=rt(i),Ik(i)}function n0(i){return i=rt(i),Ck(i)}function bh(i,e){return i=rt(i),xk(i,e)}function gw(i=Xh(),e){i=rt(i),wo("Storage",!1);const s=rs(i,dw).getImmediate({identifier:e}),o=M0("storage");return o&&kk(s,...o),s}function kk(i,e,t,s={}){Mk(i,e,t,s)}function Pk(i,{instanceIdentifier:e}){const t=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new Ug(t,s,o,e,oa)}function Vk(){Zn(new zn(dw,Pk,"PUBLIC").setMultipleInstances(!0)),hn(e0,t0,""),hn(e0,t0,"esm2017")}Vk();const yw="@firebase/installations",jg="0.6.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w=1e4,vw=`w:${jg}`,Ew="FIS_v2",Lk="https://firebaseinstallations.googleapis.com/v1",Uk=60*60*1e3,jk="installations",Bk="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zk={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},na=new aa(jk,Bk,zk);function Tw(i){return i instanceof qn&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw({projectId:i}){return`${Lk}/projects/${i}/installations`}function bw(i){return{token:i.token,requestStatus:2,expiresIn:Hk(i.expiresIn),creationTime:Date.now()}}async function ww(i,e){const s=(await e.json()).error;return na.create("request-failed",{requestName:i,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function Sw({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function qk(i,{refreshToken:e}){const t=Sw(i);return t.append("Authorization",Fk(e)),t}async function Rw(i){const e=await i();return e.status>=500&&e.status<600?i():e}function Hk(i){return Number(i.replace("s","000"))}function Fk(i){return`${Ew} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gk({appConfig:i,heartbeatServiceProvider:e},{fid:t}){const s=Aw(i),o=Sw(i),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const h={fid:t,authVersion:Ew,appId:i.appId,sdkVersion:vw},m={method:"POST",headers:o,body:JSON.stringify(h)},p=await Rw(()=>fetch(s,m));if(p.ok){const g=await p.json();return{fid:g.fid||t,registrationStatus:2,refreshToken:g.refreshToken,authToken:bw(g.authToken)}}else throw await ww("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(i){return new Promise(e=>{setTimeout(e,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k=/^[cdef][\w-]{21}$/,bp="";function Qk(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const t=Yk(i);return $k.test(t)?t:bp}catch{return bp}}function Yk(i){return Kk(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ef(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw=new Map;function Dw(i,e){const t=Ef(i);Ow(t,e),Xk(t,e)}function Ow(i,e){const t=Cw.get(i);if(t)for(const s of t)s(e)}function Xk(i,e){const t=Wk();t&&t.postMessage({key:i,fid:e}),Zk()}let Ys=null;function Wk(){return!Ys&&"BroadcastChannel"in self&&(Ys=new BroadcastChannel("[Firebase] FID Change"),Ys.onmessage=i=>{Ow(i.data.key,i.data.fid)}),Ys}function Zk(){Cw.size===0&&Ys&&(Ys.close(),Ys=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jk="firebase-installations-database",eP=1,ia="firebase-installations-store";let Gm=null;function Bg(){return Gm||(Gm=B0(Jk,eP,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(ia)}}})),Gm}async function Fh(i,e){const t=Ef(i),o=(await Bg()).transaction(ia,"readwrite"),u=o.objectStore(ia),h=await u.get(t);return await u.put(e,t),await o.done,(!h||h.fid!==e.fid)&&Dw(i,e.fid),e}async function Nw(i){const e=Ef(i),s=(await Bg()).transaction(ia,"readwrite");await s.objectStore(ia).delete(e),await s.done}async function Tf(i,e){const t=Ef(i),o=(await Bg()).transaction(ia,"readwrite"),u=o.objectStore(ia),h=await u.get(t),m=e(h);return m===void 0?await u.delete(t):await u.put(m,t),await o.done,m&&(!h||h.fid!==m.fid)&&Dw(i,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zg(i){let e;const t=await Tf(i.appConfig,s=>{const o=tP(s),u=nP(i,o);return e=u.registrationPromise,u.installationEntry});return t.fid===bp?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function tP(i){const e=i||{fid:Qk(),registrationStatus:0};return xw(e)}function nP(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(na.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=iP(i,t);return{installationEntry:t,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:rP(i)}:{installationEntry:e}}async function iP(i,e){try{const t=await Gk(i,e);return Fh(i.appConfig,t)}catch(t){throw Tw(t)&&t.customData.serverCode===409?await Nw(i.appConfig):await Fh(i.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function rP(i){let e=await i0(i.appConfig);for(;e.registrationStatus===1;)await Iw(100),e=await i0(i.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:s}=await zg(i);return s||t}return e}function i0(i){return Tf(i,e=>{if(!e)throw na.create("installation-not-found");return xw(e)})}function xw(i){return sP(i)?{fid:i.fid,registrationStatus:0}:i}function sP(i){return i.registrationStatus===1&&i.registrationTime+_w<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aP({appConfig:i,heartbeatServiceProvider:e},t){const s=oP(i,t),o=qk(i,t),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const h={installation:{sdkVersion:vw,appId:i.appId}},m={method:"POST",headers:o,body:JSON.stringify(h)},p=await Rw(()=>fetch(s,m));if(p.ok){const g=await p.json();return bw(g)}else throw await ww("Generate Auth Token",p)}function oP(i,{fid:e}){return`${Aw(i)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qg(i,e=!1){let t;const s=await Tf(i.appConfig,u=>{if(!Mw(u))throw na.create("not-registered");const h=u.authToken;if(!e&&cP(h))return u;if(h.requestStatus===1)return t=lP(i,e),u;{if(!navigator.onLine)throw na.create("app-offline");const m=fP(u);return t=uP(i,m),m}});return t?await t:s.authToken}async function lP(i,e){let t=await r0(i.appConfig);for(;t.authToken.requestStatus===1;)await Iw(100),t=await r0(i.appConfig);const s=t.authToken;return s.requestStatus===0?qg(i,e):s}function r0(i){return Tf(i,e=>{if(!Mw(e))throw na.create("not-registered");const t=e.authToken;return dP(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function uP(i,e){try{const t=await aP(i,e),s=Object.assign(Object.assign({},e),{authToken:t});return await Fh(i.appConfig,s),t}catch(t){if(Tw(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await Nw(i.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Fh(i.appConfig,s)}throw t}}function Mw(i){return i!==void 0&&i.registrationStatus===2}function cP(i){return i.requestStatus===2&&!hP(i)}function hP(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+Uk}function fP(i){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},i),{authToken:e})}function dP(i){return i.requestStatus===1&&i.requestTime+_w<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mP(i){const e=i,{installationEntry:t,registrationPromise:s}=await zg(e);return s?s.catch(console.error):qg(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pP(i,e=!1){const t=i;return await gP(t),(await qg(t,e)).token}async function gP(i){const{registrationPromise:e}=await zg(i);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yP(i){if(!i||!i.options)throw Km("App Configuration");if(!i.name)throw Km("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!i.options[t])throw Km(t);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function Km(i){return na.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw="installations",_P="installations-internal",vP=i=>{const e=i.getProvider("app").getImmediate(),t=yP(e),s=rs(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},EP=i=>{const e=i.getProvider("app").getImmediate(),t=rs(e,kw).getImmediate();return{getId:()=>mP(t),getToken:o=>pP(t,o)}};function TP(){Zn(new zn(kw,vP,"PUBLIC")),Zn(new zn(_P,EP,"PRIVATE"))}TP();hn(yw,jg);hn(yw,jg,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gh="analytics",AP="firebase_id",bP="origin",wP=60*1e3,SP="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Hg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn=new Yh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Sn=new aa("analytics","Analytics",RP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IP(i){if(!i.startsWith(Hg)){const e=Sn.create("invalid-gtag-resource",{gtagURL:i});return fn.warn(e.message),""}return i}function Pw(i){return Promise.all(i.map(e=>e.catch(t=>t)))}function CP(i,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(i,e)),t}function DP(i,e){const t=CP("firebase-js-sdk-policy",{createScriptURL:IP}),s=document.createElement("script"),o=`${Hg}?l=${i}&id=${e}`;s.src=t?t==null?void 0:t.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function OP(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function NP(i,e,t,s,o,u){const h=s[o];try{if(h)await e[h];else{const p=(await Pw(t)).find(g=>g.measurementId===o);p&&await e[p.appId]}}catch(m){fn.error(m)}i("config",o,u)}async function xP(i,e,t,s,o){try{let u=[];if(o&&o.send_to){let h=o.send_to;Array.isArray(h)||(h=[h]);const m=await Pw(t);for(const p of h){const g=m.find(b=>b.measurementId===p),E=g&&e[g.appId];if(E)u.push(E);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),i("event",s,o||{})}catch(u){fn.error(u)}}function MP(i,e,t,s){async function o(u,...h){try{if(u==="event"){const[m,p]=h;await xP(i,e,t,m,p)}else if(u==="config"){const[m,p]=h;await NP(i,e,t,s,m,p)}else if(u==="consent"){const[m,p]=h;i("consent",m,p)}else if(u==="get"){const[m,p,g]=h;i("get",m,p,g)}else if(u==="set"){const[m]=h;i("set",m)}else i(u,...h)}catch(m){fn.error(m)}}return o}function kP(i,e,t,s,o){let u=function(...h){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=MP(u,i,e,t),{gtagCore:u,wrappedGtag:window[o]}}function PP(i){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Hg)&&t.src.includes(i))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP=30,LP=1e3;class UP{constructor(e={},t=LP){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Vw=new UP;function jP(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function BP(i){var e;const{appId:t,apiKey:s}=i,o={method:"GET",headers:jP(s)},u=SP.replace("{app-id}",t),h=await fetch(u,o);if(h.status!==200&&h.status!==304){let m="";try{const p=await h.json();!((e=p.error)===null||e===void 0)&&e.message&&(m=p.error.message)}catch{}throw Sn.create("config-fetch-failed",{httpStatus:h.status,responseMessage:m})}return h.json()}async function zP(i,e=Vw,t){const{appId:s,apiKey:o,measurementId:u}=i.options;if(!s)throw Sn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:s};throw Sn.create("no-api-key")}const h=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new FP;return setTimeout(async()=>{m.abort()},wP),Lw({appId:s,apiKey:o,measurementId:u},h,m,e)}async function Lw(i,{throttleEndTimeMillis:e,backoffCount:t},s,o=Vw){var u;const{appId:h,measurementId:m}=i;try{await qP(s,e)}catch(p){if(m)return fn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:h,measurementId:m};throw p}try{const p=await BP(i);return o.deleteThrottleMetadata(h),p}catch(p){const g=p;if(!HP(g)){if(o.deleteThrottleMetadata(h),m)return fn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:h,measurementId:m};throw p}const E=Number((u=g==null?void 0:g.customData)===null||u===void 0?void 0:u.httpStatus)===503?AE(t,o.intervalMillis,VP):AE(t,o.intervalMillis),b={throttleEndTimeMillis:Date.now()+E,backoffCount:t+1};return o.setThrottleMetadata(h,b),fn.debug(`Calling attemptFetch again in ${E} millis`),Lw(i,b,s,o)}}function qP(i,e){return new Promise((t,s)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(t,o);i.addEventListener(()=>{clearTimeout(u),s(Sn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function HP(i){if(!(i instanceof qn)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class FP{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function GP(i,e,t,s,o){if(o&&o.global){i("event",t,s);return}else{const u=await e,h=Object.assign(Object.assign({},s),{send_to:u});i("event",t,h)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KP(){if(Pp())try{await Vp()}catch(i){return fn.warn(Sn.create("indexeddb-unavailable",{errorInfo:i==null?void 0:i.toString()}).message),!1}else return fn.warn(Sn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function $P(i,e,t,s,o,u,h){var m;const p=zP(i);p.then(D=>{t[D.measurementId]=D.appId,i.options.measurementId&&D.measurementId!==i.options.measurementId&&fn.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${D.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(D=>fn.error(D)),e.push(p);const g=KP().then(D=>{if(D)return s.getId()}),[E,b]=await Promise.all([p,g]);PP(u)||DP(u,E.measurementId),o("js",new Date);const w=(m=h==null?void 0:h.config)!==null&&m!==void 0?m:{};return w[bP]="firebase",w.update=!0,b!=null&&(w[AP]=b),o("config",E.measurementId,w),E.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(e){this.app=e}_delete(){return delete iu[this.app.options.appId],Promise.resolve()}}let iu={},s0=[];const a0={};let $m="dataLayer",YP="gtag",o0,Uw,l0=!1;function XP(){const i=[];if(kp()&&i.push("This is a browser extension environment."),L0()||i.push("Cookies are not available."),i.length>0){const e=i.map((s,o)=>`(${o+1}) ${s}`).join(" "),t=Sn.create("invalid-analytics-context",{errorInfo:e});fn.warn(t.message)}}function WP(i,e,t){XP();const s=i.options.appId;if(!s)throw Sn.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)fn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Sn.create("no-api-key");if(iu[s]!=null)throw Sn.create("already-exists",{id:s});if(!l0){OP($m);const{wrappedGtag:u,gtagCore:h}=kP(iu,s0,a0,$m,YP);Uw=u,o0=h,l0=!0}return iu[s]=$P(i,s0,a0,e,o0,$m,t),new QP(i)}function ZP(i=Xh()){i=rt(i);const e=rs(i,Gh);return e.isInitialized()?e.getImmediate():JP(i)}function JP(i,e={}){const t=rs(i,Gh);if(t.isInitialized()){const o=t.getImmediate();if(Xr(e,t.getOptions()))return o;throw Sn.create("already-initialized")}return t.initialize({options:e})}async function e4(){if(kp()||!L0()||!Pp())return!1;try{return await Vp()}catch{return!1}}function t4(i,e,t,s){i=rt(i),GP(Uw,iu[i.app.options.appId],e,t,s).catch(o=>fn.error(o))}const u0="@firebase/analytics",c0="0.10.15";function n4(){Zn(new zn(Gh,(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return WP(s,o,t)},"PUBLIC")),Zn(new zn("analytics-internal",i,"PRIVATE")),hn(u0,c0),hn(u0,c0,"esm2017");function i(e){try{const t=e.getProvider(Gh).getImmediate();return{logEvent:(s,o,u)=>t4(t,s,o,u)}}catch(t){throw Sn.create("interop-component-reg-failed",{reason:t})}}}n4();const i4={apiKey:"AIzaSyDdChTg5vjIX8d8y5tIkHodaODAM40gAeI",authDomain:"portfolio-6acaa.firebaseapp.com",projectId:"portfolio-6acaa",storageBucket:"portfolio-6acaa.firebasestorage.app",messagingSenderId:"959291330642",appId:"1:959291330642:web:e75df866dc8f9c16aa8f8b",measurementId:"G-PBXTPDNPSZ"},Af=z0(i4),fo=nM(Af),ch=gw(Af),jw=eO(Af);e4().then(i=>{i?ZP(Af):console.log("Analytics não suportado no ambiente atual.")});const Bw=G.createContext(),r4=({children:i})=>{const[e,t]=G.useState(null),[s,o]=G.useState(!0);return G.useEffect(()=>{const u=H2(jw,h=>{t(h),o(!1)});return()=>u()},[]),S.jsx(Bw.Provider,{value:{user:e,loading:s},children:i})},Fg=()=>G.useContext(Bw);function s4({children:i}){return Fg()?i:S.jsx(b0,{to:"/login"})}/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),o4=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),h0=i=>{const e=o4(i);return e.charAt(0).toUpperCase()+e.slice(1)},zw=(...i)=>i.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim(),l4=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var u4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=G.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:h,...m},p)=>G.createElement("svg",{ref:p,...u4,width:e,height:e,stroke:i,strokeWidth:s?Number(t)*24/Number(e):t,className:zw("lucide",o),...!u&&!l4(m)&&{"aria-hidden":"true"},...m},[...h.map(([g,E])=>G.createElement(g,E)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=(i,e)=>{const t=G.forwardRef(({className:s,...o},u)=>G.createElement(c4,{ref:u,iconNode:e,className:zw(`lucide-${a4(h0(i))}`,`lucide-${i}`,s),...o}));return t.displayName=h0(i),t};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],f4=Hn("check",h4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=[["path",{d:"M16 2v2",key:"scm5qe"}],["path",{d:"M7 22v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2",key:"1waht3"}],["path",{d:"M8 2v2",key:"pbkmx"}],["circle",{cx:"12",cy:"11",r:"3",key:"itu57m"}],["rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",key:"12vinp"}]],m4=Hn("contact",d4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],qw=Hn("github",p4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],y4=Hn("house",g4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],v4=Hn("instagram",_4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],Hw=Hn("linkedin",E4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],f0=Hn("mail",T4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],b4=Hn("menu",A4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=[["path",{d:"M18 8L22 12L18 16",key:"1r0oui"}],["path",{d:"M2 12H22",key:"1m8cig"}]],Fw=Hn("move-right",w4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],Gw=Hn("scroll-text",S4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=[["circle",{cx:"10",cy:"7",r:"4",key:"e45bow"}],["path",{d:"M10.3 15H7a4 4 0 0 0-4 4v2",key:"3bnktk"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["path",{d:"m21 21-1.9-1.9",key:"1g2n9r"}]],I4=Hn("user-search",R4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],D4=Hn("x",C4);function bf(){const[i,e]=G.useState(!1),t=()=>{e(!i)},s=()=>{e(!1)};return S.jsx(S.Fragment,{children:S.jsxs("header",{className:"header",children:[S.jsx("div",{className:"logo",children:S.jsx("h1",{children:"SVinicios"})}),S.jsx("nav",{className:"nav-Desktop",children:S.jsxs("ul",{children:[S.jsx("li",{children:S.jsx(Ji,{to:"/",children:"Início"})}),S.jsx("li",{children:S.jsx(Ji,{to:"/sobre",children:"Sobre"})}),S.jsx("li",{children:S.jsx(Ji,{to:"/projects",children:"Projetos"})}),S.jsx("li",{children:S.jsx(Ji,{to:"/contact",className:"contato",children:"Contato"})})]})}),S.jsxs("nav",{className:"nav-Mobile",children:[S.jsx(b4,{className:"icon-menu",onClick:t}),S.jsxs("ul",{style:{left:i?"0":"768px"},children:[S.jsx(D4,{className:"icon-close",onClick:s}),S.jsx("li",{children:S.jsxs(Ji,{to:"/",children:[S.jsx(y4,{})," Início"]})}),S.jsx("li",{children:S.jsxs(Ji,{to:"/sobre",children:[S.jsx(I4,{}),"Sobre"]})}),S.jsx("li",{children:S.jsxs(Ji,{to:"/projects",children:[S.jsx(Gw,{})," Projetos"]})}),S.jsx("li",{children:S.jsxs(Ji,{to:"/contact",className:"contato",children:[S.jsx(m4,{})," Contato"]})})]})]})]})})}function O4(){return S.jsxs("div",{className:"banner",children:[S.jsx("h2",{children:"Amplie sua visão: veja mais projetos front end"}),S.jsxs(_u,{to:"/projects",className:"btn",children:["Ver Projetos ",S.jsx(Fw,{})]})]})}function N4(){const[i,e]=G.useState([]),[t,s]=G.useState();return G.useEffect(()=>{const o=()=>{s(window.innerWidth<768)};return o(),window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)}),G.useEffect(()=>{(async()=>{const u=t?3:6,h=mM(pf(fo,"projects"),pM("updatedAt","desc"),gM(u)),p=(await Ng(h)).docs.map(g=>({id:g.id,...g.data()}));e(p)})()},[t]),S.jsxs("div",{className:"projects",children:[S.jsx("h2",{children:"Projetos mais recentes"}),S.jsxs(_u,{to:"/projects",className:"btn btn-projects",children:["Ver todos ",S.jsx(Fw,{})]}),S.jsx("ul",{children:i.map((o,u)=>S.jsx("li",{children:S.jsxs("div",{className:"box-project",children:[S.jsx("img",{src:o.image,alt:o.title}),S.jsx("h3",{children:o.title}),S.jsx("p",{children:o.description}),S.jsxs("div",{className:"project-links",children:[S.jsx("a",{href:o.demo,target:"_blank",rel:"noopener noreferrer",children:"Ver Projeto"}),S.jsx("a",{href:o.github,target:"_blank",rel:"noopener noreferrer",children:"GitHub"})]})]})},u))})]})}const Kw="/Portf%C3%B3lioViniDev01/assets/avatar1-DnBta1xh.avif";function x4(){return S.jsxs("div",{className:"about",children:[S.jsxs("div",{className:"about-left",children:[S.jsx("h2",{children:"Que tal me conhecer melhor?"}),S.jsx("p",{children:"Desenvolvedor Front-end especializado em criar experiências digitais rápidas, escaláveis e com foco em performance, acessibilidade e design responsivo."}),S.jsx(_u,{to:"/sobre",className:"btn-about btn",children:"Saiba mais "})]}),S.jsx("div",{className:"about-right",children:S.jsx("div",{className:"image-container",children:S.jsxs("picture",{children:[S.jsx("source",{srcSet:Kw,type:"image/avif"}),S.jsx("source",{srcSet:"/assets/avatar1.webp",type:"image/webp"}),S.jsx("img",{src:"/assets/avatar1.jpg",alt:"Vinicios"})]})})})]})}function M4(){const[i,e]=G.useState(!1),[t,s]=G.useState(!1);G.useEffect(()=>{const h=()=>{e(window.innerWidth<768)};return h(),window.addEventListener("resize",h),()=>window.removeEventListener("resize",h)},[]);const o=[{title:"Design Responsivo",description:"Seu site funcionará perfeitamente em <strong>computadores, tablets e celulares</strong>."},{title:"Interface Moderna e Intuitiva",description:"<strong>Layouts limpos</strong>, agradáveis e fáceis de navegar, seguindo as últimas tendências de <strong>UI/UX</strong>."},{title:"Performance Otimizada",description:"Carregamento rápido com boas práticas de desempenho e <strong>SEO básico</strong>."},{title:"Código Limpo e Escalável",description:"Escrito com boas práticas, facilitando manutenção e futuras melhorias."},{title:"Integração com APIs",description:"Seu projeto pode se comunicar com <strong>bancos de dados</strong>, <strong>serviços externos</strong>, ou <strong>sistemas personalizados</strong>."},{title:"Funcionalidades Interativas",description:"Animações, sliders, menus dinâmicos, formulários funcionais e muito mais com <strong>JavaScript</strong> e <strong>React</strong>."},{title:"Documentação e Suporte Inicial",description:"Entrega com instruções básicas de uso e suporte para os primeiros ajustes."}],u=i&&!t?o.slice(0,4):o;return S.jsxs("div",{className:"benefits-list",children:[S.jsxs("h2",{children:["Benefícios do Projeto ",S.jsx(Gw,{})]}),S.jsx("ul",{children:u.map((h,m)=>S.jsxs("li",{className:"benefits-list__item",children:[S.jsxs("h3",{children:[S.jsx(f4,{}),h.title]}),S.jsx("p",{dangerouslySetInnerHTML:{__html:h.description}})]},m))}),i&&S.jsx(S.Fragment,{children:t?S.jsx("button",{onClick:()=>s(!1),className:"btn",style:{border:"none"},children:"Mostrar menos"}):S.jsx("button",{onClick:()=>s(!0),className:"btn",style:{border:"none"},children:"mostrar mais"})})]})}function k4(){return S.jsxs(S.Fragment,{children:[S.jsx(O4,{}),S.jsx(x4,{}),S.jsx(N4,{}),S.jsx(M4,{})]})}function Gg(){const[i,e]=G.useState(!1);return G.useEffect(()=>{const t=()=>{e(window.innerWidth<768)};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),S.jsx("footer",{children:S.jsxs("div",{className:"footer-content",children:[S.jsx("h2",{children:"Entre em contato conosco"}),i?S.jsx("a",{href:"mailto:contato.viniciosss@email.com?subject=Assunto do e-mail&body=Olá, quero falar com você sobre:",target:"_blank",children:"contato.viniciosss@gmail.com"}):S.jsx("a",{href:"https://mail.google.com/mail/?view=cm&to=contato.viniciosss@gmail.com&su=Assunto do e-mail&body=Olá, quero falar com você sobre:",target:"_blank",children:"contato.viniciosss@gmail.com"}),S.jsxs("div",{className:"socials",children:[S.jsx("div",{className:"logo",children:S.jsx("h1",{children:"SVinicios"})}),S.jsx("div",{className:"container-socials",children:S.jsxs("div",{className:"socials-icons",children:[S.jsx("a",{href:"https://www.instagram.com/viniidev01/",target:"_blank",children:S.jsx(v4,{})}),S.jsx("a",{href:"https://github.com/ViniDev01",target:"_blank",children:S.jsx(qw,{})}),S.jsx("a",{href:"https://www.linkedin.com/in/vinidev01/",target:"_blank",children:S.jsx(Hw,{})}),S.jsx("a",{href:"https://wa.me/5511945567985?text=Olá,%20gostaria%20de%20mais%20informações.",target:"_blank",children:S.jsx("div",{className:"icon-whatsapp"})})]})})]}),S.jsx("p",{children:"© 2023 SVinicios. Todos os direitos reservados."})]})})}function P4(){return S.jsxs(S.Fragment,{children:[S.jsx(bf,{}),S.jsx(k4,{}),S.jsx(Gg,{})]})}function V4(){return S.jsxs("div",{className:"banner-about",children:[S.jsxs("div",{className:"intro",children:[S.jsxs("div",{className:"title",children:[S.jsx("h1",{children:"Prazer, sou"}),S.jsx("span",{children:"Vinicios!"}),S.jsx("p",{children:"Desenvolvedor Front-End | JavaScript | React.js"})]}),S.jsxs("div",{className:"action",children:[S.jsx("a",{href:"",download:"Meu-Curriculo.pdf",children:"Download Cv"}),S.jsx("a",{href:"https://mail.google.com/mail/?view=cm&to=contato.viniciosss@gmail.com&su=Assunto do e-mail&body=Olá, quero falar com você sobre:",target:"_blank",className:"hi-desktop",children:"Entrar em contato"}),S.jsx("a",{href:"mailto:contato.viniciosss@email.com?subject=Assunto do e-mail&body=Olá, quero falar com você sobre:",target:"_blank",className:"hi-mobile",children:"Entrar em contato"})]})]}),S.jsx("div",{className:"profile",children:S.jsx("a",{href:"",target:"_blank",children:S.jsxs("picture",{children:[S.jsx("source",{srcSet:Kw,type:"image/avif"}),S.jsx("source",{srcSet:"/assets/avatar1.webp",type:"image/webp"}),S.jsx("img",{src:"/assets/avatar1.jpg",alt:"Vinicios"})]})})})]})}function L4(){return S.jsxs("div",{className:"about-text",children:[S.jsx("h2",{children:"Sobre mim"}),S.jsxs("p",{children:["Desenvolvedor Front-end especializado em criar experiências digitais rápidas, escaláveis e com foco em performance. Tenho atuado em projetos independentes e freelas, aplicando tecnologias modernas como JavaScript e React.js para construir soluções eficientes e responsivas. Durante minha formação e prática com projetos próprios, me dediquei a construir interfaces acessíveis, otimizadas e com atenção especial à usabilidade. Sigo boas práticas de código, utilizo componentes reutilizáveis e faço versionamento com Git, sempre buscando entregar resultados limpos, funcionais e fáceis de manter. Se você precisa de um site moderno, performático e feito sob medida, estou disponível para trabalhos freelance.",S.jsx("span",{children:"Entre em contato"})," — vamos tirar seu projeto do papel com qualidade e eficiência."]})]})}const U4="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAABQJJREFUWIWtll9s01UUxz/ntmMwBhFQDCBZUMfaToxBEEUFZgTJ2jJAwX+I0YkkkuCDD0hAgwEUJ4k8EGOI8UElJDUBxtqJJDA0QX0Y6CZbf2Mo/oHpUIKTbTi2/o4P3dpfS/en0/PSe84953w/v9/tvb8rDNW2qOGepgXEdCEic4DpwDggD7gM0gLagMiXiKmktPD8UNrKoBm1tTm0jnkRdAPK1CHi2qCfIa7N+Kd/N3yAiFWGyk7Q24conAGEfcS6X6FsRuvQAbaoYdaZraAbM+ScB6oQLNALIB3YMhHsKYjMBxYAuWkqv2LbSwn6Tg0OUFubQ2t+CGVp2sznqL5BwPMNIpoRHKDSGoPRZ0FeQ5jomOkEniTgOTQwQDi6B2RNwlcugj5D0HukX9FMFmrIJ8/1NvBSKoTOI+A9mRmgynoZYZcjUofGlhAs/iUrcadFml5A9T0gpzdyAbc9m8W+3wBMMrGxAGGHo/QnctyL/pM4gL/oA5S1jsgUus3OPif5BsLWx8CqXq8T7DkEfKeB+Lq6ZTWq84E6Ap7tWYNURXcjsq7XU9DZBLwn428g3HgH8JQj/d2EeEhduKhGdTewAthGdeO9WQPYshGkbysKyHZILIEpT475E+OqSBSOOvMI8EBqM7OObK3McwVhqyOykEhjQZ9omWMiRGnh30lX78vQbgXVzTdlDdGjHwFdvZ7BlqDh4NmpwDSHYMo+xWhehla5aM+crAHKPFeAmoQvMt/g7valJHXaJ1KrTDRDqzPYHceyBgAQHP3VZ1CZ7JhuY2Vxe0pBl30AuJraRdcTnNU5LAClxUEzxWDE8Yrlj+sKlnsvAW+lBmUHldaYYQGIXnR4+QbsDgdefsYi46pAqHdE7sKl+wk1XJ9fU+MeEMA24x1ep8HmkiMwgdranPQaSgu7sO3HgLZkUB5mtOsYkcaCRChsbaNjUidh6xMi0RkZAUQnObyLBpXTjkAOrWNnZiwM+poRniC5jUCZjZpGItZmItG1wCbiZ/7TqNQRsQ5R3XxLWidHf7UMSzzngOTaq70oIwCA33MYzKMpEJCHshWV99OfFSVIrCf5Wa9uzgUWOx7ghOkdVDoKywmpq1+IwPQIas8FOdtvToqZHxPDWCwIjE34tkR6T0Ld66goIM9axUAW9J0i1z0L5E2gvd881W9xmaNA359zW8pcmac+DhD0Hge+TlbKO4Trxw0IsfC2NgJFm3DHClCeB40Qv/UQ/5U9jBxRQmlhfLnaJ69HKErUG14H5+e4ynoO4cMkoXgJFlkDQmSycP04Ol0drCy+lohVWw9hc5jkpeQ4AU8JQHLPGh4kedM7PSxxgMCdl1P8aut+bD51iHcguj4pCxBqGJF2CQ0lRw0jOHDuhmHBVDWtweYo0Hf4KOhq/N7v+1LiSxCJBlCpShQa10y051ZUlgF+IAfVnfSM3MWyaX8NKhx/6gpgriOqKK8S9FQ4U+MAqdcxm/g+H5Wh9T8IlageA05i3K1AF3b3zRjXVGL2PIQlIL60uquIluP37ktvKNScG0lHVyvO/fn/Wh1oufMq7jRD+7XF/YjbwFcoG4C9QHeWwj8jspraopn9iQO4Eftxx27sRqgB3Q92Jf7i3xOZVU0bEHs5iB+4G7gxrVcM+AH0C9QcJL/lCCUlPYNRCuFoAypR4AA9uZEh/ckA9kcnkKPjMe7RxOw23K6WxKGThf0L/4a6+PdqEGUAAAAASUVORK5CYII=";function j4(){return S.jsxs("div",{className:"footer-contato",children:[S.jsx("h2",{children:"contato"}),S.jsxs("div",{className:"icons",children:[S.jsxs("div",{className:"icon",children:[S.jsxs("a",{href:"https://mail.google.com/mail/?view=cm&to=contato.viniciosss@gmail.com&su=Assunto do e-mail&body=Olá, quero falar com você sobre:",target:"_blank",className:"hi-desktop",children:[S.jsx("div",{className:"box-icon",children:S.jsx(f0,{})}),S.jsx("span",{children:"E-mail"}),S.jsx("span",{children:"contato.viniciosss@gmail.com"})]}),S.jsxs("a",{href:"mailto:contato.viniciosss@email.com?subject=Assunto do e-mail&body=Olá, quero falar com você sobre:",target:"_blank",className:"hi-mobile",children:[S.jsx("div",{className:"box-icon",children:S.jsx(f0,{})}),S.jsx("span",{children:"E-mail"}),S.jsx("span",{children:"contato.viniciosss@gmail.com"})]})]}),S.jsx("div",{className:"icon",children:S.jsxs("a",{href:"https://www.linkedin.com/in/vinidev01/",target:"_blank",children:[S.jsx("div",{className:"box-icon",children:S.jsx(Hw,{})}),S.jsx("span",{children:"Linkedin"}),S.jsx("span",{children:"@vinicios"})]})}),S.jsx("div",{className:"icon",children:S.jsxs("a",{href:"https://github.com/ViniDev01",target:"_blank",children:[S.jsx("div",{className:"box-icon",children:S.jsx(qw,{})}),S.jsx("span",{children:"Github"}),S.jsx("span",{children:"@ViniDev01"})]})}),S.jsx("div",{className:"icon",children:S.jsxs("a",{href:"https://wa.me/5511945567985?text=Olá,%20gostaria%20de%20mais%20informações.",target:"_blank",children:[S.jsx("div",{className:"box-icon",children:S.jsx("img",{src:U4,alt:"Whatsapp"})}),S.jsx("span",{children:"Whatsapp"}),S.jsx("span",{children:"11 945567985"})]})})]})]})}function B4(){return S.jsxs("div",{className:"about-page",children:[S.jsx(bf,{}),S.jsx(V4,{}),S.jsx(L4,{}),S.jsx(j4,{})]})}const z4=()=>{const[i,e]=G.useState([]);return G.useEffect(()=>{(async()=>{const o=(await Ng(pf(fo,"projects"))).docs.map(u=>({id:u.id,...u.data()}));e(o)})()},[]),S.jsxs("div",{className:"projects-container",children:[S.jsx("h1",{className:"projects-title",children:"Meus Projetos"}),S.jsx("div",{className:"projects-grid",children:i.map((t,s)=>S.jsxs("div",{className:"project-card",children:[t.image&&t.image!==""?S.jsx("img",{src:t.image,alt:t.title,className:"project-image"}):S.jsx("p",{children:"Imagem não disponível"}),S.jsxs("div",{className:"project-content",children:[S.jsx("h2",{children:t.title}),S.jsx("p",{children:t.description}),S.jsxs("div",{className:"project-links",children:[S.jsx("a",{href:t.demo,target:"_blank",rel:"noopener noreferrer",children:"Ver Projeto"}),S.jsx("a",{href:t.github,target:"_blank",rel:"noopener noreferrer",children:"GitHub"})]})]})]},s))})]})};function q4(){return S.jsxs(S.Fragment,{children:[S.jsx(bf,{}),S.jsx(z4,{}),S.jsx(Gg,{})]})}class Du{constructor(e=0,t="Network Error"){this.status=e,this.text=t}}const H4=()=>{if(!(typeof localStorage>"u"))return{get:i=>Promise.resolve(localStorage.getItem(i)),set:(i,e)=>Promise.resolve(localStorage.setItem(i,e)),remove:i=>Promise.resolve(localStorage.removeItem(i))}},Ft={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:H4()},Kg=i=>i?typeof i=="string"?{publicKey:i}:i.toString()==="[object Object]"?i:{}:{},F4=(i,e="https://api.emailjs.com")=>{if(!i)return;const t=Kg(i);Ft.publicKey=t.publicKey,Ft.blockHeadless=t.blockHeadless,Ft.storageProvider=t.storageProvider,Ft.blockList=t.blockList,Ft.limitRate=t.limitRate,Ft.origin=t.origin||e},$w=async(i,e,t={})=>{const s=await fetch(Ft.origin+i,{method:"POST",headers:t,body:e}),o=await s.text(),u=new Du(s.status,o);if(s.ok)return u;throw u},Qw=(i,e,t)=>{if(!i||typeof i!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t||typeof t!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},G4=i=>{if(i&&i.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},Yw=i=>i.webdriver||!i.languages||i.languages.length===0,Xw=()=>new Du(451,"Unavailable For Headless Browser"),K4=(i,e)=>{if(!Array.isArray(i))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},$4=i=>{var e;return!((e=i.list)!=null&&e.length)||!i.watchVariable},Q4=(i,e)=>i instanceof FormData?i.get(e):i[e],Ww=(i,e)=>{if($4(i))return!1;K4(i.list,i.watchVariable);const t=Q4(e,i.watchVariable);return typeof t!="string"?!1:i.list.includes(t)},Zw=()=>new Du(403,"Forbidden"),Y4=(i,e)=>{if(typeof i!="number"||i<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},X4=async(i,e,t)=>{const s=Number(await t.get(i)||0);return e-Date.now()+s},Jw=async(i,e,t)=>{if(!e.throttle||!t)return!1;Y4(e.throttle,e.id);const s=e.id||i;return await X4(s,e.throttle,t)>0?!0:(await t.set(s,Date.now().toString()),!1)},eS=()=>new Du(429,"Too Many Requests"),W4=async(i,e,t,s)=>{const o=Kg(s),u=o.publicKey||Ft.publicKey,h=o.blockHeadless||Ft.blockHeadless,m=o.storageProvider||Ft.storageProvider,p={...Ft.blockList,...o.blockList},g={...Ft.limitRate,...o.limitRate};return h&&Yw(navigator)?Promise.reject(Xw()):(Qw(u,i,e),G4(t),t&&Ww(p,t)?Promise.reject(Zw()):await Jw(location.pathname,g,m)?Promise.reject(eS()):$w("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:u,service_id:i,template_id:e,template_params:t}),{"Content-type":"application/json"}))},Z4=i=>{if(!i||i.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},J4=i=>typeof i=="string"?document.querySelector(i):i,eV=async(i,e,t,s)=>{const o=Kg(s),u=o.publicKey||Ft.publicKey,h=o.blockHeadless||Ft.blockHeadless,m=Ft.storageProvider||o.storageProvider,p={...Ft.blockList,...o.blockList},g={...Ft.limitRate,...o.limitRate};if(h&&Yw(navigator))return Promise.reject(Xw());const E=J4(t);Qw(u,i,e),Z4(E);const b=new FormData(E);return Ww(p,b)?Promise.reject(Zw()):await Jw(location.pathname,g,m)?Promise.reject(eS()):(b.append("lib_version","4.4.1"),b.append("service_id",i),b.append("template_id",e),b.append("user_id",u),$w("/api/v1.0/email/send-form",b))},tV={init:F4,send:W4,sendForm:eV,EmailJSResponseStatus:Du};function nV(){const[i,e]=G.useState(""),[t,s]=G.useState(""),[o,u]=G.useState("");async function h(m){if(m.preventDefault(),!i||!t||!o){alert("Por favor, preencha todos os campos");return}try{console.log("Enviando dados para EmailJS...");const p=await tV.send("service_ox1bhje","template_43pxg1i",{from_name:i,from_email:t,message:o},{publicKey:"WpzITMFsMIiGtWwLg"});console.log("Sucesso! Resposta:",p),alert("Mensagem enviada com sucesso!"),e(""),s(""),u("")}catch(p){console.error("Erro detalhado:",{message:p.message,status:p.status,text:p.text,stack:p.stack}),alert("Erro ao enviar mensagem: "+p.text)}}return S.jsxs(S.Fragment,{children:[S.jsx(bf,{}),S.jsxs("section",{className:"contact-section",children:[S.jsxs("div",{className:"contact-text",children:[S.jsx("h2",{children:"Vamos conversar?"}),S.jsx("p",{children:"Tem um projeto em mente ou só quer trocar uma ideia? Preencha o formulário e vamos falar sobre desenvolvimento front-end!"})]}),S.jsxs("form",{className:"contact-form",onSubmit:h,children:[S.jsx("input",{type:"text",placeholder:"Seu nome",onChange:m=>e(m.target.value),value:i}),S.jsx("input",{type:"email",placeholder:"Seu e-mail",onChange:m=>s(m.target.value),value:t}),S.jsx("textarea",{placeholder:"Sua mensagem",onChange:m=>u(m.target.value),value:o}),S.jsx("button",{type:"submit",children:"Enviar mensagem"})]})]}),S.jsx(Gg,{})]})}function iV(){const[i,e]=G.useState(""),[t,s]=G.useState(""),[o,u]=G.useState(""),{user:h}=Fg(),m=Cp();G.useEffect(()=>{h&&m("/admin")},[h,m]);const p=async g=>{g.preventDefault(),u("");try{await B2(jw,i,t),m("/create-project")}catch(E){u("Erro ao fazer login. Verifique suas credenciais."),console.error("Erro no login:",E)}};return S.jsx("div",{className:"login-container",children:S.jsxs("form",{onSubmit:p,children:[S.jsx("h1",{children:"Login Portfolio"}),S.jsxs("label",{children:["Seu email:",S.jsx("input",{type:"email",value:i,onChange:g=>e(g.target.value),required:!0})]}),S.jsx("br",{}),S.jsxs("label",{children:["Sua senha:",S.jsx("input",{type:"password",value:t,onChange:g=>s(g.target.value),required:!0})]}),S.jsx("br",{}),S.jsx("button",{type:"submit",children:"Login"}),o&&S.jsx("p",{className:"erro",children:o})]})})}const rV=async i=>{const e=gw(),t=bh(e,`projects/image/${i.name}`);try{const s=await mw(t,i);return await pw(s.ref)}catch(s){throw console.error("Erro ao enviar a imagem:",s),new Error("Falha ao enviar a imagem.")}},sV=async i=>{try{await SM(pf(fo,"projects"),{...i,updatedAt:Wb()})}catch(e){throw console.error("Erro ao criar projeto:",e),e}},aV=()=>{const[i,e]=G.useState({title:"",description:"",image:"",demo:"",github:""}),[t,s]=G.useState(null),o=m=>{e({...i,[m.target.name]:m.target.value})},u=m=>{s(m.target.files[0])},h=async m=>{m.preventDefault();try{let p="";t&&(p=await rV(t),console.log("Imagem URL:",p));const g={...i,image:p};await sV(g),alert("Projeto criado com sucesso!"),e({title:"",description:"",image:"",demo:"",github:""}),s(null)}catch(p){console.error("Erro ao criar projeto:",p),alert("Erro ao criar projeto.")}};return S.jsxs("div",{className:"create-project-container",children:[S.jsx("h2",{children:"Criar Novo Projeto"}),S.jsxs("form",{onSubmit:h,children:[S.jsx("input",{name:"title",placeholder:"Título",value:i.title,onChange:o,required:!0}),S.jsx("input",{name:"description",placeholder:"Descrição",value:i.description,onChange:o,required:!0}),S.jsx("label",{htmlFor:"imageUpload",className:"upload-button",children:"Selecionar imagem"}),S.jsx("input",{id:"imageUpload",type:"file",accept:"image/*",style:{display:"none"},onChange:u,required:!0}),t&&S.jsx("div",{className:"image-preview",children:S.jsx("img",{src:URL.createObjectURL(t),alt:"Prévia da imagem",className:"preview-img"})}),S.jsx("input",{name:"demo",placeholder:"Link do Projeto",value:i.demo,onChange:o,required:!0}),S.jsx("input",{name:"github",placeholder:"Link do GitHub",value:i.github,onChange:o,required:!0}),S.jsx("button",{type:"submit",children:"Salvar"})]})]})},oV="/Portf%C3%B3lioViniDev01/assets/upload-CdtPc4tP.jpg",lV=()=>{const[i,e]=G.useState([]),[t,s]=G.useState(!0),[o,u]=G.useState(null),[h,m]=G.useState({title:"",description:""});G.useEffect(()=>{(async()=>{const K=(await Ng(pf(fo,"projects"))).docs.map(U=>({id:U.id,...U.data()}));e(K),s(!1)})()},[]);const p=async(D,N)=>{if(window.confirm("Tem certeza que deseja excluir este projeto?"))try{if(await wM(Ep(fo,"projects",D)),N){const U=bh(ch,g(N));await n0(U)}e(U=>U.filter(Q=>Q.id!==D))}catch(U){console.error("Erro ao excluir projeto:",U),alert("Erro ao excluir projeto.")}},g=D=>{const N=decodeURIComponent(D.split("?")[0]),K=`https://firebasestorage.googleapis.com/v0/b/${ch.app.options.storageBucket}/o/`;return N.replace(K,"")},E=D=>{u(D.id),m({title:D.title,description:D.description,demo:D.demo,github:D.github})},b=D=>{m(N=>({...N,[D.target.name]:D.target.value}))},w=async D=>{var U;const N=Ep(fo,"projects",D.id);let K=D.image;try{if(h.newImage){const Q=h.newImage,ie=`projects/images/${Date.now()}_${Q.name}`,W=bh(ch,ie);if(await mw(W,Q),K=await pw(W),(U=D.image)!=null&&U.includes("firebasestorage.googleapis.com")){const le=bh(ch,g(D.image));await n0(le).catch(ce=>{console.warn("Falha ao remover imagem antiga:",ce.message)})}}await bM(N,{title:h.title,description:h.description,demo:h.demo,github:h.github,image:K,updatedAt:Wb()}),e(Q=>Q.map(ie=>ie.id===D.id?{...ie,title:h.title,description:h.description,demo:h.demo,github:h.github,image:K}:ie)),u(null)}catch(Q){console.error("Erro ao salvar edição:",Q),alert("Erro ao salvar edição")}};return t?S.jsx("p",{children:"Carregando projetos..."}):S.jsxs("div",{className:"manage-projects-container",children:[S.jsx("h1",{children:"Gerenciar Projetos"}),S.jsx("div",{className:"projects-grid",children:i.map(D=>S.jsx("div",{className:"project-card",children:o===D.id?S.jsxs("div",{className:"edit-form",children:[S.jsx("label",{htmlFor:"editImageUpload",className:"upload-image-button",children:S.jsx("img",{src:oV,alt:"Upload",className:"upload-icon"})}),S.jsx("input",{id:"editImageUpload",type:"file",accept:"image/*",style:{display:"none"},onChange:N=>m(K=>({...K,newImage:N.target.files[0]}))}),S.jsx("input",{name:"title",value:h.title,onChange:b,placeholder:"Título",className:"edit-input"}),S.jsx("textarea",{name:"description",value:h.description,onChange:b,placeholder:"Descrição",className:"edit-textarea"}),S.jsx("input",{name:"demo",value:h.demo,onChange:b,placeholder:"Link do Demo",className:"edit-input"}),S.jsx("input",{name:"github",value:h.github,onChange:b,placeholder:"Link do GitHub",className:"edit-input"}),S.jsx("button",{onClick:()=>w(D),children:"Salvar"}),S.jsx("button",{onClick:()=>u(null),children:"Cancelar"})]}):S.jsxs("div",{className:"project-info",children:[D.image?S.jsx("img",{src:D.image,alt:D.title,className:"project-image"}):S.jsx("p",{children:"Sem imagem"}),S.jsx("h2",{children:D.title}),S.jsx("p",{children:D.description}),S.jsx("button",{onClick:()=>E(D),children:"Editar"}),S.jsx("button",{onClick:()=>p(D.id,D.image),className:"delete-button",children:"Excluir"})]})},D.id))})]})},uV=()=>{const{user:i,loading:e}=Fg();return e?S.jsx("div",{children:"Loading..."}):i?S.jsxs(S.Fragment,{children:[S.jsx(aV,{}),S.jsx(lV,{})]}):S.jsx(b0,{to:"/login"})},cV=V1.createRoot(document.getElementById("root"));cV.render(S.jsx(C1.StrictMode,{children:S.jsx(r4,{children:S.jsx(WR,{children:S.jsxs(IR,{children:[S.jsx(Ks,{path:"/",element:S.jsx(P4,{})}),S.jsx(Ks,{path:"/sobre",element:S.jsx(B4,{})}),S.jsx(Ks,{path:"/projects",element:S.jsx(q4,{})}),S.jsx(Ks,{path:"/contact",element:S.jsx(nV,{})}),S.jsx(Ks,{path:"/login",element:S.jsx(iV,{})}),S.jsx(Ks,{path:"/admin",element:S.jsx(s4,{children:S.jsx(uV,{})})})]})})})}));
